<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Set (base.Base.Set)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">base</a> &#x00BB; <a href="../index.html">Base</a> &#x00BB; Set</nav><header class="odoc-preamble"><h1>Module <code><span>Base.Set</span></code></h1><p>This module defines the <code>Set</code> module for <code>Base</code>. Functions that construct a set take as an argument the comparator for the element type.</p></header><nav class="odoc-toc"><ul><li><a href="#modules-and-module-types-for-extending-set">Modules and module types for extending <code>Set</code></a></li></ul></nav><div class="odoc-content"><div class="odoc-include"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>('elt, 'cmp) t</span></span></code></div><div class="spec-doc"><p>The type of a set. The first type parameter identifies the type of the element, and the second identifies the comparator, which determines the comparison function that is used for ordering elements in this set. Many operations (e.g., <a href="#val-union"><code>union</code></a>), require that they be passed sets with the same element type and the same comparator type.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><span>(<span><span class="type-var">'elt</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'elt</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'cmp</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'cmp</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-comparator" class="anchored"><a href="#type-comparator" class="anchor"></a><code><span><span class="keyword">type</span> <span>('k, 'cmp) comparator</span></span><span> = <span>(<span class="keyword">module</span> <a href="../Comparator/module-type-S/index.html">Comparator.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Comparator/module-type-S/index.html#type-comparator_witness">comparator_witness</a> = <span class="type-var">'cmp</span> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../Comparator/module-type-S/index.html#type-t">t</a> = <span class="type-var">'k</span>)</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-invariants" class="anchored"><a href="#val-invariants" class="anchor"></a><code><span><span class="keyword">val</span> invariants : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Tests internal invariants of the set data structure. Returns true on success.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-comparator_s" class="anchored"><a href="#val-comparator_s" class="anchor"></a><code><span><span class="keyword">val</span> comparator_s : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span></span></code></div><div class="spec-doc"><p>Returns a first-class module that can be used to build other map/set/etc with the same notion of comparison.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-comparator" class="anchored"><a href="#val-comparator" class="anchor"></a><code><span><span class="keyword">val</span> comparator : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="../Comparator/index.html#type-t">Comparator.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Creates an empty set based on the provided comparator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-singleton" class="anchored"><a href="#val-singleton" class="anchor"></a><code><span><span class="keyword">val</span> singleton : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Creates a set based on the provided comparator that contains only the provided element.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns the cardinality of the set. <code>O(1)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_empty" class="anchored"><a href="#val-is_empty" class="anchor"></a><code><span><span class="keyword">val</span> is_empty : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_empty t</code> is <code>true</code> iff <code>t</code> is empty. <code>O(1)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mem" class="anchored"><a href="#val-mem" class="anchor"></a><code><span><span class="keyword">val</span> mem : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>mem t a</code> returns <code>true</code> iff <code>a</code> is in <code>t</code>. <code>O(log n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>add t a</code> returns a new set with <code>a</code> added to <code>t</code>, or returns <code>t</code> if <code>mem t a</code>. <code>O(log n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove" class="anchored"><a href="#val-remove" class="anchor"></a><code><span><span class="keyword">val</span> remove : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>remove t a</code> returns a new set with <code>a</code> removed from <code>t</code> if <code>mem t a</code>, or returns <code>t</code> otherwise. <code>O(log n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-union" class="anchored"><a href="#val-union" class="anchor"></a><code><span><span class="keyword">val</span> union : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>union t1 t2</code> returns the union of the two sets. <code>O(length t1 + length t2)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-union_list" class="anchored"><a href="#val-union_list" class="anchor"></a><code><span><span class="keyword">val</span> union_list : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>union c list</code> returns the union of all the sets in <code>list</code>. The <code>comparator</code> argument is required for the case where <code>list</code> is empty. <code>O(max(List.length list, n log n))</code>, where <code>n</code> is the sum of sizes of the input sets.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-inter" class="anchored"><a href="#val-inter" class="anchor"></a><code><span><span class="keyword">val</span> inter : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>inter t1 t2</code> computes the intersection of sets <code>t1</code> and <code>t2</code>. <code>O(length t1 +
      length t2)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-diff" class="anchored"><a href="#val-diff" class="anchor"></a><code><span><span class="keyword">val</span> diff : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>diff t1 t2</code> computes the set difference <code>t1 - t2</code>, i.e., the set containing all elements in <code>t1</code> that are not in <code>t2</code>. <code>O(length t1 + length t2)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-symmetric_diff" class="anchored"><a href="#val-symmetric_diff" class="anchor"></a><code><span><span class="keyword">val</span> symmetric_diff : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="../Either/index.html#type-t">Either.t</a></span> <a href="../Sequence/index.html#type-t">Sequence.t</a></span></span></code></div><div class="spec-doc"><p><code>symmetric_diff t1 t2</code> returns a sequence of changes between <code>t1</code> and <code>t2</code>. It is intended to be efficient in the case where <code>t1</code> and <code>t2</code> share a large amount of structure.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_direct" class="anchored"><a href="#val-compare_direct" class="anchor"></a><code><span><span class="keyword">val</span> compare_direct : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare_direct t1 t2</code> compares the sets <code>t1</code> and <code>t2</code>. It returns the same result as <code>compare</code>, but unlike compare, doesn't require arguments to be passed in for the type parameters of the set. <code>O(length t1 + length t2)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_fold_direct" class="anchored"><a href="#val-hash_fold_direct" class="anchor"></a><code><span><span class="keyword">val</span> hash_fold_direct : <span><span><span class="type-var">'a</span> <a href="../Hash/index.html#type-folder">Hash.folder</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <a href="../Hash/index.html#type-folder">Hash.folder</a></span></span></code></div><div class="spec-doc"><p>Hash function: a building block to use when hashing data structures containing sets in them. <code>hash_fold_direct hash_fold_key</code> is compatible with <code>compare_direct</code> iff <code>hash_fold_key</code> is compatible with <code>(comparator s).compare</code> of the set <code>s</code> being hashed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>equal t1 t2</code> returns <code>true</code> iff the two sets have the same elements. <code>O(length t1 +
      length t2)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-exists" class="anchored"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>exists t ~f</code> returns <code>true</code> iff there exists an <code>a</code> in <code>t</code> for which <code>f a</code>. <code>O(n)</code>, but returns as soon as it finds an <code>a</code> for which <code>f a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-for_all" class="anchored"><a href="#val-for_all" class="anchor"></a><code><span><span class="keyword">val</span> for_all : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>for_all t ~f</code> returns <code>true</code> iff for all <code>a</code> in <code>t</code>, <code>f a</code>. <code>O(n)</code>, but returns as soon as it finds an <code>a</code> for which <code>not (f a)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-count" class="anchored"><a href="#val-count" class="anchor"></a><code><span><span class="keyword">val</span> count : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>count t</code> returns the number of elements of <code>t</code> for which <code>f</code> returns <code>true</code>. <code>O(n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sum" class="anchored"><a href="#val-sum" class="anchor"></a><code><span><span class="keyword">val</span> sum : <span><span>(<span class="keyword">module</span> <a href="../Container/module-type-Summable/index.html">Container.Summable</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Container/module-type-Summable/index.html#type-t">t</a> = <span class="type-var">'sum</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'sum</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'sum</span></span></code></div><div class="spec-doc"><p><code>sum t</code> returns the sum of <code>f t</code> for each <code>t</code> in the set. <code>O(n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>find t f</code> returns an element of <code>t</code> for which <code>f</code> returns true, with no guarantee as to which element is returned. <code>O(n)</code>, but returns as soon as a suitable element is found.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_map" class="anchored"><a href="#val-find_map" class="anchor"></a><code><span><span class="keyword">val</span> find_map : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span></span></code></div><div class="spec-doc"><p><code>find_map t f</code> returns <code>b</code> for some <code>a</code> in <code>t</code> for which <code>f a = Some b</code>. If no such <code>a</code> exists, then <code>find</code> returns <code>None</code>. <code>O(n)</code>, but returns as soon as a suitable element is found.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_exn" class="anchored"><a href="#val-find_exn" class="anchor"></a><code><span><span class="keyword">val</span> find_exn : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Like <code>find</code>, but throws an exception on failure.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nth" class="anchored"><a href="#val-nth" class="anchor"></a><code><span><span class="keyword">val</span> nth : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>nth t i</code> returns the <code>i</code>th smallest element of <code>t</code>, in <code>O(log n)</code> time. The smallest element has <code>i = 0</code>. Returns <code>None</code> if <code>i &lt; 0</code> or <code>i &gt;= length t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_index" class="anchored"><a href="#val-remove_index" class="anchor"></a><code><span><span class="keyword">val</span> remove_index : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>remove_index t i</code> returns a version of <code>t</code> with the <code>i</code>th smallest element removed, in <code>O(log n)</code> time. The smallest element has <code>i = 0</code>. Returns <code>t</code> if <code>i &lt; 0</code> or <code>i &gt;= length t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_subset" class="anchored"><a href="#val-is_subset" class="anchor"></a><code><span><span class="keyword">val</span> is_subset : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>of_:<span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_subset t1 ~of_:t2</code> returns true iff <code>t1</code> is a subset of <code>t2</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-are_disjoint" class="anchored"><a href="#val-are_disjoint" class="anchor"></a><code><span><span class="keyword">val</span> are_disjoint : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>are_disjoint t1 t2</code> returns <code>true</code> iff <code>is_empty (inter t1 t2)</code>, but is more efficient.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Named" class="anchored"><a href="#module-Named" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Named/index.html">Named</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>Named</code> allows the validation of subset and equality relationships between sets. A <code>Named.t</code> is a record of a set and a name, where the name is used in error messages, and <code>Named.is_subset</code> and <code>Named.equal</code> validate subset and equality relationships respectively.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_list" class="anchored"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The list or array given to <code>of_list</code> and <code>of_array</code> need not be sorted.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_array" class="anchored"><a href="#val-of_array" class="anchor"></a><code><span><span class="keyword">val</span> of_array : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_list" class="anchored"><a href="#val-to_list" class="anchor"></a><code><span><span class="keyword">val</span> to_list : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> list</span></span></code></div><div class="spec-doc"><p><code>to_list</code> and <code>to_array</code> produce sequences sorted in ascending order according to the comparator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_array" class="anchored"><a href="#val-to_array" class="anchor"></a><code><span><span class="keyword">val</span> to_array : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-of_sorted_array" class="anchored"><a href="#val-of_sorted_array" class="anchor"></a><code><span><span class="keyword">val</span> of_sorted_array : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <a href="../Or_error/index.html#type-t">Or_error.t</a></span></span></code></div><div class="spec-doc"><p>Create set from sorted array. The input must be sorted (either in ascending or descending order as given by the comparator) and contain no duplicates, otherwise the result is an error. The complexity of this function is <code>O(n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_sorted_array_unchecked" class="anchored"><a href="#val-of_sorted_array_unchecked" class="anchor"></a><code><span><span class="keyword">val</span> of_sorted_array_unchecked : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Similar to <code>of_sorted_array</code>, but without checking the input array.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_increasing_iterator_unchecked" class="anchored"><a href="#val-of_increasing_iterator_unchecked" class="anchor"></a><code><span><span class="keyword">val</span> of_increasing_iterator_unchecked : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span>len:int <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
<span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_increasing_iterator_unchecked c ~len ~f</code> behaves like <code>of_sorted_array_unchecked c
      (Array.init len ~f)</code>, with the additional restriction that a decreasing order is not supported. The advantage is not requiring you to allocate an intermediate array. <code>f</code> will be called with 0, 1, ... <code>len - 1</code>, in order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-stable_dedup_list" class="anchored"><a href="#val-stable_dedup_list" class="anchor"></a><code><span><span class="keyword">val</span> stable_dedup_list : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> list</span></span></code></div><div class="spec-doc"><p><code>stable_dedup_list</code> is here rather than in the <code>List</code> module because the implementation relies crucially on sets, and because doing so allows one to avoid uses of polymorphic comparison by instantiating the functor at a different implementation of <code>Comparator</code> and using the resulting <code>stable_dedup_list</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>map c t ~f</code> returns a new set created by applying <code>f</code> to every element in <code>t</code>. The returned set is based on the provided <code>comparator</code>. <code>O(n log n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter_map" class="anchored"><a href="#val-filter_map" class="anchor"></a><code><span><span class="keyword">val</span> filter_map : <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Like <a href="#val-map"><code>map</code></a>, except elements for which <code>f</code> returns <code>None</code> will be dropped.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>filter t ~f</code> returns the subset of <code>t</code> for which <code>f</code> evaluates to true. <code>O(n log
      n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'accum</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'accum</span></span></code></div><div class="spec-doc"><p><code>fold t ~init ~f</code> folds over the elements of the set from smallest to largest.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_result" class="anchored"><a href="#val-fold_result" class="anchor"></a><code><span><span class="keyword">val</span> fold_result : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'accum</span>, <span class="type-var">'e</span>)</span> <a href="../Result/index.html#type-t">Result.t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
<span><span>(<span class="type-var">'accum</span>, <span class="type-var">'e</span>)</span> <a href="../Result/index.html#type-t">Result.t</a></span></span></code></div><div class="spec-doc"><p><code>fold_result ~init ~f</code> folds over the elements of the set from smallest to largest, short circuiting the fold if <code>f accum x</code> is an <code>Error _</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_until" class="anchored"><a href="#val-fold_until" class="anchor"></a><code><span><span class="keyword">val</span> fold_until : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'accum</span>, <span class="type-var">'final</span>)</span> <span class="xref-unresolved">Base__Set_intf.Continue_or_stop.t</span></span>)</span> <span class="arrow">&#45;&gt;</span></span>
<span>finish:<span>(<span><span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'final</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'final</span></span></code></div><div class="spec-doc"><p><code>fold_until t ~init ~f</code> is a short-circuiting version of <code>fold</code>. If <code>f</code> returns <code>Stop _</code> the computation ceases and results in that value. If <code>f</code> returns <code>Continue _</code>, the fold will proceed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_right" class="anchored"><a href="#val-fold_right" class="anchor"></a><code><span><span class="keyword">val</span> fold_right : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'accum</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'accum</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'accum</span></span></code></div><div class="spec-doc"><p>Like <a href="#val-fold"><code>fold</code></a>, except that it goes from the largest to the smallest element.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter t ~f</code> calls <code>f</code> on every element of <code>t</code>, going in order from the smallest to largest.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter2" class="anchored"><a href="#val-iter2" class="anchor"></a><code><span><span class="keyword">val</span> iter2 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span>[ <span>`Left of <span class="type-var">'a</span></span> <span><span>| `Right</span> of <span class="type-var">'a</span></span> <span><span>| `Both</span> of <span class="type-var">'a</span> * <span class="type-var">'a</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span> unit)</span>
<span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Iterate two sets side by side. Complexity is <code>O(m+n)</code> where <code>m</code> and <code>n</code> are the sizes of the two input sets. As an example, with the inputs <code>0; 1</code> and <code>1; 2</code>, <code>f</code> will be called with <code>`Left 0</code>; <code>`Both (1, 1)</code>; and <code>`Right 2</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-partition_tf" class="anchored"><a href="#val-partition_tf" class="anchor"></a><code><span><span class="keyword">val</span> partition_tf : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> * <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>if <code>a, b = partition_tf set ~f</code> then <code>a</code> is the elements on which <code>f</code> produced <code>true</code>, and <code>b</code> is the elements on which <code>f</code> produces <code>false</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-elements" class="anchored"><a href="#val-elements" class="anchor"></a><code><span><span class="keyword">val</span> elements : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> list</span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-to_list"><code>to_list</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-min_elt" class="anchored"><a href="#val-min_elt" class="anchor"></a><code><span><span class="keyword">val</span> min_elt : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p>Returns the smallest element of the set. <code>O(log n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-min_elt_exn" class="anchored"><a href="#val-min_elt_exn" class="anchor"></a><code><span><span class="keyword">val</span> min_elt_exn : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Like <a href="#val-min_elt"><code>min_elt</code></a>, but throws an exception when given an empty set.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_elt" class="anchored"><a href="#val-max_elt" class="anchor"></a><code><span><span class="keyword">val</span> max_elt : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p>Returns the largest element of the set. <code>O(log n)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_elt_exn" class="anchored"><a href="#val-max_elt_exn" class="anchor"></a><code><span><span class="keyword">val</span> max_elt_exn : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Like <a href="#val-max_elt"><code>max_elt</code></a>, but throws an exception when given an empty set.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-choose" class="anchored"><a href="#val-choose" class="anchor"></a><code><span><span class="keyword">val</span> choose : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p>returns an arbitrary element, or <code>None</code> if the set is empty.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-choose_exn" class="anchored"><a href="#val-choose_exn" class="anchor"></a><code><span><span class="keyword">val</span> choose_exn : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Like <a href="#val-choose"><code>choose</code></a>, but throws an exception on an empty set.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-split" class="anchored"><a href="#val-split" class="anchor"></a><code><span><span class="keyword">val</span> split : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> * <span><span class="type-var">'a</span> option</span> * <span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>split t x</code> produces a triple <code>(t1, maybe_x, t2)</code> where <code>t1</code> is the set of elements strictly less than <code>x</code>, <code>maybe_x</code> is the member (if any) of <code>t</code> which compares equal to <code>x</code>, and <code>t2</code> is the set of elements strictly larger than <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-group_by" class="anchored"><a href="#val-group_by" class="anchor"></a><code><span><span class="keyword">val</span> group_by : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>equiv:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> list</span></span></code></div><div class="spec-doc"><p>if <code>equiv</code> is an equivalence predicate, then <code>group_by set ~equiv</code> produces a list of equivalence classes (i.e., a set-theoretic quotient). E.g.,</p><pre><code>let chars = Set.of_list ['A'; 'a'; 'b'; 'c'] in
let equiv c c' = Char.equal (Char.uppercase c) (Char.uppercase c') in
group_by chars ~equiv</code></pre><p>produces:</p><pre><code>[Set.of_list ['A';'a']; Set.singleton 'b'; Set.singleton 'c']</code></pre><p><code>group_by</code> runs in O(n^2) time, so if you have a comparison function, it's usually much faster to use <code>Set.of_list</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_sequence" class="anchored"><a href="#val-to_sequence" class="anchor"></a><code><span><span class="keyword">val</span> to_sequence : <span>?order:<span>[ `Increasing <span>| `Decreasing</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
<span>?greater_or_equal_to:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>?less_or_equal_to:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../Sequence/index.html#type-t">Sequence.t</a></span></span></code></div><div class="spec-doc"><p><code>to_sequence t</code> converts the set <code>t</code> to a sequence of the elements between <code>greater_or_equal_to</code> and <code>less_or_equal_to</code> inclusive in the order indicated by <code>order</code>. If <code>greater_or_equal_to &gt; less_or_equal_to</code> the sequence is empty. Cost is O(log n) up front and amortized O(1) for each element produced.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-binary_search" class="anchored"><a href="#val-binary_search" class="anchor"></a><code><span><span class="keyword">val</span> binary_search : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>compare:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span>
<span><span>[ `Last_strictly_less_than <span>| `Last_less_than_or_equal_to</span> <span>| `Last_equal_to</span> <span>| `First_equal_to</span> <span>| `First_greater_than_or_equal_to</span> <span>| `First_strictly_greater_than</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'key</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>binary_search t ~compare which elt</code> returns the element in <code>t</code> specified by <code>compare</code> and <code>which</code>, if one exists.</p><p><code>t</code> must be sorted in increasing order according to <code>compare</code>, where <code>compare</code> and <code>elt</code> divide <code>t</code> into three (possibly empty) segments:</p><pre>        |  &lt; elt  |  = elt  |  &gt; elt  |</pre><p><code>binary_search</code> returns an element on the boundary of segments as specified by <code>which</code>. See the diagram below next to the <code>which</code> variants.</p><p><code>binary_search</code> does not check that <code>compare</code> orders <code>t</code>, and behavior is unspecified if <code>compare</code> doesn't order <code>t</code>. Behavior is also unspecified if <code>compare</code> mutates <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-binary_search_segmented" class="anchored"><a href="#val-binary_search_segmented" class="anchor"></a><code><span><span class="keyword">val</span> binary_search_segmented : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>segment_of:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>[ `Left <span>| `Right</span> ]</span>)</span>
<span class="arrow">&#45;&gt;</span></span> <span><span>[ `Last_on_left <span>| `First_on_right</span> ]</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>binary_search_segmented t ~segment_of which</code> takes a <code>segment_of</code> function that divides <code>t</code> into two (possibly empty) segments:</p><pre>        | segment_of elt = `Left | segment_of elt = `Right |</pre><p><code>binary_search_segmented</code> returns the element on the boundary of the segments as specified by <code>which</code>: <code>`Last_on_left</code> yields the last element of the left segment, while <code>`First_on_right</code> yields the first element of the right segment. It returns <code>None</code> if the segment is empty.</p><p><code>binary_search_segmented</code> does not check that <code>segment_of</code> segments <code>t</code> as in the diagram, and behavior is unspecified if <code>segment_of</code> doesn't segment <code>t</code>. Behavior is also unspecified if <code>segment_of</code> mutates <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Merge_to_sequence_element" class="anchored"><a href="#module-Merge_to_sequence_element" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Merge_to_sequence_element/index.html">Merge_to_sequence_element</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Produces the elements of the two sets between <code>greater_or_equal_to</code> and <code>less_or_equal_to</code> in <code>order</code>, noting whether each element appears in the left set, the right set, or both. In the both case, both elements are returned, in case the caller can distinguish between elements that are equal to the sets' comparator. Runs in O(length t + length t').</p></div></div><div class="odoc-spec"><div class="spec value" id="val-merge_to_sequence" class="anchored"><a href="#val-merge_to_sequence" class="anchor"></a><code><span><span class="keyword">val</span> merge_to_sequence : <span>?order:<span>[ `Increasing <span>| `Decreasing</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
<span>?greater_or_equal_to:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>?less_or_equal_to:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>)</span> <a href="Merge_to_sequence_element/index.html#type-t">Merge_to_sequence_element.t</a></span> <a href="../Sequence/index.html#type-t">Sequence.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-M" class="anchored"><a href="#module-M" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="M/index.html">M</a></span><span> (<a href="M/argument-1-Elt/index.html">Elt</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>M</code> is meant to be used in combination with OCaml applicative functor types:</p></div></div><div class="odoc-include"><div class="odoc-spec"><div class="spec module-type" id="module-type-Sexp_of_m" class="anchored"><a href="#module-type-Sexp_of_m" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Sexp_of_m/index.html">Sexp_of_m</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-M_of_sexp" class="anchored"><a href="#module-type-M_of_sexp" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-M_of_sexp/index.html">M_of_sexp</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Compare_m" class="anchored"><a href="#module-type-Compare_m" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Compare_m/index.html">Compare_m</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Equal_m" class="anchored"><a href="#module-type-Equal_m" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Equal_m/index.html">Equal_m</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Hash_fold_m" class="anchored"><a href="#module-type-Hash_fold_m" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span>Hash_fold_m</span><span> = <a href="../Hasher/module-type-S/index.html">Hasher.S</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_m__t" class="anchored"><a href="#val-sexp_of_m__t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_m__t : <span><span>(<span class="keyword">module</span> <a href="module-type-Sexp_of_m/index.html">Sexp_of_m</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-Sexp_of_m/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Sexp/index.html#type-t">Sexp.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-m__t_of_sexp" class="anchored"><a href="#val-m__t_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> m__t_of_sexp : <span><span>(<span class="keyword">module</span> <a href="module-type-M_of_sexp/index.html">M_of_sexp</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="module-type-M_of_sexp/index.html#type-comparator_witness">comparator_witness</a> = <span class="type-var">'cmp</span> <span class="keyword">and</span> <span class="keyword">type</span> <a href="module-type-M_of_sexp/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Sexp/index.html#type-t">Sexp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'elt</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_m__t" class="anchored"><a href="#val-compare_m__t" class="anchor"></a><code><span><span class="keyword">val</span> compare_m__t : <span><span>(<span class="keyword">module</span> <a href="module-type-Compare_m/index.html">Compare_m</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_m__t" class="anchored"><a href="#val-equal_m__t" class="anchor"></a><code><span><span class="keyword">val</span> equal_m__t : <span><span>(<span class="keyword">module</span> <a href="module-type-Equal_m/index.html">Equal_m</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">'cmp</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_fold_m__t" class="anchored"><a href="#val-hash_fold_m__t" class="anchor"></a><code><span><span class="keyword">val</span> hash_fold_m__t : <span><span>(<span class="keyword">module</span> <a href="../Hasher/module-type-S/index.html">Hash_fold_m</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Hasher/module-type-S/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Hash/index.html#type-state">Hash.state</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Hash/index.html#type-state">Hash.state</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-hash_m__t" class="anchored"><a href="#val-hash_m__t" class="anchor"></a><code><span><span class="keyword">val</span> hash_m__t : <span><span>(<span class="keyword">module</span> <a href="../Hasher/module-type-S/index.html">Hash_fold_m</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Hasher/module-type-S/index.html#type-t">t</a> = <span class="type-var">'elt</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'elt</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div></div><div class="odoc-spec"><div class="spec module" id="module-Poly" class="anchored"><a href="#module-Poly" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Poly/index.html">Poly</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A polymorphic Set.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Using_comparator" class="anchored"><a href="#module-Using_comparator" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Using_comparator/index.html">Using_comparator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Using comparator is a similar interface as the toplevel of <code>Set</code>, except the functions take a <code>~comparator:('elt, 'cmp) Comparator.t</code> where the functions at the toplevel of <code>Set</code> takes a <code>('elt, 'cmp) comparator</code>.</p></div></div><h3 id="modules-and-module-types-for-extending-set"><a href="#modules-and-module-types-for-extending-set" class="anchor"></a>Modules and module types for extending <code>Set</code></h3><p>For use in extensions of Base, like <code>Core_kernel</code>.</p><div class="odoc-spec"><div class="spec module" id="module-With_comparator" class="anchored"><a href="#module-With_comparator" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="With_comparator/index.html">With_comparator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-With_first_class_module" class="anchored"><a href="#module-With_first_class_module" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="With_first_class_module/index.html">With_first_class_module</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Without_comparator" class="anchored"><a href="#module-Without_comparator" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Without_comparator/index.html">Without_comparator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-For_deriving" class="anchored"><a href="#module-type-For_deriving" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-For_deriving/index.html">For_deriving</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-S_poly" class="anchored"><a href="#module-type-S_poly" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-S_poly/index.html">S_poly</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Accessors0" class="anchored"><a href="#module-type-Accessors0" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Accessors0/index.html">Accessors0</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Accessors1" class="anchored"><a href="#module-type-Accessors1" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Accessors1/index.html">Accessors1</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Accessors2" class="anchored"><a href="#module-type-Accessors2" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Accessors2/index.html">Accessors2</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Accessors2_with_comparator" class="anchored"><a href="#module-type-Accessors2_with_comparator" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Accessors2_with_comparator/index.html">Accessors2_with_comparator</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Accessors_generic" class="anchored"><a href="#module-type-Accessors_generic" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Accessors_generic/index.html">Accessors_generic</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators0" class="anchored"><a href="#module-type-Creators0" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators0/index.html">Creators0</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators1" class="anchored"><a href="#module-type-Creators1" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators1/index.html">Creators1</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators2" class="anchored"><a href="#module-type-Creators2" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators2/index.html">Creators2</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators2_with_comparator" class="anchored"><a href="#module-type-Creators2_with_comparator" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators2_with_comparator/index.html">Creators2_with_comparator</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators_and_accessors0" class="anchored"><a href="#module-type-Creators_and_accessors0" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators_and_accessors0/index.html">Creators_and_accessors0</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators_and_accessors1" class="anchored"><a href="#module-type-Creators_and_accessors1" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators_and_accessors1/index.html">Creators_and_accessors1</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators_and_accessors2" class="anchored"><a href="#module-type-Creators_and_accessors2" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators_and_accessors2/index.html">Creators_and_accessors2</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators_and_accessors2_with_comparator" class="anchored"><a href="#module-type-Creators_and_accessors2_with_comparator" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators_and_accessors2_with_comparator/index.html">Creators_and_accessors2_with_comparator</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Creators_generic" class="anchored"><a href="#module-type-Creators_generic" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Creators_generic/index.html">Creators_generic</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Elt_plain" class="anchored"><a href="#module-type-Elt_plain" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Elt_plain/index.html">Elt_plain</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></div></body></html>