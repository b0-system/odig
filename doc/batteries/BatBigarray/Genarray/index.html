<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Genarray (batteries.BatBigarray.Genarray)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">batteries</a> &#x00BB; <a href="../index.html">BatBigarray</a> &#x00BB; Genarray</nav><header class="odoc-preamble"><h1>Module <code><span>BatBigarray.Genarray</span></code></h1><p>Generic arrays (of arbitrarily many dimensions)</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b, 'c) t</span></span><span> = <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml/Stdlib/Bigarray/Genarray/index.html#type-t">Bigarray.Genarray.t</a></span></span></code></div><div class="spec-doc"><p>The type <code>Genarray.t</code> is the type of big arrays with variable numbers of dimensions. Any number of dimensions between 1 and 16 is supported.</p><p>The three type parameters to <code>Genarray.t</code> identify the array element kind and layout, as follows:</p><ul><li>the first parameter, <code>'a</code>, is the OCaml type for accessing array elements (<code>float</code>, <code>int</code>, <code>int32</code>, <code>int64</code>, <code>nativeint</code>);</li><li>the second parameter, <code>'b</code>, is the actual kind of array elements (<code>float32_elt</code>, <code>float64_elt</code>, <code>int8_signed_elt</code>, <code>int8_unsigned_elt</code>, etc);</li><li>the third parameter, <code>'c</code>, identifies the array layout (<code>c_layout</code> or <code>fortran_layout</code>).</li></ul><p>For instance, <code>(float, float32_elt, fortran_layout) Genarray.t</code> is the type of generic big arrays containing 32-bit floats in Fortran layout; reads and writes in this array use the OCaml type <code>float</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-kind">kind</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="../index.html#type-layout">layout</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>Genarray.create kind layout dimensions</code> returns a new big array whose element kind is determined by the parameter <code>kind</code> (one of <code>float32</code>, <code>float64</code>, <code>int8_signed</code>, etc) and whose layout is determined by the parameter <code>layout</code> (one of <code>c_layout</code> or <code>fortran_layout</code>). The <code>dimensions</code> parameter is an array of integers that indicate the size of the big array in each dimension. The length of <code>dimensions</code> determines the number of dimensions of the bigarray.</p><p>For instance, <code>Genarray.create int32 c_layout [|4;6;8|]</code> returns a fresh big array of 32-bit integers, in C layout, having three dimensions, the three dimensions being 4, 6 and 8 respectively.</p><p>Big arrays returned by <code>Genarray.create</code> are not initialized: the initial values of array elements is unspecified.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the number of dimensions is not in the range 1 to 16 inclusive, or if one of the dimensions is negative.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-num_dims" class="anchored"><a href="#val-num_dims" class="anchor"></a><code><span><span class="keyword">val</span> num_dims : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Return the number of dimensions of the given big array.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dims" class="anchored"><a href="#val-dims" class="anchor"></a><code><span><span class="keyword">val</span> dims : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int array</span></span></code></div><div class="spec-doc"><p><code>Genarray.dims a</code> returns all dimensions of the big array <code>a</code>, as an array of integers of length <code>Genarray.num_dims a</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-nth_dim" class="anchored"><a href="#val-nth_dim" class="anchor"></a><code><span><span class="keyword">val</span> nth_dim : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>Genarray.nth_dim a n</code> returns the <code>n</code>-th dimension of the big array <code>a</code>. The first dimension corresponds to <code>n = 0</code>; the second dimension corresponds to <code>n = 1</code>; the last dimension, to <code>n = Genarray.num_dims a - 1</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>n</code> is less than 0 or greater or equal than <code>Genarray.num_dims a</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-kind" class="anchored"><a href="#val-kind" class="anchor"></a><code><span><span class="keyword">val</span> kind : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-kind">kind</a></span></span></code></div><div class="spec-doc"><p>Return the kind of the given big array.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-layout" class="anchored"><a href="#val-layout" class="anchor"></a><code><span><span class="keyword">val</span> layout : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="../index.html#type-layout">layout</a></span></span></code></div><div class="spec-doc"><p>Return the layout of the given big array.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-change_layout" class="anchored"><a href="#val-change_layout" class="anchor"></a><code><span><span class="keyword">val</span> change_layout : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="../index.html#type-layout">layout</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'d</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>Genarray.change_layout a layout</code> returns a bigarray with the specified <code>layout</code>, sharing the data with <code>a</code> (and hence having the same dimensions as <code>a</code>). No copying of elements is involved: the new array and the original array share the same storage space. The dimensions are reversed, such that <code>get v [| a; b |]</code> in C layout becomes <code>get v [| b+1; a+1 |]</code> in Fortran layout.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.3 and OCaml 4.04.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-size_in_bytes" class="anchored"><a href="#val-size_in_bytes" class="anchor"></a><code><span><span class="keyword">val</span> size_in_bytes : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>size_in_bytes a</code> is the number of elements in <code>a</code> multiplied by <code>a</code>'s <a href="../index.html#val-kind_size_in_bytes"><code>kind_size_in_bytes</code></a>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0</li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Read an element of a generic big array. <code>Genarray.get a [|i1; ...; iN|]</code> returns the element of <code>a</code> whose coordinates are <code>i1</code> in the first dimension, <code>i2</code> in the second dimension, ..., <code>iN</code> in the <code>N</code>-th dimension.</p><p>If <code>a</code> has C layout, the coordinates must be greater or equal than 0 and strictly less than the corresponding dimensions of <code>a</code>. If <code>a</code> has Fortran layout, the coordinates must be greater or equal than 1 and less or equal than the corresponding dimensions of <code>a</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the array <code>a</code> does not have exactly <code>N</code> dimensions, or if the coordinates are outside the array bounds.</p><p>If <code>N &gt; 3</code>, alternate syntax is provided: you can write <code>a.{i1, i2, ..., iN}</code> instead of <code>Genarray.get a [|i1; ...; iN|]</code>. (The syntax <code>a.{...}</code> with one, two or three coordinates is reserved for accessing one-, two- and three-dimensional arrays as described below.)</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Assign an element of a generic big array. <code>Genarray.set a [|i1; ...; iN|] v</code> stores the value <code>v</code> in the element of <code>a</code> whose coordinates are <code>i1</code> in the first dimension, <code>i2</code> in the second dimension, ..., <code>iN</code> in the <code>N</code>-th dimension.</p><p>The array <code>a</code> must have exactly <code>N</code> dimensions, and all coordinates must lie inside the array bounds, as described for <code>Genarray.get</code>;</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>otherwise.</p><p>If <code>N &gt; 3</code>, alternate syntax is provided: you can write <code>a.{i1, i2, ..., iN} &lt;- v</code> instead of <code>Genarray.set a [|i1; ...; iN|] v</code>. (The syntax <code>a.{...} &lt;- v</code> with one, two or three coordinates is reserved for updating one-, two- and three-dimensional arrays as described below.)</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-sub_left" class="anchored"><a href="#val-sub_left" class="anchor"></a><code><span><span class="keyword">val</span> sub_left : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../index.html#type-c_layout">c_layout</a>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../index.html#type-c_layout">c_layout</a>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Extract a sub-array of the given big array by restricting the first (left-most) dimension. <code>Genarray.sub_left a ofs len</code> returns a big array with the same number of dimensions as <code>a</code>, and the same dimensions as <code>a</code>, except the first dimension, which corresponds to the interval <code>[ofs ... ofs + len - 1]</code> of the first dimension of <code>a</code>. No copying of elements is involved: the sub-array and the original array share the same storage space. In other terms, the element at coordinates <code>[|i1; ...; iN|]</code> of the sub-array is identical to the element at coordinates <code>[|i1+ofs; ...; iN|]</code> of the original array <code>a</code>.</p><p><code>Genarray.sub_left</code> applies only to big arrays in C layout.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>ofs</code> and <code>len</code> do not designate a valid sub-array of <code>a</code>, that is, if <code>ofs &lt; 0</code>, or <code>len &lt; 0</code>, or <code>ofs + len &gt; Genarray.nth_dim a 0</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-sub_right" class="anchored"><a href="#val-sub_right" class="anchor"></a><code><span><span class="keyword">val</span> sub_right : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../index.html#type-fortran_layout">fortran_layout</a>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../index.html#type-fortran_layout">fortran_layout</a>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Extract a sub-array of the given big array by restricting the last (right-most) dimension. <code>Genarray.sub_right a ofs len</code> returns a big array with the same number of dimensions as <code>a</code>, and the same dimensions as <code>a</code>, except the last dimension, which corresponds to the interval <code>[ofs ... ofs + len - 1]</code> of the last dimension of <code>a</code>. No copying of elements is involved: the sub-array and the original array share the same storage space. In other terms, the element at coordinates <code>[|i1; ...; iN|]</code> of the sub-array is identical to the element at coordinates <code>[|i1; ...; iN+ofs|]</code> of the original array <code>a</code>.</p><p><code>Genarray.sub_right</code> applies only to big arrays in Fortran layout.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>ofs</code> and <code>len</code> do not designate a valid sub-array of <code>a</code>, that is, if <code>ofs &lt; 1</code>, or <code>len &lt; 0</code>, or <code>ofs + len &gt; Genarray.nth_dim a (Genarray.num_dims a - 1)</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-slice_left" class="anchored"><a href="#val-slice_left" class="anchor"></a><code><span><span class="keyword">val</span> slice_left : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../index.html#type-c_layout">c_layout</a>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../index.html#type-c_layout">c_layout</a>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Extract a sub-array of lower dimension from the given big array by fixing one or several of the first (left-most) coordinates. <code>Genarray.slice_left a [|i1; ... ; iM|]</code> returns the ``slice'' of <code>a</code> obtained by setting the first <code>M</code> coordinates to <code>i1</code>, ..., <code>iM</code>. If <code>a</code> has <code>N</code> dimensions, the slice has dimension <code>N - M</code>, and the element at coordinates <code>[|j1; ...; j(N-M)|]</code> in the slice is identical to the element at coordinates <code>[|i1; ...; iM; j1; ...; j(N-M)|]</code> in the original array <code>a</code>. No copying of elements is involved: the slice and the original array share the same storage space.</p><p><code>Genarray.slice_left</code> applies only to big arrays in C layout.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>M &gt;= N</code>, or if <code>[|i1; ... ; iM|]</code> is outside the bounds of <code>a</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-slice_right" class="anchored"><a href="#val-slice_right" class="anchor"></a><code><span><span class="keyword">val</span> slice_right : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../index.html#type-fortran_layout">fortran_layout</a>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../index.html#type-fortran_layout">fortran_layout</a>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Extract a sub-array of lower dimension from the given big array by fixing one or several of the last (right-most) coordinates. <code>Genarray.slice_right a [|i1; ... ; iM|]</code> returns the ``slice'' of <code>a</code> obtained by setting the last <code>M</code> coordinates to <code>i1</code>, ..., <code>iM</code>. If <code>a</code> has <code>N</code> dimensions, the slice has dimension <code>N - M</code>, and the element at coordinates <code>[|j1; ...; j(N-M)|]</code> in the slice is identical to the element at coordinates <code>[|j1; ...; j(N-M); i1; ...; iM|]</code> in the original array <code>a</code>. No copying of elements is involved: the slice and the original array share the same storage space.</p><p><code>Genarray.slice_right</code> applies only to big arrays in Fortran layout.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>M &gt;= N</code>, or if <code>[|i1; ... ; iM|]</code> is outside the bounds of <code>a</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-blit" class="anchored"><a href="#val-blit" class="anchor"></a><code><span><span class="keyword">val</span> blit : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Copy all elements of a big array in another big array. <code>Genarray.blit src dst</code> copies all elements of <code>src</code> into <code>dst</code>. Both arrays <code>src</code> and <code>dst</code> must have the same number of dimensions and equal dimensions. Copying a sub-array of <code>src</code> to a sub-array of <code>dst</code> can be achieved by applying <code>Genarray.blit</code> to sub-array or slices of <code>src</code> and <code>dst</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-fill" class="anchored"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set all elements of a big array to a given value. <code>Genarray.fill a v</code> stores the value <code>v</code> in all elements of the big array <code>a</code>. Setting only some elements of <code>a</code> to <code>v</code> can be achieved by applying <code>Genarray.fill</code> to a sub-array or a slice of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map_file" class="anchored"><a href="#val-map_file" class="anchor"></a><code><span><span class="keyword">val</span> map_file : <span><a href="../../../ocaml/Unix/index.html#type-file_descr">Unix.file_descr</a> <span class="arrow">&#45;&gt;</span></span> <span>?pos:int64 <span class="arrow">&#45;&gt;</span></span>
<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../index.html#type-kind">kind</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="../index.html#type-layout">layout</a></span> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Memory mapping of a file as a big array. <code>Genarray.map_file fd kind layout shared dims</code> returns a big array of kind <code>kind</code>, layout <code>layout</code>, and dimensions as specified in <code>dims</code>. The data contained in this big array are the contents of the file referred to by the file descriptor <code>fd</code> (as opened previously with <code>Unix.openfile</code>, for example). The optional <code>pos</code> parameter is the byte offset in the file of the data being mapped; it default to 0 (map from the beginning of the file).</p><p>If <code>shared</code> is <code>true</code>, all modifications performed on the array are reflected in the file. This requires that <code>fd</code> be opened with write permissions. If <code>shared</code> is <code>false</code>, modifications performed on the array are done in memory only, using copy-on-write of the modified pages; the underlying file is not affected.</p><p><code>Genarray.map_file</code> is much more efficient than reading the whole file in a big array, modifying that big array, and writing it afterwards.</p><p>To adjust automatically the dimensions of the big array to the actual size of the file, the major dimension (that is, the first dimension for an array with C layout, and the last dimension for an array with Fortran layout) can be given as <code>-1</code>. <code>Genarray.map_file</code> then determines the major dimension from the size of the file. The file must contain an integral number of sub-arrays as determined by the non-major dimensions,</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Failure</span> <p>otherwise.</p><p>If all dimensions of the big array are given, the file size is matched against the size of the big array. If the file is larger than the big array, only the initial portion of the file is mapped to the big array. If the file is smaller than the big array, the file is automatically grown to the size of the big array. This requires write permissions on <code>fd</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f a</code> applies function <code>f</code> in turn to all the elements of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iteri" class="anchored"><a href="#val-iteri" class="anchor"></a><code><span><span class="keyword">val</span> iteri : <span><span>(<span><span><span>(int, <span>[ `Read ]</span>)</span> <a href="../../BatArray/Cap/index.html#type-t">BatArray.Cap.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <a href="#val-iter"><code>iter</code></a>, but the function is applied to the index of the element as the first argument, and the element itself as the second argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-modify" class="anchored"><a href="#val-modify" class="anchor"></a><code><span><span class="keyword">val</span> modify : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>modify f a</code> changes each element <code>x</code> in <code>a</code> to <code>f x</code> in-place.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-modifyi" class="anchored"><a href="#val-modifyi" class="anchor"></a><code><span><span class="keyword">val</span> modifyi : <span><span>(<span><span><span>(int, <span>[ `Read ]</span>)</span> <a href="../../BatArray/Cap/index.html#type-t">BatArray.Cap.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <a href="#val-modify"><code>modify</code></a>, but the function is applied to the index of the coordinates as the first argument, and the element itself as the second argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-enum" class="anchored"><a href="#val-enum" class="anchor"></a><code><span><span class="keyword">val</span> enum : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p><code>enum e</code> returns an enumeration on the elements of <code>e</code>. The order of enumeration is unspecified.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-kind">Bigarray.kind</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'e</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>map f kind a</code> applies function <code>f</code> to all the elements of <code>a</code>, and builds a <code>Bigarray</code>.t of kind <code>kind</code> with the results returned by <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mapi" class="anchored"><a href="#val-mapi" class="anchor"></a><code><span><span class="keyword">val</span> mapi : <span><span>(<span><span><span>(int, <span>[ `Read ]</span>)</span> <a href="../../BatArray/Cap/index.html#type-t">BatArray.Cap.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-kind">Bigarray.kind</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'d</span>, <span class="type-var">'e</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>, <span class="type-var">'e</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Same as <a href="#val-map"><code>map</code></a>, but the function is applied to the index of the coordinates as the first argument, and the element itself as the second argument.</p></div></div></div></body></html>