<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>X86_proc (ocaml.X86_proc)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ocaml</a> &#x00BB; X86_proc</nav><h1>Module <code>X86_proc</code></h1><p>Definitions shared between the 32 and 64 bit Intel backends.</p></header><aside><p>Helpers for textual emitters</p></aside><dl><dt class="spec value" id="val-string_of_reg8l"><a href="#val-string_of_reg8l" class="anchor"></a><code><span class="keyword">val</span> string_of_reg8l : <a href="../X86_ast/index.html#type-reg64">X86_ast.reg64</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_reg8h"><a href="#val-string_of_reg8h" class="anchor"></a><code><span class="keyword">val</span> string_of_reg8h : <a href="../X86_ast/index.html#type-reg8h">X86_ast.reg8h</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_reg16"><a href="#val-string_of_reg16" class="anchor"></a><code><span class="keyword">val</span> string_of_reg16 : <a href="../X86_ast/index.html#type-reg64">X86_ast.reg64</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_reg32"><a href="#val-string_of_reg32" class="anchor"></a><code><span class="keyword">val</span> string_of_reg32 : <a href="../X86_ast/index.html#type-reg64">X86_ast.reg64</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_reg64"><a href="#val-string_of_reg64" class="anchor"></a><code><span class="keyword">val</span> string_of_reg64 : <a href="../X86_ast/index.html#type-reg64">X86_ast.reg64</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_registerf"><a href="#val-string_of_registerf" class="anchor"></a><code><span class="keyword">val</span> string_of_registerf : <a href="../X86_ast/index.html#type-registerf">X86_ast.registerf</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_string_literal"><a href="#val-string_of_string_literal" class="anchor"></a><code><span class="keyword">val</span> string_of_string_literal : string <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_condition"><a href="#val-string_of_condition" class="anchor"></a><code><span class="keyword">val</span> string_of_condition : <a href="../X86_ast/index.html#type-condition">X86_ast.condition</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_symbol"><a href="#val-string_of_symbol" class="anchor"></a><code><span class="keyword">val</span> string_of_symbol : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_rounding"><a href="#val-string_of_rounding" class="anchor"></a><code><span class="keyword">val</span> string_of_rounding : <a href="../X86_ast/index.html#type-rounding">X86_ast.rounding</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-buf_bytes_directive"><a href="#val-buf_bytes_directive" class="anchor"></a><code><span class="keyword">val</span> buf_bytes_directive : <a href="../Stdlib/Buffer/index.html#type-t">Stdlib.Buffer.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt></dl><aside><p>Buffer of assembly code</p></aside><dl><dt class="spec value" id="val-emit"><a href="#val-emit" class="anchor"></a><code><span class="keyword">val</span> emit : <a href="../X86_ast/index.html#type-instruction">X86_ast.instruction</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-directive"><a href="#val-directive" class="anchor"></a><code><span class="keyword">val</span> directive : <a href="../X86_ast/index.html#type-asm_line">X86_ast.asm_line</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-reset_asm_code"><a href="#val-reset_asm_code" class="anchor"></a><code><span class="keyword">val</span> reset_asm_code : unit <span>&#45;&gt;</span> unit</code></dt></dl><aside><p>Code emission</p></aside><dl><dt class="spec value" id="val-generate_code"><a href="#val-generate_code" class="anchor"></a><code><span class="keyword">val</span> generate_code : (<a href="../X86_ast/index.html#type-asm_line">X86_ast.asm_line</a> list <span>&#45;&gt;</span> unit) option <span>&#45;&gt;</span> unit</code></dt><dd><p>Post-process the stream of instructions. Dump it (using the provided syntax emitter) in a file (if provided) and compile it with an internal assembler (if registered through <code>register_internal_assembler</code>).</p></dd></dl><dl><dt class="spec value" id="val-assemble_file"><a href="#val-assemble_file" class="anchor"></a><code><span class="keyword">val</span> assemble_file : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int</code></dt><dd><p>Generate an object file corresponding to the last call to <code>generate_code</code>. An internal assembler is used if available (and the input file is ignored). Otherwise, the source asm file with an external assembler.</p></dd></dl><aside><p>System detection</p></aside><dl><dt class="spec type" id="type-system"><a href="#type-system" class="anchor"></a><code><span class="keyword">type</span> system</code><code> = </code><table class="variant"><tr id="type-system.S_macosx" class="anchored"><td class="def constructor"><a href="#type-system.S_macosx" class="anchor"></a><code>| </code><code><span class="constructor">S_macosx</span></code></td></tr><tr id="type-system.S_gnu" class="anchored"><td class="def constructor"><a href="#type-system.S_gnu" class="anchor"></a><code>| </code><code><span class="constructor">S_gnu</span></code></td></tr><tr id="type-system.S_cygwin" class="anchored"><td class="def constructor"><a href="#type-system.S_cygwin" class="anchor"></a><code>| </code><code><span class="constructor">S_cygwin</span></code></td></tr><tr id="type-system.S_solaris" class="anchored"><td class="def constructor"><a href="#type-system.S_solaris" class="anchor"></a><code>| </code><code><span class="constructor">S_solaris</span></code></td></tr><tr id="type-system.S_win32" class="anchored"><td class="def constructor"><a href="#type-system.S_win32" class="anchor"></a><code>| </code><code><span class="constructor">S_win32</span></code></td></tr><tr id="type-system.S_linux_elf" class="anchored"><td class="def constructor"><a href="#type-system.S_linux_elf" class="anchor"></a><code>| </code><code><span class="constructor">S_linux_elf</span></code></td></tr><tr id="type-system.S_bsd_elf" class="anchored"><td class="def constructor"><a href="#type-system.S_bsd_elf" class="anchor"></a><code>| </code><code><span class="constructor">S_bsd_elf</span></code></td></tr><tr id="type-system.S_beos" class="anchored"><td class="def constructor"><a href="#type-system.S_beos" class="anchor"></a><code>| </code><code><span class="constructor">S_beos</span></code></td></tr><tr id="type-system.S_mingw" class="anchored"><td class="def constructor"><a href="#type-system.S_mingw" class="anchor"></a><code>| </code><code><span class="constructor">S_mingw</span></code></td></tr><tr id="type-system.S_win64" class="anchored"><td class="def constructor"><a href="#type-system.S_win64" class="anchor"></a><code>| </code><code><span class="constructor">S_win64</span></code></td></tr><tr id="type-system.S_linux" class="anchored"><td class="def constructor"><a href="#type-system.S_linux" class="anchor"></a><code>| </code><code><span class="constructor">S_linux</span></code></td></tr><tr id="type-system.S_mingw64" class="anchored"><td class="def constructor"><a href="#type-system.S_mingw64" class="anchor"></a><code>| </code><code><span class="constructor">S_mingw64</span></code></td></tr><tr id="type-system.S_unknown" class="anchored"><td class="def constructor"><a href="#type-system.S_unknown" class="anchor"></a><code>| </code><code><span class="constructor">S_unknown</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-system"><a href="#val-system" class="anchor"></a><code><span class="keyword">val</span> system : <a href="index.html#type-system">system</a></code></dt><dt class="spec value" id="val-masm"><a href="#val-masm" class="anchor"></a><code><span class="keyword">val</span> masm : bool</code></dt><dt class="spec value" id="val-windows"><a href="#val-windows" class="anchor"></a><code><span class="keyword">val</span> windows : bool</code></dt><dt class="spec value" id="val-use_plt"><a href="#val-use_plt" class="anchor"></a><code><span class="keyword">val</span> use_plt : bool</code></dt><dd><p>Whether calls need to go via the PLT.</p></dd></dl><aside><p>Support for plumbing a binary code emitter</p></aside><dl><dt class="spec value" id="val-register_internal_assembler"><a href="#val-register_internal_assembler" class="anchor"></a><code><span class="keyword">val</span> register_internal_assembler : (<a href="../X86_ast/index.html#type-asm_program">X86_ast.asm_program</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt></dl><aside><p>Hooks for rewriting the assembly code</p></aside><dl><dt class="spec value" id="val-assembler_passes"><a href="#val-assembler_passes" class="anchor"></a><code><span class="keyword">val</span> assembler_passes : (<a href="../X86_ast/index.html#type-asm_program">X86_ast.asm_program</a> <span>&#45;&gt;</span> <a href="../X86_ast/index.html#type-asm_program">X86_ast.asm_program</a>) list <a href="../Stdlib/index.html#type-ref">Stdlib.ref</a></code></dt></dl></div></body></html>