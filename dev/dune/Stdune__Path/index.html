<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Stdune__Path (dune.Stdune__Path)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">dune</a> &#x00BB; Stdune__Path</nav><h1>Module <code>Stdune__Path</code></h1></header><dl><dt class="spec module" id="module-Local"><a href="#module-Local" class="anchor"></a><code><span class="keyword">module</span> <a href="Local/index.html">Local</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>In the current workspace (anything under the current project root)</p></dd></dl><dl><dt class="spec module" id="module-External"><a href="#module-External" class="anchor"></a><code><span class="keyword">module</span> <a href="External/index.html">External</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>In the outside world</p></dd></dl><div class="spec module" id="module-Kind"><a href="#module-Kind" class="anchor"></a><code><span class="keyword">module</span> <a href="Kind/index.html">Kind</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-to_sexp"><a href="#val-to_sexp" class="anchor"></a><code><span class="keyword">val</span> to_sexp : <a href="index.html#type-t">t</a> <a href="../Stdune/Sexp/Encoder/index.html#type-t">Stdune.Sexp.Encoder.t</a></code></dt><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Stdune/Ordering/index.html#type-t">Stdune.Ordering.t</a></code></dt><dd><p>a directory is smaller than its descendants</p></dd></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt></dl><div class="spec module" id="module-Set"><a href="#module-Set" class="anchor"></a><code><span class="keyword">module</span> <a href="Set/index.html">Set</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Map"><a href="#module-Map" class="anchor"></a><code><span class="keyword">module</span> <a href="Map/index.html">Map</a> : <a href="../Stdune/Map/index.html#module-type-S">Stdune.Map.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Stdune/Map/module-type-S/index.html#type-key">key</a> = <a href="index.html#type-t">t</a></code></div><div class="spec module" id="module-Table"><a href="#module-Table" class="anchor"></a><code><span class="keyword">module</span> <a href="Table/index.html">Table</a> : <a href="../Stdune/Hashtbl/index.html#module-type-S">Stdune.Hashtbl.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../Stdune/Hashtbl/module-type-S/index.html#type-key">key</a> = <a href="index.html#type-t">t</a></code></div><dl><dt class="spec value" id="val-of_string"><a href="#val-of_string" class="anchor"></a><code><span class="keyword">val</span> of_string : ?&#8288;error_loc:<a href="../Stdune__/Loc0/index.html#type-t">Stdune__.Loc0.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-to_string_maybe_quoted"><a href="#val-to_string_maybe_quoted" class="anchor"></a><code><span class="keyword">val</span> to_string_maybe_quoted : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>to_string_maybe_quoted t</code> is <code>maybe_quoted (to_string t)</code></p></dd></dl><dl><dt class="spec value" id="val-kind"><a href="#val-kind" class="anchor"></a><code><span class="keyword">val</span> kind : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Kind/index.html#type-t">Kind.t</a></code></dt><dt class="spec value" id="val-root"><a href="#val-root" class="anchor"></a><code><span class="keyword">val</span> root : <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-is_root"><a href="#val-is_root" class="anchor"></a><code><span class="keyword">val</span> is_root : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_managed"><a href="#val-is_managed" class="anchor"></a><code><span class="keyword">val</span> is_managed : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-relative"><a href="#val-relative" class="anchor"></a><code><span class="keyword">val</span> relative : ?&#8288;error_loc:<a href="../Stdune__/Loc0/index.html#type-t">Stdune__.Loc0.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-of_filename_relative_to_initial_cwd"><a href="#val-of_filename_relative_to_initial_cwd" class="anchor"></a><code><span class="keyword">val</span> of_filename_relative_to_initial_cwd : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create an external path. If the argument is relative, assume it is relative to the initial directory dune was launched in.</p></dd></dl><dl><dt class="spec value" id="val-to_absolute_filename"><a href="#val-to_absolute_filename" class="anchor"></a><code><span class="keyword">val</span> to_absolute_filename : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Convert a path to an absolute filename. Must be called after the workspace root has been set. <code>root</code> is the root directory of local paths</p></dd></dl><dl><dt class="spec value" id="val-reach"><a href="#val-reach" class="anchor"></a><code><span class="keyword">val</span> reach : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> from:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-reach_for_running"><a href="#val-reach_for_running" class="anchor"></a><code><span class="keyword">val</span> reach_for_running : ?&#8288;from:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>from</code> defaults to <code>Path.root</code></p></dd></dl><dl><dt class="spec value" id="val-descendant"><a href="#val-descendant" class="anchor"></a><code><span class="keyword">val</span> descendant : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> of_:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> option</code></dt><dt class="spec value" id="val-is_descendant"><a href="#val-is_descendant" class="anchor"></a><code><span class="keyword">val</span> is_descendant : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> of_:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-append"><a href="#val-append" class="anchor"></a><code><span class="keyword">val</span> append : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-append_local"><a href="#val-append_local" class="anchor"></a><code><span class="keyword">val</span> append_local : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Local/index.html#type-t">Local.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-basename"><a href="#val-basename" class="anchor"></a><code><span class="keyword">val</span> basename : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-parent"><a href="#val-parent" class="anchor"></a><code><span class="keyword">val</span> parent : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> option</code></dt><dt class="spec value" id="val-parent_exn"><a href="#val-parent_exn" class="anchor"></a><code><span class="keyword">val</span> parent_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-is_suffix"><a href="#val-is_suffix" class="anchor"></a><code><span class="keyword">val</span> is_suffix : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> suffix:string <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-extend_basename"><a href="#val-extend_basename" class="anchor"></a><code><span class="keyword">val</span> extend_basename : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> suffix:string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-extract_build_context"><a href="#val-extract_build_context" class="anchor"></a><code><span class="keyword">val</span> extract_build_context : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (string * <a href="index.html#type-t">t</a>) option</code></dt><dd><p>Extract the build context from a path. For instance, representing paths as strings:</p><pre><code class="ml">extract_build_context &quot;_build/blah/foo/bar&quot; = Some (&quot;blah&quot;, &quot;foo/bar&quot;)</code></pre></dd></dl><dl><dt class="spec value" id="val-extract_build_context_dir"><a href="#val-extract_build_context_dir" class="anchor"></a><code><span class="keyword">val</span> extract_build_context_dir : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="index.html#type-t">t</a> * <a href="index.html#type-t">t</a>) option</code></dt><dd><p>Same as <code>extract_build_context</code> but return the build context as a path:</p><pre><code class="ml">extract_build_context &quot;_build/blah/foo/bar&quot; = Some (&quot;_build/blah&quot;, &quot;foo/bar&quot;)</code></pre></dd></dl><dl><dt class="spec value" id="val-drop_build_context"><a href="#val-drop_build_context" class="anchor"></a><code><span class="keyword">val</span> drop_build_context : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> option</code></dt><dd><p>Drop the &quot;_build/blah&quot; prefix</p></dd></dl><dl><dt class="spec value" id="val-drop_build_context_exn"><a href="#val-drop_build_context_exn" class="anchor"></a><code><span class="keyword">val</span> drop_build_context_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-drop_optional_build_context"><a href="#val-drop_optional_build_context" class="anchor"></a><code><span class="keyword">val</span> drop_optional_build_context : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Drop the &quot;_build/blah&quot; prefix if present, return <code>t</code> otherwise</p></dd></dl><dl><dt class="spec value" id="val-sandbox_managed_paths"><a href="#val-sandbox_managed_paths" class="anchor"></a><code><span class="keyword">val</span> sandbox_managed_paths : sandbox_dir:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Transform managed paths so that they are descedant of <code>sandbox_dir</code>.</p></dd></dl><dl><dt class="spec value" id="val-explode"><a href="#val-explode" class="anchor"></a><code><span class="keyword">val</span> explode : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string list option</code></dt><dt class="spec value" id="val-explode_exn"><a href="#val-explode_exn" class="anchor"></a><code><span class="keyword">val</span> explode_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string list</code></dt><dt class="spec value" id="val-build_dir"><a href="#val-build_dir" class="anchor"></a><code><span class="keyword">val</span> build_dir : <a href="index.html#type-t">t</a></code></dt><dd><p>The build directory</p></dd></dl><dl><dt class="spec value" id="val-is_in_build_dir"><a href="#val-is_in_build_dir" class="anchor"></a><code><span class="keyword">val</span> is_in_build_dir : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_in_build_dir t = is_descendant t ~of:build_dir</code></p></dd></dl><dl><dt class="spec value" id="val-is_in_source_tree"><a href="#val-is_in_source_tree" class="anchor"></a><code><span class="keyword">val</span> is_in_source_tree : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_in_build_dir t = is_managed t &amp;&amp; not (is_in_build_dir t)</code></p></dd></dl><dl><dt class="spec value" id="val-is_alias_stamp_file"><a href="#val-is_alias_stamp_file" class="anchor"></a><code><span class="keyword">val</span> is_alias_stamp_file : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_strict_descendant_of_build_dir"><a href="#val-is_strict_descendant_of_build_dir" class="anchor"></a><code><span class="keyword">val</span> is_strict_descendant_of_build_dir : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_strict_descendant_of_build_dir t = is_in_build_dir t &amp;&amp; t &lt;&gt;
    build_dir</code></p></dd></dl><dl><dt class="spec value" id="val-split_first_component"><a href="#val-split_first_component" class="anchor"></a><code><span class="keyword">val</span> split_first_component : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (string * <a href="index.html#type-t">t</a>) option</code></dt><dd><p>Split after the first component if <code>t</code> is local</p></dd></dl><dl><dt class="spec value" id="val-insert_after_build_dir_exn"><a href="#val-insert_after_build_dir_exn" class="anchor"></a><code><span class="keyword">val</span> insert_after_build_dir_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val</span> exists : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-readdir_unsorted"><a href="#val-readdir_unsorted" class="anchor"></a><code><span class="keyword">val</span> readdir_unsorted : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string list</code></dt><dt class="spec value" id="val-is_directory"><a href="#val-is_directory" class="anchor"></a><code><span class="keyword">val</span> is_directory : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-rmdir"><a href="#val-rmdir" class="anchor"></a><code><span class="keyword">val</span> rmdir : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-unlink"><a href="#val-unlink" class="anchor"></a><code><span class="keyword">val</span> unlink : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-unlink_no_err"><a href="#val-unlink_no_err" class="anchor"></a><code><span class="keyword">val</span> unlink_no_err : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-rm_rf"><a href="#val-rm_rf" class="anchor"></a><code><span class="keyword">val</span> rm_rf : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-mkdir_p"><a href="#val-mkdir_p" class="anchor"></a><code><span class="keyword">val</span> mkdir_p : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-extension"><a href="#val-extension" class="anchor"></a><code><span class="keyword">val</span> extension : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-split_extension"><a href="#val-split_extension" class="anchor"></a><code><span class="keyword">val</span> split_extension : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> * string</code></dt><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <a href="../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_in_source"><a href="#val-pp_in_source" class="anchor"></a><code><span class="keyword">val</span> pp_in_source : <a href="../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-pp_debug"><a href="#val-pp_debug" class="anchor"></a><code><span class="keyword">val</span> pp_debug : <a href="../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-build_dir_exists"><a href="#val-build_dir_exists" class="anchor"></a><code><span class="keyword">val</span> build_dir_exists : unit <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-ensure_build_dir_exists"><a href="#val-ensure_build_dir_exists" class="anchor"></a><code><span class="keyword">val</span> ensure_build_dir_exists : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-set_build_dir"><a href="#val-set_build_dir" class="anchor"></a><code><span class="keyword">val</span> set_build_dir : <a href="Kind/index.html#type-t">Kind.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>set the build directory. Can only be called once and must be done before paths are converted to strings elsewhere.</p></dd></dl><dl><dt class="spec value" id="val-in_source"><a href="#val-in_source" class="anchor"></a><code><span class="keyword">val</span> in_source : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>paths guaranteed to be in the source directory</p></dd></dl><dl><dt class="spec value" id="val-of_local"><a href="#val-of_local" class="anchor"></a><code><span class="keyword">val</span> of_local : <a href="Local/index.html#type-t">Local.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-set_root"><a href="#val-set_root" class="anchor"></a><code><span class="keyword">val</span> set_root : <a href="External/index.html#type-t">External.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the workspace root. Can only be called once and the path must be absolute</p></dd></dl><dl><dt class="spec module" id="module-Internal"><a href="#module-Internal" class="anchor"></a><code><span class="keyword">module</span> <a href="Internal/index.html">Internal</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Internal use only</p></dd></dl><div class="spec module" id="module-L"><a href="#module-L" class="anchor"></a><code><span class="keyword">module</span> <a href="L/index.html">L</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-local_part"><a href="#val-local_part" class="anchor"></a><code><span class="keyword">val</span> local_part : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Local/index.html#type-t">Local.t</a></code></dt><dd><p>Return the &quot;local part&quot; of a path. For local paths (in build directory or source tree), this returns the path itself. For external paths, it returns a path that is relative to the current directory. For example, the local part of <code>/a/b</code> is <code>./a/b</code>.</p></dd></dl></div></body></html>