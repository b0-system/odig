<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Elr (brr.Brr_note.Elr)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">brr</a> &#x00BB; <a href="../index.html">Brr_note</a> &#x00BB; Elr</nav><header class="odoc-preamble"><h1>Module <code><span>Brr_note.Elr</span></code></h1><p>Reactive DOM elements.</p><p><b>Warning.</b> Reactive DOM element mutators (<a href="#val-set_at"><code>Elr.set_at</code></a>, <a href="#val-set_children"><code>Elr.set_children</code></a>, etc.) and definers (<a href="#val-def_at"><code>Elr.def_at</code></a>, <a href="#val-def_children"><code>Elr.def_children</code></a>, etc.) use <a href="../../../note/Note/Logr/index.html"><code>Note</code> loggers</a> to perform their action. To prevent memory leaks, these loggers, and thus their action, automatically get destroyed whenever the element is removed from the HTML DOM.</p></header><nav class="odoc-toc"><ul><li><a href="#children">Children</a></li><li><a href="#ats">Attributes and properties</a></li><li><a href="#classes">Classes</a></li><li><a href="#styles">Style</a></li><li><a href="#focus">Focus</a></li><li><a href="#life_cycle">Life-cycle callbacks</a></li><li><a href="#note">Note loggers</a></li></ul></nav><div class="odoc-content"><h2 id="children"><a href="#children" class="anchor"></a>Children</h2><div class="odoc-spec"><div class="spec value" id="val-set_children" class="anchored"><a href="#val-set_children" class="anchor"></a><code><span><span class="keyword">val</span> set_children : <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> <span>on:<span><span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> list</span> <a href="../../../note/Note/index.html#type-event">Note.event</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_children e ~on</code> sets <code>e</code>'s children with the value of <code>on</code> whenever it occurs.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-def_children" class="anchored"><a href="#val-def_children" class="anchor"></a><code><span><span class="keyword">val</span> def_children : <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> list</span> <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>def_children e cs</code> defines <code>e</code>'s children over time with the value of signal <code>cs</code>. <b>Warning.</b> This assumes <code>cs</code> is the only entity interacting with the children.</p></div></div><h2 id="ats"><a href="#ats" class="anchor"></a>Attributes and properties</h2><div class="odoc-spec"><div class="spec value" id="val-set_at" class="anchored"><a href="#val-set_at" class="anchor"></a><code><span><span class="keyword">val</span> set_at : <span><a href="../../Brr/At/index.html#type-name">Brr.At.name</a> <span class="arrow">&#45;&gt;</span></span> <span>on:<span><span><a href="../../Jstr/index.html#type-t">Jstr.t</a> option</span> <a href="../../../note/Note/index.html#type-event">Note.event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_at a ~on e</code> sets attribute <code>a</code> of <code>e</code> with the value of <code>e</code> whenever it occurs. If the value is <code>None</code> this removes the attribute.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-def_at" class="anchored"><a href="#val-def_at" class="anchor"></a><code><span><span class="keyword">val</span> def_at : <span><a href="../../Brr/At/index.html#type-name">Brr.At.name</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span><a href="../../Jstr/index.html#type-t">Jstr.t</a> option</span> <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>def_at a v e</code> defines the attribute <code>a</code> of <code>e</code> over time with the value of <code>v</code>. Whenever the signal value is <code>None</code>, the attribute is removed. <b>Warning.</b> This assumes <code>v</code> is the only entity interacting with that attribute.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_prop" class="anchored"><a href="#val-set_prop" class="anchor"></a><code><span><span class="keyword">val</span> set_prop : <span><span><span class="type-var">'a</span> <a href="../../Brr/El/Prop/index.html#type-t">Brr.El.Prop.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>on:<span><span class="type-var">'a</span> <a href="../../../note/Note/index.html#type-event">Note.event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_prop p ~on e</code> sets property <code>p</code> of <code>e</code> to the value of <code>on</code> whenever it occurs.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-def_prop" class="anchored"><a href="#val-def_prop" class="anchor"></a><code><span><span class="keyword">val</span> def_prop : <span><span><span class="type-var">'a</span> <a href="../../Brr/El/Prop/index.html#type-t">Brr.El.Prop.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>def_prop p v e</code> defines the property <code>p</code> of <code>e</code> over time with the value of <code>v</code>. <b>Warning.</b> This assumes <code>v</code> is the only entity interacting with that property.</p></div></div><h2 id="classes"><a href="#classes" class="anchor"></a>Classes</h2><div class="odoc-spec"><div class="spec value" id="val-set_class" class="anchored"><a href="#val-set_class" class="anchor"></a><code><span><span class="keyword">val</span> set_class : <span><a href="../../Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <span>on:<span>bool <a href="../../../note/Note/index.html#type-event">Note.event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_class a ~on e</code> sets the membership of <code>e</code> to class <code>e</code> with the value of <code>on</code> whenever it occurs.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-def_class" class="anchored"><a href="#val-def_class" class="anchor"></a><code><span><span class="keyword">val</span> def_class : <span><a href="../../Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>bool <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>rdef_class a b e</code> defines the membership of <code>e</code> to class <code>e</code> over time with the value of <code>b</code>. <b>Warning.</b> This assumes <code>b</code> is the only entity interacting with that class.</p></div></div><h2 id="styles"><a href="#styles" class="anchor"></a>Style</h2><div class="odoc-spec"><div class="spec value" id="val-set_inline_style" class="anchored"><a href="#val-set_inline_style" class="anchor"></a><code><span><span class="keyword">val</span> set_inline_style : <span>?important:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/Style/index.html#type-prop">Brr.El.Style.prop</a> <span class="arrow">&#45;&gt;</span></span> <span>on:<span><a href="../../Jstr/index.html#type-t">Jstr.t</a> <a href="../../../note/Note/index.html#type-event">Note.event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_style ~important p ~on e</code> sets the inline style property <code>p</code> of <code>e</code> to the value of <code>on</code> whenever it occurs with priority <code>important</code> (defaults to <code>false</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-def_inline_style" class="anchored"><a href="#val-def_inline_style" class="anchor"></a><code><span><span class="keyword">val</span> def_inline_style : <span>?important:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/Style/index.html#type-prop">Brr.El.Style.prop</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../Jstr/index.html#type-t">Jstr.t</a> <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>def_style p v e</code> sets the inline style property <code>p</code> of <code>e</code> over time with the value of <code>v</code>. <b>Warning.</b> This assumes <code>v</code> is the only entity interacting with that property.</p></div></div><h2 id="focus"><a href="#focus" class="anchor"></a>Focus</h2><div class="odoc-spec"><div class="spec value" id="val-set_has_focus" class="anchored"><a href="#val-set_has_focus" class="anchor"></a><code><span><span class="keyword">val</span> set_has_focus : <span>on:<span>bool <a href="../../../note/Note/index.html#type-event">Note.event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_focus e ~on</code> sets <code>e</code>'s focus with the value of <code>on</code> whenever it occurs.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-def_has_focus" class="anchored"><a href="#val-def_has_focus" class="anchor"></a><code><span><span class="keyword">val</span> def_has_focus : <span><span>bool <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>def_focus e v</code> defines the focus of <code>e</code> over time with the value of <code>v</code>. <b>Warning.</b> This asumes <code>v</code> is the only entity interacting with <code>e</code>'s focus.</p></div></div><h2 id="life_cycle"><a href="#life_cycle" class="anchor"></a>Life-cycle callbacks</h2><p>The browser document is watched for changes via a global <a href="https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver">MutationObserver</a>. Whenever an element is added in the HTML DOM, its <a href="#val-on_add"><code>on_add</code></a> callbacks get called and disposed. Whenever an element is removed from the HTML DOM, <a href="#val-on_rem"><code>on_rem</code></a> callbacks get called and disposed. A element is deemed part of the HTML DOM if its root node is the browser document.</p><div class="odoc-spec"><div class="spec value" id="val-on_add" class="anchored"><a href="#val-on_add" class="anchor"></a><code><span><span class="keyword">val</span> on_add : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>on_add f e</code> references <code>f</code> until <code>e</code> is inserted in the HTML DOM, at which point <code>f ()</code> is invoked.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-on_rem" class="anchored"><a href="#val-on_rem" class="anchor"></a><code><span><span class="keyword">val</span> on_rem : <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>on_rem f e</code> references <code>f</code> until <code>e</code> is removed from the HTML DOM, at which point <code>f ()</code> is invoked.</p></div></div><h2 id="note"><a href="#note" class="anchor"></a>Note loggers</h2><div class="odoc-spec"><div class="spec value" id="val-call" class="anchored"><a href="#val-call" class="anchor"></a><code><span><span class="keyword">val</span> call : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>on:<span><span class="type-var">'a</span> <a href="../../../note/Note/index.html#type-event">Note.event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>call f ~on e</code> calls <code>f</code> on <code>e</code> with the value of <code>e</code> whenever <code>on</code> occurs. The underlying logger is held by <code>e</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hold_logr" class="anchored"><a href="#val-hold_logr" class="anchor"></a><code><span><span class="keyword">val</span> hold_logr : <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../note/Note/Logr/index.html#type-t">Note.Logr.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>hold_logr e l</code> lets <code>e</code> hold logger <code>l</code> and destroy it via <a href="#val-on_rem"><code>on_rem</code></a> once <code>e</code> is removed from the document.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-may_hold_logr" class="anchored"><a href="#val-may_hold_logr" class="anchor"></a><code><span><span class="keyword">val</span> may_hold_logr : <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../../note/Note/Logr/index.html#type-t">Note.Logr.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>may_hold_logr e l</code> is like <a href="#val-hold_logr"><code>hold_logr</code></a> but does nothing on <code>None</code>.</p></div></div></div></body></html>