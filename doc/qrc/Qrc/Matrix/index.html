<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Matrix (qrc.Qrc.Matrix)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">qrc</a> &#x00BB; <a href="../index.html">Qrc</a> &#x00BB; Matrix</nav><header class="odoc-preamble"><h1>Module <code><span>Qrc.Matrix</span></code></h1><p>QR 2D matrices.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-bits" class="anchored"><a href="#type-bits" class="anchor"></a><code><span><span class="keyword">type</span> bits</span><span> = <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int8_unsigned_elt">Bigarray.int8_unsigned_elt</a>, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>)</span> <a href="../../../ocaml/Stdlib/Bigarray/Array1/index.html#type-t">Bigarray.Array1.t</a></span></span></code></div><div class="spec-doc"><p>The type for sequence of bits.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type for 2D square matrices of <em>modules</em> (binary pixels).</p><p>For a matrix of width <code>w</code>, the module at position (<code>0,0</code>) is the top-left corner, and (<code>w-1,w-1)</code> is the bottom-right corner. The quiet zone (surrounding frame of four zero modules) is not included. We store the bits in row-major order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-zero" class="anchored"><a href="#val-zero" class="anchor"></a><code><span><span class="keyword">val</span> zero : <span>w:int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>zero ~w</code> is a matrix of zeros of size <code>w</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_bits" class="anchored"><a href="#val-of_bits" class="anchor"></a><code><span><span class="keyword">val</span> of_bits : <span>w:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-bits">bits</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_bits ~w bits</code> is a matrix from the sequence of bits <code>bits</code> interpreted in row-major order. Exceeding final bits are ignored.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if less than <code>w</code><sup>2</sup> bits are provided.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-w" class="anchored"><a href="#val-w" class="anchor"></a><code><span><span class="keyword">val</span> w : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>w m</code> is the matrix width.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bits" class="anchored"><a href="#val-bits" class="anchor"></a><code><span><span class="keyword">val</span> bits : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-bits">bits</a></span></code></div><div class="spec-doc"><p><code>bits m</code> are the matrix's bits (modules) in row-major order. If there are more bits than <code>(w m) * (w m)</code>, exceeding final bits should be ignored.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>copy m</code> is a copy of <code>m</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>x:int <span class="arrow">&#45;&gt;</span></span> <span>y:int <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>get m ~x ~y</code> is the <code>(x,y)</code> module of <code>m</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>x:int <span class="arrow">&#45;&gt;</span></span> <span>y:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set m ~x ~y v</code> sets the <code>(x,y)</code> module of <code>m</code> to <code>true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear" class="anchored"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>x:int <span class="arrow">&#45;&gt;</span></span> <span>y:int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>clear m ~x ~y</code> sets the <code>(x,y)</code> module of <code>m</code> to <code>false</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>fold f m acc</code> folds <code>f</code> over all the modules <code>(x,y)</code> of <code>m</code> as <code>f x
      y (get m ~x ~y) acc'</code> in row-major order and starting with <code>acc</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_svg" class="anchored"><a href="#val-to_svg" class="anchor"></a><code><span><span class="keyword">val</span> to_svg : <span>?w_mm:int <span class="arrow">&#45;&gt;</span></span> <span>?invert:bool <span class="arrow">&#45;&gt;</span></span> <span>?quiet_zone:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_svg ~w_mm ~invert ~quiet_zone m</code> is an SVG image for <code>m</code> in a coordinate system using one (slightly larger) unit black square per set module. The image, including the quiet zone, has a width and height of <code>w_mm</code> millimeters (defaults to <code>50</code>). If <code>invert</code> is <code>true</code> (defaults to <code>false</code>) black modules are white and vice-versa. If <code>quiet_zone</code> is <code>true</code> (default) the surrounding frame of four zero modules is included.</p></div></div></div></body></html>