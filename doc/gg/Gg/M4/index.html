<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>M4 (gg.Gg.M4)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">gg</a> &#x00BB; <a href="../index.html">Gg</a> &#x00BB; M4</nav><header class="odoc-preamble"><h1>Module <code><span>Gg.M4</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#cons">Constructors, accessors and constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#transformations2d">2D space transformations</a></li><li><a href="#transformations3d">3D space transformations</a></li><li><a href="#projections3d">3D space projections</a></li><li><a href="#transformations4d">4D space transformations</a></li><li><a href="#traversal">Traversal</a></li><li><a href="#preds">Predicates and comparisons</a></li><li><a href="#printers">Printers</a></li><li><a href="#accessors">Element accessors</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>The type for 4D square matrices.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dim" class="anchored"><a href="#val-dim" class="anchor"></a><code><span><span class="keyword">val</span> dim : int</span></code></div><div class="spec-doc"><p><code>dim</code> is the dimension of rows and columns.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-v" class="anchored"><a href="#type-v" class="anchor"></a><code><span><span class="keyword">type</span> v</span><span> = <a href="../index.html#type-v4">v4</a></span></code></div><div class="spec-doc"><p>The type for rows and columns as vectors.</p></div></div><h2 id="cons"><a href="#cons" class="anchor"></a>Constructors, accessors and constants</h2><div class="odoc-spec"><div class="spec value" id="val-v" class="anchored"><a href="#val-v" class="anchor"></a><code><span><span class="keyword">val</span> v : <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>v e00 e01 e02 e03 e10 e11 e12 e13 e20 e21 e22 e23 e30 e31 e32 e33</code> is a matrix whose components are specified in <a href="http://en.wikipedia.org/wiki/Row-major_order">row-major order</a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_rows" class="anchored"><a href="#val-of_rows" class="anchor"></a><code><span><span class="keyword">val</span> of_rows : <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>of_rows r0 r1 r2 r3</code> is the matrix whose rows are <code>r0</code>, <code>r1</code>, <code>r2</code> and <code>r3</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_cols" class="anchored"><a href="#val-of_cols" class="anchor"></a><code><span><span class="keyword">val</span> of_cols : <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>of_cols c0 c1 c2 c3</code> is the matrix whose columns are <code>c0</code>, <code>c1</code>, <code>c2</code> and <code>c3</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-el" class="anchored"><a href="#val-el" class="anchor"></a><code><span><span class="keyword">val</span> el : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>el i j a</code> is the element <code>a</code><sub><code>ij</code></sub>. See also the direct <a href="#accessors">element accessors</a>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>i</code> or <code>j</code> is not in [<code>0;</code><code>dim</code>[.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-row" class="anchored"><a href="#val-row" class="anchor"></a><code><span><span class="keyword">val</span> row : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-v">v</a></span></code></div><div class="spec-doc"><p><code>row i a</code> is the <code>i</code>th row of <code>a</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>i</code> is not in [<code>0;</code><code>dim</code>[.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-col" class="anchored"><a href="#val-col" class="anchor"></a><code><span><span class="keyword">val</span> col : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-v">v</a></span></code></div><div class="spec-doc"><p><code>col j a</code> is the <code>j</code>th column of <code>a</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>j</code> is not in [<code>0;</code><code>dim</code>[.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-zero" class="anchored"><a href="#val-zero" class="anchor"></a><code><span><span class="keyword">val</span> zero : <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>zero</code> is the neutral element for <a href="#val-add"><code>add</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-id" class="anchored"><a href="#val-id" class="anchor"></a><code><span><span class="keyword">val</span> id : <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>id</code> is the identity matrix, the neutral element for <a href="#val-mul"><code>mul</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_m3_v3" class="anchored"><a href="#val-of_m3_v3" class="anchor"></a><code><span><span class="keyword">val</span> of_m3_v3 : <span><a href="../index.html#type-m3">m3</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>of_m3_v3 m v</code> is the matrix whose first three rows are those of <code>m</code>,<code>v</code> side by side and the fourth is <code>0 0 0 1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_quat" class="anchored"><a href="#val-of_quat" class="anchor"></a><code><span><span class="keyword">val</span> of_quat : <span><a href="../index.html#type-quat">quat</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>to_quat q</code> is the rotation of the <em>unit</em> quaternion <code>q</code> as 4D matrix.</p></div></div><h2 id="functions"><a href="#functions" class="anchor"></a>Functions</h2><div class="odoc-spec"><div class="spec value" id="val-neg" class="anchored"><a href="#val-neg" class="anchor"></a><code><span><span class="keyword">val</span> neg : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>neg a</code> is the negated matrix <code>-a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>add a b</code> is the matrix addition <code>a + b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>sub a b</code> is the matrix subtraction <code>a - b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mul" class="anchored"><a href="#val-mul" class="anchor"></a><code><span><span class="keyword">val</span> mul : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>mul a b</code> is the <a href="http://mathworld.wolfram.com/MatrixMultiplication.html">matrix multiplication</a> <code>a * b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-emul" class="anchored"><a href="#val-emul" class="anchor"></a><code><span><span class="keyword">val</span> emul : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>emul a b</code> is the element wise multiplication of <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ediv" class="anchored"><a href="#val-ediv" class="anchor"></a><code><span><span class="keyword">val</span> ediv : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>ediv a b</code> is the element wise division of <code>a</code> and <code>b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-smul" class="anchored"><a href="#val-smul" class="anchor"></a><code><span><span class="keyword">val</span> smul : <span>float <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>smul s a</code> is <code>a</code>'s elements multiplied by the scalar <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-transpose" class="anchored"><a href="#val-transpose" class="anchor"></a><code><span><span class="keyword">val</span> transpose : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>transpose a</code> is the <a href="http://mathworld.wolfram.com/Transpose.html">transpose</a> <code>a</code><sup>T</sup>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-trace" class="anchored"><a href="#val-trace" class="anchor"></a><code><span><span class="keyword">val</span> trace : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>trace a</code> is the <a href="http://mathworld.wolfram.com/MatrixTrace.html">matrix trace</a> <code>trace(a)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-det" class="anchored"><a href="#val-det" class="anchor"></a><code><span><span class="keyword">val</span> det : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>det a</code> is the <a href="http://mathworld.wolfram.com/Determinant.html">determinant</a> <code>|a|</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-inv" class="anchored"><a href="#val-inv" class="anchor"></a><code><span><span class="keyword">val</span> inv : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>inv a</code> is the <a href="http://mathworld.wolfram.com/MatrixInverse.html">inverse matrix</a> <code>a</code><sup>-1</sup>.</p></div></div><h2 id="transformations2d"><a href="#transformations2d" class="anchor"></a>2D space transformations</h2><div class="odoc-spec"><div class="spec value" id="val-move2" class="anchored"><a href="#val-move2" class="anchor"></a><code><span><span class="keyword">val</span> move2 : <span><a href="../index.html#type-v2">v2</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M3/index.html#val-move2"><code>M3.move2</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rot2" class="anchored"><a href="#val-rot2" class="anchor"></a><code><span><span class="keyword">val</span> rot2 : <span>?pt:<a href="../index.html#type-p2">p2</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M3/index.html#val-rot2"><code>M3.rot2</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-scale2" class="anchored"><a href="#val-scale2" class="anchor"></a><code><span><span class="keyword">val</span> scale2 : <span><a href="../index.html#type-v2">v2</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M2/index.html#val-scale2"><code>M2.scale2</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rigid2" class="anchored"><a href="#val-rigid2" class="anchor"></a><code><span><span class="keyword">val</span> rigid2 : <span>move:<a href="../index.html#type-v2">v2</a> <span class="arrow">&#45;&gt;</span></span> <span>rot:float <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M3/index.html#val-rigid2"><code>M3.rigid2</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-srigid2" class="anchored"><a href="#val-srigid2" class="anchor"></a><code><span><span class="keyword">val</span> srigid2 : <span>move:<a href="../index.html#type-v2">v2</a> <span class="arrow">&#45;&gt;</span></span> <span>rot:float <span class="arrow">&#45;&gt;</span></span> <span>scale:<a href="../index.html#type-v2">v2</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M3/index.html#val-srigid2"><code>M3.srigid2</code></a>.</p></div></div><h2 id="transformations3d"><a href="#transformations3d" class="anchor"></a>3D space transformations</h2><div class="odoc-spec"><div class="spec value" id="val-move3" class="anchored"><a href="#val-move3" class="anchor"></a><code><span><span class="keyword">val</span> move3 : <span><a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>move d</code> translates 3D space in the x, y and z dimensions according to <code>d</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rot3_map" class="anchored"><a href="#val-rot3_map" class="anchor"></a><code><span><span class="keyword">val</span> rot3_map : <span><a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M3/index.html#val-rot3_map"><code>M3.rot3_map</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rot3_axis" class="anchored"><a href="#val-rot3_axis" class="anchor"></a><code><span><span class="keyword">val</span> rot3_axis : <span><a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M3/index.html#val-rot3_axis"><code>M3.rot3_axis</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rot3_zyx" class="anchored"><a href="#val-rot3_zyx" class="anchor"></a><code><span><span class="keyword">val</span> rot3_zyx : <span><a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M3/index.html#val-rot3_zyx"><code>M3.rot3_zyx</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-scale3" class="anchored"><a href="#val-scale3" class="anchor"></a><code><span><span class="keyword">val</span> scale3 : <span><a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p>See <a href="../M3/index.html#val-scale3"><code>M3.scale3</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rigid3" class="anchored"><a href="#val-rigid3" class="anchor"></a><code><span><span class="keyword">val</span> rigid3 : <span>move:<a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <span>rot:<span>(<a href="../index.html#type-v3">v3</a> * float)</span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>rigid3 move rot</code> is the rigid body transformation of 3D space that rotates by the axis/radian angle <code>rot</code> and then translates by <code>move</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rigid3q" class="anchored"><a href="#val-rigid3q" class="anchor"></a><code><span><span class="keyword">val</span> rigid3q : <span>move:<a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <span>rot:<a href="../index.html#type-quat">quat</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>rigid3q move rot</code> is the rigid body transformation of 3D space that rotates by the quaternion <code>rot</code> and then translates by <code>move</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-srigid3" class="anchored"><a href="#val-srigid3" class="anchor"></a><code><span><span class="keyword">val</span> srigid3 : <span>move:<a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <span>rot:<span>(<a href="../index.html#type-v3">v3</a> * float)</span> <span class="arrow">&#45;&gt;</span></span> <span>scale:<a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>srigid3 scale move rot scale</code> is like <a href="#val-rigid3"><code>rigid3</code></a> but starts by scaling according to <code>scale</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-srigid3q" class="anchored"><a href="#val-srigid3q" class="anchor"></a><code><span><span class="keyword">val</span> srigid3q : <span>move:<a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <span>rot:<a href="../index.html#type-quat">quat</a> <span class="arrow">&#45;&gt;</span></span> <span>scale:<a href="../index.html#type-v3">v3</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>srigid3q move rot scale</code> is like <a href="#val-rigid3q"><code>rigid3q</code></a> but starts by scaling according to <code>scale</code>.</p></div></div><h2 id="projections3d"><a href="#projections3d" class="anchor"></a>3D space projections</h2><p>Projection matrices assume a right-handed coordinate system with the eye at the origin looking down the z-axis.</p><div class="odoc-spec"><div class="spec value" id="val-ortho" class="anchored"><a href="#val-ortho" class="anchor"></a><code><span><span class="keyword">val</span> ortho : <span>left:float <span class="arrow">&#45;&gt;</span></span> <span>right:float <span class="arrow">&#45;&gt;</span></span> <span>bot:float <span class="arrow">&#45;&gt;</span></span> <span>top:float <span class="arrow">&#45;&gt;</span></span> <span>near:float <span class="arrow">&#45;&gt;</span></span>
<span>far:float <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>ortho left right bot top near far</code> maps the axis aligned box with corners <code>(left, bot, -near)</code> and <code>(right, top, -far)</code> to the axis aligned cube with corner <code>(-1, -1, -1)</code> and <code>(1, 1, 1)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-persp" class="anchored"><a href="#val-persp" class="anchor"></a><code><span><span class="keyword">val</span> persp : <span>left:float <span class="arrow">&#45;&gt;</span></span> <span>right:float <span class="arrow">&#45;&gt;</span></span> <span>bot:float <span class="arrow">&#45;&gt;</span></span> <span>top:float <span class="arrow">&#45;&gt;</span></span> <span>near:float <span class="arrow">&#45;&gt;</span></span>
<span>far:float <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>persp left right bot top near far</code> maps the frustum with top of the underlying pyramid at the origin, near clip rectangle corners <code>(left, bot, -near)</code>, <code>(right, top, -near)</code> and far plane at <code>-far</code> to the axis aligned cube with corners <code>(-1, -1, -1)</code> and <code>(1,1,1)</code>.</p></div></div><h2 id="transformations4d"><a href="#transformations4d" class="anchor"></a>4D space transformations</h2><div class="odoc-spec"><div class="spec value" id="val-scale4" class="anchored"><a href="#val-scale4" class="anchor"></a><code><span><span class="keyword">val</span> scale4 : <span><a href="../index.html#type-v4">v4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>scale4 s</code> scales 4D space in the x, y, z and w dimensions according to <code>s</code>.</p></div></div><h2 id="traversal"><a href="#traversal" class="anchor"></a>Traversal</h2><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> float)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>map f a</code> is the element wise application of <code>f</code> to <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mapi" class="anchored"><a href="#val-mapi" class="anchor"></a><code><span><span class="keyword">val</span> mapi : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> float)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-m4">m4</a></span></code></div><div class="spec-doc"><p><code>mapi f a</code> is like <a href="#val-map"><code>map</code></a> but the element indices are also given.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>fold f acc a</code> is <code>f (</code>...<code>(f (f acc a</code><sub>00</sub><code>) a</code><sub>10</sub><code>)</code>...<code>)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-foldi" class="anchored"><a href="#val-foldi" class="anchor"></a><code><span><span class="keyword">val</span> foldi : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>foldi f acc a</code> is <code>f (</code>...<code>(f (f acc 0 0 a</code><sub>00</sub><code>) 1 0 a</code><sub>10</sub><code>)</code>...<code>)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f a</code> is <code>f a</code><sub>00</sub><code>; f a</code><sub>10</sub><code>;</code> ...</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iteri" class="anchored"><a href="#val-iteri" class="anchor"></a><code><span><span class="keyword">val</span> iteri : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iteri f a</code> is <code>f 0 0 a</code><sub>00</sub><code>; f 1 0 a</code><sub>10</sub><code>;</code> ...</p></div></div><h2 id="preds"><a href="#preds" class="anchor"></a>Predicates and comparisons</h2><div class="odoc-spec"><div class="spec value" id="val-for_all" class="anchored"><a href="#val-for_all" class="anchor"></a><code><span><span class="keyword">val</span> for_all : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>for_all p a</code> is <code>p a</code><sub>00</sub><code> &amp;&amp; p a</code><sub>10</sub><code> &amp;&amp;</code> ...</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exists" class="anchored"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>exists p a</code> is <code>p a</code><sub>00</sub><code> || p a</code><sub>10</sub><code> ||</code> ...</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>equal a b</code> is <code>a = b</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_f" class="anchored"><a href="#val-equal_f" class="anchor"></a><code><span><span class="keyword">val</span> equal_f : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>equal_f eq a b</code> tests <code>a</code> and <code>b</code> like <a href="#val-equal"><code>equal</code></a> but uses <code>eq</code> to test floating point values.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare a b</code> is <code>Pervasives.compare a b</code>. That is lexicographic comparison in column-major order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_f" class="anchored"><a href="#val-compare_f" class="anchor"></a><code><span><span class="keyword">val</span> compare_f : <span><span>(<span>float <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare_f cmp a b</code> compares <code>a</code> and <code>b</code> like <a href="#val-compare"><code>compare</code></a> but uses <code>cmp</code> to compare floating point values.</p></div></div><h2 id="printers"><a href="#printers" class="anchor"></a>Printers</h2><div class="odoc-spec"><div class="spec value" id="val-pp" class="anchored"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>pp ppf a</code> prints a textual representation of <code>a</code> on <code>ppf</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_f" class="anchored"><a href="#val-pp_f" class="anchor"></a><code><span><span class="keyword">val</span> pp_f : <span><span>(<span><a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> <span>float <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>pp_f pp_e ppf a</code> prints <code>a</code> like <a href="#val-pp"><code>pp</code></a> but uses <code>pp_e</code> to print floating point values.</p></div></div><h2 id="accessors"><a href="#accessors" class="anchor"></a>Element accessors</h2><div class="odoc-spec"><div class="spec value" id="val-e00" class="anchored"><a href="#val-e00" class="anchor"></a><code><span><span class="keyword">val</span> e00 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e01" class="anchored"><a href="#val-e01" class="anchor"></a><code><span><span class="keyword">val</span> e01 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e02" class="anchored"><a href="#val-e02" class="anchor"></a><code><span><span class="keyword">val</span> e02 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e03" class="anchored"><a href="#val-e03" class="anchor"></a><code><span><span class="keyword">val</span> e03 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e10" class="anchored"><a href="#val-e10" class="anchor"></a><code><span><span class="keyword">val</span> e10 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e11" class="anchored"><a href="#val-e11" class="anchor"></a><code><span><span class="keyword">val</span> e11 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e12" class="anchored"><a href="#val-e12" class="anchor"></a><code><span><span class="keyword">val</span> e12 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e13" class="anchored"><a href="#val-e13" class="anchor"></a><code><span><span class="keyword">val</span> e13 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e20" class="anchored"><a href="#val-e20" class="anchor"></a><code><span><span class="keyword">val</span> e20 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e21" class="anchored"><a href="#val-e21" class="anchor"></a><code><span><span class="keyword">val</span> e21 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e22" class="anchored"><a href="#val-e22" class="anchor"></a><code><span><span class="keyword">val</span> e22 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e23" class="anchored"><a href="#val-e23" class="anchor"></a><code><span><span class="keyword">val</span> e23 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e30" class="anchored"><a href="#val-e30" class="anchor"></a><code><span><span class="keyword">val</span> e30 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e31" class="anchored"><a href="#val-e31" class="anchor"></a><code><span><span class="keyword">val</span> e31 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e32" class="anchored"><a href="#val-e32" class="anchor"></a><code><span><span class="keyword">val</span> e32 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-e33" class="anchored"><a href="#val-e33" class="anchor"></a><code><span><span class="keyword">val</span> e33 : <span><a href="../index.html#type-m4">m4</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div></div></body></html>