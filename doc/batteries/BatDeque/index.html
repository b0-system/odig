<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatDeque (batteries.BatDeque)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">batteries</a> &#x00BB; BatDeque</nav><h1>Module <code>BatDeque</code></h1><p>Functional double-ended queues</p><nav class="toc"><ul><li><a href="#construction">Construction</a></li><li><a href="#deconstruction">Deconstruction</a></li><li><a href="#basic-operations">Basic operations</a></li><li><a href="#transformation">Transformation</a></li><li><a href="#printing">Printing</a></li></ul></nav></header><dl><dt class="spec type" id="type-dq"><a href="#type-dq" class="anchor"></a><code><span class="keyword">type </span>+'a dq</code></dt><dd><p>The type of double-ended queues</p></dd></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type </span>'a t</code><code><span class="keyword"> = </span><span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p>A synonym for convenience</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span>BatEnum.Enumerable<span class="keyword"> with </span><span class="keyword">type </span>'a <a href="index.html">BatDeque</a>.enumerable<span class="keyword"> = </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-enumerable"><a href="#type-enumerable" class="anchor"></a><code><span class="keyword">type </span>'a enumerable</code><code><span class="keyword"> = </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt></dl><dl><dt class="spec value" id="val-enum"><a href="#val-enum" class="anchor"></a><code><span class="keyword">val </span>enum : <span class="type-var">'a</span> <a href="index.html#type-enumerable">enumerable</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> BatEnum.t</code></dt><dt class="spec value" id="val-of_enum"><a href="#val-of_enum" class="anchor"></a><code><span class="keyword">val </span>of_enum : <span class="type-var">'a</span> BatEnum.t <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-enumerable">enumerable</a></code></dt></dl></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span>BatInterfaces.Mappable<span class="keyword"> with </span><span class="keyword">type </span>'a <a href="index.html">BatDeque</a>.mappable<span class="keyword"> = </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-mappable"><a href="#type-mappable" class="anchor"></a><code><span class="keyword">type </span>'a mappable</code><code><span class="keyword"> = </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-mappable">mappable</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-mappable">mappable</a></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val </span>size : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>size dq</code> is the number of elements in the <code>dq</code>. O(1)</p></dd></dl><section><header><h6 id="construction"><a href="#construction" class="anchor"></a>Construction</h6></header><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val </span>empty : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p>The empty deque.</p></dd></dl><dl><dt class="spec value" id="val-cons"><a href="#val-cons" class="anchor"></a><code><span class="keyword">val </span>cons : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>cons x dq</code> adds <code>x</code> to the front of <code>dq</code>. O(1)</p></dd></dl><dl><dt class="spec value" id="val-snoc"><a href="#val-snoc" class="anchor"></a><code><span class="keyword">val </span>snoc : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>snoc x dq</code> adds <code>x</code> to the rear of <code>dq</code>. O(1)</p></dd></dl></section><section><header><h6 id="deconstruction"><a href="#deconstruction" class="anchor"></a>Deconstruction</h6></header><dl><dt class="spec value" id="val-front"><a href="#val-front" class="anchor"></a><code><span class="keyword">val </span>front : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'a</span> <a href="index.html#type-dq">dq</a>) option</code></dt><dd><p><code>front dq</code> returns <code>Some (x, dq')</code> iff <code>x</code> is at the front of <code>dq</code> and <code>dq'</code> is the rest of <code>dq</code> excluding <code>x</code>, and <code>None</code> if <code>dq</code> has no elements. O(1) amortized, O(n) worst case</p></dd></dl><dl><dt class="spec value" id="val-rear"><a href="#val-rear" class="anchor"></a><code><span class="keyword">val </span>rear : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-dq">dq</a><span class="keyword"> * </span><span class="type-var">'a</span>) option</code></dt><dd><p><code>rear dq</code> returns <code>Some (dq', x)</code> iff <code>x</code> is at the rear of <code>dq</code> and <code>dq'</code> is the rest of <code>dq</code> excluding <code>x</code>, and <code>None</code> if <code>dq</code> has no elements. O(1) amortized, O(n) worst case</p></dd></dl></section><section><header><h6 id="basic-operations"><a href="#basic-operations" class="anchor"></a>Basic operations</h6></header><dl><dt class="spec value" id="val-eq"><a href="#val-eq" class="anchor"></a><code><span class="keyword">val </span>eq : ?&#8288;eq:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>eq dq1 dq2</code> is true if <code>dq1</code> and <code>dq2</code> have the same sequence of elements. A custom function can be optionally provided with the <code>eq</code> parameter (default is <span class="xref-unresolved" title="unresolved reference to &quot;Pervasives.(=)&quot;"><code>Pervasives</code>.(=)</span>).</p><dl><dt>since</dt><dd>2.2.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-rev"><a href="#val-rev" class="anchor"></a><code><span class="keyword">val </span>rev : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>rev dq</code> reverses <code>dq</code>. O(1)</p></dd></dl><dl><dt class="spec value" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><code><span class="keyword">val </span>is_empty : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_empty dq</code> returns <code>false</code> iff <code>dq</code> has no elements. O(1)</p></dd></dl><dl><dt class="spec value" id="val-at"><a href="#val-at" class="anchor"></a><code><span class="keyword">val </span>at : ?&#8288;backwards:bool <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span> option</code></dt><dd><p><code>at ~backwards dq k</code> returns the <code>k</code>th element of <code>dq</code>, from the front if <code>backwards</code> is false, and from the rear if <code>backwards</code> is true. By default, <code>backwards = false</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val </span>map : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>map f dq</code> returns a deque where every element <code>x</code> of <code>dq</code> has been replaced with <code>f x</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-mapi"><a href="#val-mapi" class="anchor"></a><code><span class="keyword">val </span>mapi : (int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>mapi f dq</code> returns a deque where every element <code>x</code> of <code>dq</code> has been replaced with <code>f n x</code>, where <code>n</code> is the position of <code>x</code> from the front of <code>dq</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val </span>iter : (<span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iter f dq</code> calls <code>f x</code> on each element <code>x</code> of <code>dq</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-iteri"><a href="#val-iteri" class="anchor"></a><code><span class="keyword">val </span>iteri : (int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>iteri f dq</code> calls <code>f n x</code> on each element <code>x</code> of <code>dq</code>. The first argument to <code>f</code> is the position of the element from the front of <code>dq</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val </span>find : ?&#8288;backwards:bool <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> (int<span class="keyword"> * </span><span class="type-var">'a</span>) option</code></dt><dd><p><code>find ~backwards f dq</code> returns <code>Some (n, x)</code> if <code>x</code> at position <code>n</code> is such that <code>f x</code> is true, or <code>None</code> if there is no such element. The position <code>n</code> is from the rear if <code>backwards</code> is true, and from the front if <code>backwards</code> is <code>false</code>. By default, <code>backwards</code> is <code>false</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-fold_left"><a href="#val-fold_left" class="anchor"></a><code><span class="keyword">val </span>fold_left : (<span class="type-var">'acc</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'acc</span>) <span>&#45;&gt;</span> <span class="type-var">'acc</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'acc</span></code></dt><dd><p><code>fold_left f acc dq</code> is equivalent to <code>List.fold_left f acc
    (to_list dq)</code>, but more efficient. O(n)</p></dd></dl><dl><dt class="spec value" id="val-fold_right"><a href="#val-fold_right" class="anchor"></a><code><span class="keyword">val </span>fold_right : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'acc</span> <span>&#45;&gt;</span> <span class="type-var">'acc</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'acc</span> <span>&#45;&gt;</span> <span class="type-var">'acc</span></code></dt><dd><p><code>fold_right f dq acc</code> is equivalent to <code>List.fold_right f
    (to_list dq) acc</code>, but more efficient. O(n)</p></dd></dl><dl><dt class="spec value" id="val-append"><a href="#val-append" class="anchor"></a><code><span class="keyword">val </span>append : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>append dq1 dq2</code> represents the concatenateion of <code>dq1</code> and <code>dq2</code>. O(min(m, n))</p></dd></dl><dl><dt class="spec value" id="val-append_list"><a href="#val-append_list" class="anchor"></a><code><span class="keyword">val </span>append_list : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>append_list dq l</code> is equivalent to <code>append dq (of_list l)</code>, but more efficient. O(min(m, n))</p></dd></dl><dl><dt class="spec value" id="val-prepend_list"><a href="#val-prepend_list" class="anchor"></a><code><span class="keyword">val </span>prepend_list : <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>prepend_list l dq</code> is equivalent to <code>append (of_list l) dq</code>, but more efficient. O(min(m, n))</p></dd></dl><dl><dt class="spec value" id="val-rotate_forward"><a href="#val-rotate_forward" class="anchor"></a><code><span class="keyword">val </span>rotate_forward : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p>A cyclic shift of deque elements from rear to front by one position. As a result, the front element becomes the rear element. Time: O(1) amortized, O(n) worst-case.</p><dl><dt>since</dt><dd>2.3.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-rotate_backward"><a href="#val-rotate_backward" class="anchor"></a><code><span class="keyword">val </span>rotate_backward : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p>A cyclic shift of deque elements from front to rear by one position. As a result, the rear element becomes the front element. Time: O(1) amortized, O(n) worst-case.</p><dl><dt>since</dt><dd>2.3.0</dd></dl></dd></dl></section><section><header><h6 id="transformation"><a href="#transformation" class="anchor"></a>Transformation</h6></header><dl><dt class="spec value" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val </span>of_list : <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>of_list l</code> is a deque representation of the elements of <code>l</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span class="keyword">val </span>to_list : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> list</code></dt><dd><p><code>to_list dq</code> is a list representation of the elements of <code>dq</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-of_enum"><a href="#val-of_enum" class="anchor"></a><code><span class="keyword">val </span>of_enum : <span class="type-var">'a</span> BatEnum.t <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a></code></dt><dd><p><code>of_enum e</code> is a deque representation of the elements of <code>e</code>. Consumes the enumeration <code>e</code>. O(n)</p></dd></dl><dl><dt class="spec value" id="val-enum"><a href="#val-enum" class="anchor"></a><code><span class="keyword">val </span>enum : <span class="type-var">'a</span> <a href="index.html#type-dq">dq</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> BatEnum.t</code></dt><dd><p><code>enum dq</code> is an enumeration of the elements of <code>dq</code> from the front to the rear. This function is O(1), but generating each element of the enumeration is amortized O(1), and O(n) worst case.</p></dd></dl></section><section><header><h6 id="printing"><a href="#printing" class="anchor"></a>Printing</h6></header><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val </span>print : ?&#8288;first:string <span>&#45;&gt;</span> ?&#8288;last:string <span>&#45;&gt;</span> ?&#8288;sep:string <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'b</span>) BatIO.printer <span>&#45;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-dq">dq</a>, <span class="type-var">'b</span>) BatIO.printer</code></dt><dd><p>Print the contents of the deque. O(n)</p></dd></dl><dl><dt class="spec value" id="val-invariants"><a href="#val-invariants" class="anchor"></a><code><span class="keyword">val </span>invariants : <span class="type-var">_</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>/*</p><p>/*</p></dd></dl></section></div></body></html>