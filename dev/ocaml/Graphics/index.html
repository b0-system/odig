<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Graphics (ocaml.Graphics)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ocaml</a> &#x00BB; Graphics</nav><h1>Module <code>Graphics</code></h1><p>Machine-independent graphics primitives.</p><nav class="toc"><ul><li><a href="#initializations">Initializations</a></li><li><a href="#colors">Colors</a><ul><li><a href="#some-predefined-colors">Some predefined colors</a></li></ul></li><li><a href="#point-and-line-drawing">Point and line drawing</a></li><li><a href="#text-drawing">Text drawing</a></li><li><a href="#filling">Filling</a></li><li><a href="#images">Images</a></li><li><a href="#mouse-and-keyboard-events">Mouse and keyboard events</a></li><li><a href="#mouse-and-keyboard-polling">Mouse and keyboard polling</a></li><li><a href="#sound">Sound</a></li><li><a href="#double-buffering">Double buffering</a></li></ul></nav></header><dl><dt class="spec exception" id="exception-Graphic_failure"><a href="#exception-Graphic_failure" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Graphic_failure</span> <span class="keyword">of</span> string</code></dt><dd><p>Raised by the functions below when they encounter an error.</p></dd></dl><section><header><h2 id="initializations"><a href="#initializations" class="anchor"></a>Initializations</h2></header><dl><dt class="spec value" id="val-open_graph"><a href="#val-open_graph" class="anchor"></a><code><span class="keyword">val</span> open_graph : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Show the graphics window or switch the screen to graphic mode. The graphics window is cleared and the current point is set to (0, 0). The string argument is used to pass optional information on the desired graphics mode, the graphics window size, and so on. Its interpretation is implementation-dependent. If the empty string is given, a sensible default is selected.</p></dd></dl><dl><dt class="spec value" id="val-close_graph"><a href="#val-close_graph" class="anchor"></a><code><span class="keyword">val</span> close_graph : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Delete the graphics window or switch the screen back to text mode.</p></dd></dl><dl><dt class="spec value" id="val-set_window_title"><a href="#val-set_window_title" class="anchor"></a><code><span class="keyword">val</span> set_window_title : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the title of the graphics window.</p></dd></dl><dl><dt class="spec value" id="val-resize_window"><a href="#val-resize_window" class="anchor"></a><code><span class="keyword">val</span> resize_window : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Resize and erase the graphics window.</p></dd></dl><dl><dt class="spec external" id="val-clear_graph"><a href="#val-clear_graph" class="anchor"></a><code><span class="keyword">val</span> clear_graph : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Erase the graphics window.</p></dd></dl><dl><dt class="spec external" id="val-size_x"><a href="#val-size_x" class="anchor"></a><code><span class="keyword">val</span> size_x : unit <span>&#45;&gt;</span> int</code></dt><dd><p>See <a href="index.html#val-size_y"><code>Graphics.size_y</code></a>.</p></dd></dl><dl><dt class="spec external" id="val-size_y"><a href="#val-size_y" class="anchor"></a><code><span class="keyword">val</span> size_y : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the size of the graphics window. Coordinates of the screen pixels range over <code>0 .. size_x()-1</code> and <code>0 .. size_y()-1</code>. Drawings outside of this rectangle are clipped, without causing an error. The origin (0,0) is at the lower left corner. Some implementation (e.g. X Windows) represent coordinates by 16-bit integers, hence wrong clipping may occur with coordinates below <code>-32768</code> or above <code>32676</code>.</p></dd></dl></section><section><header><h2 id="colors"><a href="#colors" class="anchor"></a>Colors</h2></header><dl><dt class="spec type" id="type-color"><a href="#type-color" class="anchor"></a><code><span class="keyword">type</span> color</code><code> = int</code></dt><dd><p>A color is specified by its R, G, B components. Each component is in the range <code>0..255</code>. The three components are packed in an <code>int</code>: <code>0xRRGGBB</code>, where <code>RR</code> are the two hexadecimal digits for the red component, <code>GG</code> for the green component, <code>BB</code> for the blue component.</p></dd></dl><dl><dt class="spec value" id="val-rgb"><a href="#val-rgb" class="anchor"></a><code><span class="keyword">val</span> rgb : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-color">color</a></code></dt><dd><p><code>rgb r g b</code> returns the integer encoding the color with red component <code>r</code>, green component <code>g</code>, and blue component <code>b</code>. <code>r</code>, <code>g</code> and <code>b</code> are in the range <code>0..255</code>.</p></dd></dl><dl><dt class="spec external" id="val-set_color"><a href="#val-set_color" class="anchor"></a><code><span class="keyword">val</span> set_color : <a href="index.html#type-color">color</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the current drawing color.</p></dd></dl><dl><dt class="spec value" id="val-background"><a href="#val-background" class="anchor"></a><code><span class="keyword">val</span> background : <a href="index.html#type-color">color</a></code></dt><dd><p>See <a href="index.html#val-foreground"><code>Graphics.foreground</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-foreground"><a href="#val-foreground" class="anchor"></a><code><span class="keyword">val</span> foreground : <a href="index.html#type-color">color</a></code></dt><dd><p>Default background and foreground colors (usually, either black foreground on a white background or white foreground on a black background). <a href="index.html#val-clear_graph"><code>Graphics.clear_graph</code></a> fills the screen with the <code>background</code> color. The initial drawing color is <code>foreground</code>.</p></dd></dl><section><header><h6 id="some-predefined-colors"><a href="#some-predefined-colors" class="anchor"></a>Some predefined colors</h6></header><dl><dt class="spec value" id="val-black"><a href="#val-black" class="anchor"></a><code><span class="keyword">val</span> black : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-white"><a href="#val-white" class="anchor"></a><code><span class="keyword">val</span> white : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-red"><a href="#val-red" class="anchor"></a><code><span class="keyword">val</span> red : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-green"><a href="#val-green" class="anchor"></a><code><span class="keyword">val</span> green : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-blue"><a href="#val-blue" class="anchor"></a><code><span class="keyword">val</span> blue : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-yellow"><a href="#val-yellow" class="anchor"></a><code><span class="keyword">val</span> yellow : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-cyan"><a href="#val-cyan" class="anchor"></a><code><span class="keyword">val</span> cyan : <a href="index.html#type-color">color</a></code></dt><dt class="spec value" id="val-magenta"><a href="#val-magenta" class="anchor"></a><code><span class="keyword">val</span> magenta : <a href="index.html#type-color">color</a></code></dt></dl></section></section><section><header><h2 id="point-and-line-drawing"><a href="#point-and-line-drawing" class="anchor"></a>Point and line drawing</h2></header><dl><dt class="spec external" id="val-plot"><a href="#val-plot" class="anchor"></a><code><span class="keyword">val</span> plot : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Plot the given point with the current drawing color.</p></dd></dl><dl><dt class="spec value" id="val-plots"><a href="#val-plots" class="anchor"></a><code><span class="keyword">val</span> plots : (int * int) array <span>&#45;&gt;</span> unit</code></dt><dd><p>Plot the given points with the current drawing color.</p></dd></dl><dl><dt class="spec external" id="val-point_color"><a href="#val-point_color" class="anchor"></a><code><span class="keyword">val</span> point_color : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-color">color</a></code></dt><dd><p>Return the color of the given point in the backing store (see &quot;Double buffering&quot; below).</p></dd></dl><dl><dt class="spec external" id="val-moveto"><a href="#val-moveto" class="anchor"></a><code><span class="keyword">val</span> moveto : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Position the current point.</p></dd></dl><dl><dt class="spec value" id="val-rmoveto"><a href="#val-rmoveto" class="anchor"></a><code><span class="keyword">val</span> rmoveto : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>rmoveto dx dy</code> translates the current point by the given vector.</p></dd></dl><dl><dt class="spec external" id="val-current_x"><a href="#val-current_x" class="anchor"></a><code><span class="keyword">val</span> current_x : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the abscissa of the current point.</p></dd></dl><dl><dt class="spec external" id="val-current_y"><a href="#val-current_y" class="anchor"></a><code><span class="keyword">val</span> current_y : unit <span>&#45;&gt;</span> int</code></dt><dd><p>Return the ordinate of the current point.</p></dd></dl><dl><dt class="spec value" id="val-current_point"><a href="#val-current_point" class="anchor"></a><code><span class="keyword">val</span> current_point : unit <span>&#45;&gt;</span> int * int</code></dt><dd><p>Return the position of the current point.</p></dd></dl><dl><dt class="spec external" id="val-lineto"><a href="#val-lineto" class="anchor"></a><code><span class="keyword">val</span> lineto : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Draw a line with endpoints the current point and the given point, and move the current point to the given point.</p></dd></dl><dl><dt class="spec value" id="val-rlineto"><a href="#val-rlineto" class="anchor"></a><code><span class="keyword">val</span> rlineto : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Draw a line with endpoints the current point and the current point translated of the given vector, and move the current point to this point.</p></dd></dl><dl><dt class="spec value" id="val-curveto"><a href="#val-curveto" class="anchor"></a><code><span class="keyword">val</span> curveto : (int * int) <span>&#45;&gt;</span> (int * int) <span>&#45;&gt;</span> (int * int) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>curveto b c d</code> draws a cubic Bezier curve starting from the current point to point <code>d</code>, with control points <code>b</code> and <code>c</code>, and moves the current point to <code>d</code>.</p></dd></dl><dl><dt class="spec value" id="val-draw_rect"><a href="#val-draw_rect" class="anchor"></a><code><span class="keyword">val</span> draw_rect : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_rect x y w h</code> draws the rectangle with lower left corner at <code>x,y</code>, width <code>w</code> and height <code>h</code>. The current point is unchanged. Raise <code>Invalid_argument</code> if <code>w</code> or <code>h</code> is negative.</p></dd></dl><dl><dt class="spec value" id="val-draw_poly_line"><a href="#val-draw_poly_line" class="anchor"></a><code><span class="keyword">val</span> draw_poly_line : (int * int) array <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_poly_line points</code> draws the line that joins the points given by the array argument. The array contains the coordinates of the vertices of the polygonal line, which need not be closed. The current point is unchanged.</p></dd></dl><dl><dt class="spec value" id="val-draw_poly"><a href="#val-draw_poly" class="anchor"></a><code><span class="keyword">val</span> draw_poly : (int * int) array <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_poly polygon</code> draws the given polygon. The array contains the coordinates of the vertices of the polygon. The current point is unchanged.</p></dd></dl><dl><dt class="spec value" id="val-draw_segments"><a href="#val-draw_segments" class="anchor"></a><code><span class="keyword">val</span> draw_segments : (int * int * int * int) array <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_segments segments</code> draws the segments given in the array argument. Each segment is specified as a quadruple <code>(x0, y0, x1, y1)</code> where <code>(x0, y0)</code> and <code>(x1, y1)</code> are the coordinates of the end points of the segment. The current point is unchanged.</p></dd></dl><dl><dt class="spec value" id="val-draw_arc"><a href="#val-draw_arc" class="anchor"></a><code><span class="keyword">val</span> draw_arc : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_arc x y rx ry a1 a2</code> draws an elliptical arc with center <code>x,y</code>, horizontal radius <code>rx</code>, vertical radius <code>ry</code>, from angle <code>a1</code> to angle <code>a2</code> (in degrees). The current point is unchanged. Raise <code>Invalid_argument</code> if <code>rx</code> or <code>ry</code> is negative.</p></dd></dl><dl><dt class="spec value" id="val-draw_ellipse"><a href="#val-draw_ellipse" class="anchor"></a><code><span class="keyword">val</span> draw_ellipse : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_ellipse x y rx ry</code> draws an ellipse with center <code>x,y</code>, horizontal radius <code>rx</code> and vertical radius <code>ry</code>. The current point is unchanged. Raise <code>Invalid_argument</code> if <code>rx</code> or <code>ry</code> is negative.</p></dd></dl><dl><dt class="spec value" id="val-draw_circle"><a href="#val-draw_circle" class="anchor"></a><code><span class="keyword">val</span> draw_circle : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>draw_circle x y r</code> draws a circle with center <code>x,y</code> and radius <code>r</code>. The current point is unchanged. Raise <code>Invalid_argument</code> if <code>r</code> is negative.</p></dd></dl><dl><dt class="spec value" id="val-set_line_width"><a href="#val-set_line_width" class="anchor"></a><code><span class="keyword">val</span> set_line_width : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the width of points and lines drawn with the functions above. Under X Windows, <code>set_line_width 0</code> selects a width of 1 pixel and a faster, but less precise drawing algorithm than the one used when <code>set_line_width 1</code> is specified. Raise <code>Invalid_argument</code> if the argument is negative.</p></dd></dl></section><section><header><h2 id="text-drawing"><a href="#text-drawing" class="anchor"></a>Text drawing</h2></header><dl><dt class="spec external" id="val-draw_char"><a href="#val-draw_char" class="anchor"></a><code><span class="keyword">val</span> draw_char : char <span>&#45;&gt;</span> unit</code></dt><dd><p>See <a href="index.html#val-draw_string"><code>Graphics.draw_string</code></a>.</p></dd></dl><dl><dt class="spec external" id="val-draw_string"><a href="#val-draw_string" class="anchor"></a><code><span class="keyword">val</span> draw_string : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Draw a character or a character string with lower left corner at current position. After drawing, the current position is set to the lower right corner of the text drawn.</p></dd></dl><dl><dt class="spec external" id="val-set_font"><a href="#val-set_font" class="anchor"></a><code><span class="keyword">val</span> set_font : string <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the font used for drawing text. The interpretation of the argument to <code>set_font</code> is implementation-dependent.</p></dd></dl><dl><dt class="spec value" id="val-set_text_size"><a href="#val-set_text_size" class="anchor"></a><code><span class="keyword">val</span> set_text_size : int <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the character size used for drawing text. The interpretation of the argument to <code>set_text_size</code> is implementation-dependent.</p></dd></dl><dl><dt class="spec external" id="val-text_size"><a href="#val-text_size" class="anchor"></a><code><span class="keyword">val</span> text_size : string <span>&#45;&gt;</span> int * int</code></dt><dd><p>Return the dimensions of the given text, if it were drawn with the current font and size.</p></dd></dl></section><section><header><h2 id="filling"><a href="#filling" class="anchor"></a>Filling</h2></header><dl><dt class="spec value" id="val-fill_rect"><a href="#val-fill_rect" class="anchor"></a><code><span class="keyword">val</span> fill_rect : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>fill_rect x y w h</code> fills the rectangle with lower left corner at <code>x,y</code>, width <code>w</code> and height <code>h</code>, with the current color. Raise <code>Invalid_argument</code> if <code>w</code> or <code>h</code> is negative.</p></dd></dl><dl><dt class="spec external" id="val-fill_poly"><a href="#val-fill_poly" class="anchor"></a><code><span class="keyword">val</span> fill_poly : (int * int) array <span>&#45;&gt;</span> unit</code></dt><dd><p>Fill the given polygon with the current color. The array contains the coordinates of the vertices of the polygon.</p></dd></dl><dl><dt class="spec value" id="val-fill_arc"><a href="#val-fill_arc" class="anchor"></a><code><span class="keyword">val</span> fill_arc : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Fill an elliptical pie slice with the current color. The parameters are the same as for <a href="index.html#val-draw_arc"><code>Graphics.draw_arc</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-fill_ellipse"><a href="#val-fill_ellipse" class="anchor"></a><code><span class="keyword">val</span> fill_ellipse : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Fill an ellipse with the current color. The parameters are the same as for <a href="index.html#val-draw_ellipse"><code>Graphics.draw_ellipse</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-fill_circle"><a href="#val-fill_circle" class="anchor"></a><code><span class="keyword">val</span> fill_circle : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Fill a circle with the current color. The parameters are the same as for <a href="index.html#val-draw_circle"><code>Graphics.draw_circle</code></a>.</p></dd></dl></section><section><header><h2 id="images"><a href="#images" class="anchor"></a>Images</h2></header><dl><dt class="spec type" id="type-image"><a href="#type-image" class="anchor"></a><code><span class="keyword">type</span> image</code></dt><dd><p>The abstract type for images, in internal representation. Externally, images are represented as matrices of colors. Images are bound to the current graphics window and should not be reused after closing this graphics window with <a href="index.html#val-close_graph"><code>close_graph</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-transp"><a href="#val-transp" class="anchor"></a><code><span class="keyword">val</span> transp : <a href="index.html#type-color">color</a></code></dt><dd><p>In matrices of colors, this color represent a 'transparent' point: when drawing the corresponding image, all pixels on the screen corresponding to a transparent pixel in the image will not be modified, while other points will be set to the color of the corresponding point in the image. This allows superimposing an image over an existing background.</p></dd></dl><dl><dt class="spec external" id="val-make_image"><a href="#val-make_image" class="anchor"></a><code><span class="keyword">val</span> make_image : <a href="index.html#type-color">color</a> array array <span>&#45;&gt;</span> <a href="index.html#type-image">image</a></code></dt><dd><p>Convert the given color matrix to an image. Each sub-array represents one horizontal line. All sub-arrays must have the same length; otherwise, exception <code>Graphic_failure</code> is raised.</p></dd></dl><dl><dt class="spec external" id="val-dump_image"><a href="#val-dump_image" class="anchor"></a><code><span class="keyword">val</span> dump_image : <a href="index.html#type-image">image</a> <span>&#45;&gt;</span> <a href="index.html#type-color">color</a> array array</code></dt><dd><p>Convert an image to a color matrix.</p></dd></dl><dl><dt class="spec external" id="val-draw_image"><a href="#val-draw_image" class="anchor"></a><code><span class="keyword">val</span> draw_image : <a href="index.html#type-image">image</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p>Draw the given image with lower left corner at the given point.</p></dd></dl><dl><dt class="spec value" id="val-get_image"><a href="#val-get_image" class="anchor"></a><code><span class="keyword">val</span> get_image : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-image">image</a></code></dt><dd><p>Capture the contents of a rectangle on the screen as an image. The parameters are the same as for <a href="index.html#val-fill_rect"><code>Graphics.fill_rect</code></a>.</p></dd></dl><dl><dt class="spec external" id="val-create_image"><a href="#val-create_image" class="anchor"></a><code><span class="keyword">val</span> create_image : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-image">image</a></code></dt><dd><p><code>create_image w h</code> returns a new image <code>w</code> pixels wide and <code>h</code> pixels tall, to be used in conjunction with <code>blit_image</code>. The initial image contents are random, except that no point is transparent.</p></dd></dl><dl><dt class="spec external" id="val-blit_image"><a href="#val-blit_image" class="anchor"></a><code><span class="keyword">val</span> blit_image : <a href="index.html#type-image">image</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>blit_image img x y</code> copies screen pixels into the image <code>img</code>, modifying <code>img</code> in-place. The pixels copied are those inside the rectangle with lower left corner at <code>x,y</code>, and width and height equal to those of the image. Pixels that were transparent in <code>img</code> are left unchanged.</p></dd></dl></section><section><header><h2 id="mouse-and-keyboard-events"><a href="#mouse-and-keyboard-events" class="anchor"></a>Mouse and keyboard events</h2></header><dl><dt class="spec type" id="type-status"><a href="#type-status" class="anchor"></a><code><span class="keyword">type</span> status</code><code> = </code><code>{</code><table class="record"><tr id="type-status.mouse_x" class="anchored"><td class="def field"><a href="#type-status.mouse_x" class="anchor"></a><code>mouse_x : int;</code></td><td class="doc"><p>X coordinate of the mouse</p></td></tr><tr id="type-status.mouse_y" class="anchored"><td class="def field"><a href="#type-status.mouse_y" class="anchor"></a><code>mouse_y : int;</code></td><td class="doc"><p>Y coordinate of the mouse</p></td></tr><tr id="type-status.button" class="anchored"><td class="def field"><a href="#type-status.button" class="anchor"></a><code>button : bool;</code></td><td class="doc"><p>true if a mouse button is pressed</p></td></tr><tr id="type-status.keypressed" class="anchored"><td class="def field"><a href="#type-status.keypressed" class="anchor"></a><code>keypressed : bool;</code></td><td class="doc"><p>true if a key has been pressed</p></td></tr><tr id="type-status.key" class="anchored"><td class="def field"><a href="#type-status.key" class="anchor"></a><code>key : char;</code></td><td class="doc"><p>the character for the key pressed</p></td></tr></table><code>}</code></dt><dd><p>To report events.</p></dd></dl><dl><dt class="spec type" id="type-event"><a href="#type-event" class="anchor"></a><code><span class="keyword">type</span> event</code><code> = </code><table class="variant"><tr id="type-event.Button_down" class="anchored"><td class="def constructor"><a href="#type-event.Button_down" class="anchor"></a><code>| </code><code><span class="constructor">Button_down</span></code></td><td class="doc"><p>A mouse button is pressed</p></td></tr><tr id="type-event.Button_up" class="anchored"><td class="def constructor"><a href="#type-event.Button_up" class="anchor"></a><code>| </code><code><span class="constructor">Button_up</span></code></td><td class="doc"><p>A mouse button is released</p></td></tr><tr id="type-event.Key_pressed" class="anchored"><td class="def constructor"><a href="#type-event.Key_pressed" class="anchor"></a><code>| </code><code><span class="constructor">Key_pressed</span></code></td><td class="doc"><p>A key is pressed</p></td></tr><tr id="type-event.Mouse_motion" class="anchored"><td class="def constructor"><a href="#type-event.Mouse_motion" class="anchor"></a><code>| </code><code><span class="constructor">Mouse_motion</span></code></td><td class="doc"><p>The mouse is moved</p></td></tr><tr id="type-event.Poll" class="anchored"><td class="def constructor"><a href="#type-event.Poll" class="anchor"></a><code>| </code><code><span class="constructor">Poll</span></code></td><td class="doc"><p>Don't wait; return immediately</p></td></tr></table></dt><dd><p>To specify events to wait for.</p></dd></dl><dl><dt class="spec external" id="val-wait_next_event"><a href="#val-wait_next_event" class="anchor"></a><code><span class="keyword">val</span> wait_next_event : <a href="index.html#type-event">event</a> list <span>&#45;&gt;</span> <a href="index.html#type-status">status</a></code></dt><dd><p>Wait until one of the events specified in the given event list occurs, and return the status of the mouse and keyboard at that time. If <code>Poll</code> is given in the event list, return immediately with the current status. If the mouse cursor is outside of the graphics window, the <code>mouse_x</code> and <code>mouse_y</code> fields of the event are outside the range <code>0..size_x()-1, 0..size_y()-1</code>. Keypresses are queued, and dequeued one by one when the <code>Key_pressed</code> event is specified and the <code>Poll</code> event is not specified.</p></dd></dl><dl><dt class="spec value" id="val-loop_at_exit"><a href="#val-loop_at_exit" class="anchor"></a><code><span class="keyword">val</span> loop_at_exit : <a href="index.html#type-event">event</a> list <span>&#45;&gt;</span> (<a href="index.html#type-status">status</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit</code></dt><dd><p>Loop before exiting the program, the list given as argument is the list of handlers and the events on which these handlers are called. To exit cleanly the loop, the handler should raise Exit. Any other exception will be propagated outside of the loop.</p><dl><dt>since</dt><dd>4.01</dd></dl></dd></dl></section><section><header><h2 id="mouse-and-keyboard-polling"><a href="#mouse-and-keyboard-polling" class="anchor"></a>Mouse and keyboard polling</h2></header><dl><dt class="spec value" id="val-mouse_pos"><a href="#val-mouse_pos" class="anchor"></a><code><span class="keyword">val</span> mouse_pos : unit <span>&#45;&gt;</span> int * int</code></dt><dd><p>Return the position of the mouse cursor, relative to the graphics window. If the mouse cursor is outside of the graphics window, <code>mouse_pos()</code> returns a point outside of the range <code>0..size_x()-1, 0..size_y()-1</code>.</p></dd></dl><dl><dt class="spec value" id="val-button_down"><a href="#val-button_down" class="anchor"></a><code><span class="keyword">val</span> button_down : unit <span>&#45;&gt;</span> bool</code></dt><dd><p>Return <code>true</code> if the mouse button is pressed, <code>false</code> otherwise.</p></dd></dl><dl><dt class="spec value" id="val-read_key"><a href="#val-read_key" class="anchor"></a><code><span class="keyword">val</span> read_key : unit <span>&#45;&gt;</span> char</code></dt><dd><p>Wait for a key to be pressed, and return the corresponding character. Keypresses are queued.</p></dd></dl><dl><dt class="spec value" id="val-key_pressed"><a href="#val-key_pressed" class="anchor"></a><code><span class="keyword">val</span> key_pressed : unit <span>&#45;&gt;</span> bool</code></dt><dd><p>Return <code>true</code> if a keypress is available; that is, if <code>read_key</code> would not block.</p></dd></dl></section><section><header><h2 id="sound"><a href="#sound" class="anchor"></a>Sound</h2></header><dl><dt class="spec external" id="val-sound"><a href="#val-sound" class="anchor"></a><code><span class="keyword">val</span> sound : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>sound freq dur</code> plays a sound at frequency <code>freq</code> (in hertz) for a duration <code>dur</code> (in milliseconds).</p></dd></dl></section><section><header><h2 id="double-buffering"><a href="#double-buffering" class="anchor"></a>Double buffering</h2></header><dl><dt class="spec value" id="val-auto_synchronize"><a href="#val-auto_synchronize" class="anchor"></a><code><span class="keyword">val</span> auto_synchronize : bool <span>&#45;&gt;</span> unit</code></dt><dd><p>By default, drawing takes place both on the window displayed on screen, and in a memory area (the 'backing store'). The backing store image is used to re-paint the on-screen window when necessary.</p><p>To avoid flicker during animations, it is possible to turn off on-screen drawing, perform a number of drawing operations in the backing store only, then refresh the on-screen window explicitly.</p><p><code>auto_synchronize false</code> turns on-screen drawing off. All subsequent drawing commands are performed on the backing store only.</p><p><code>auto_synchronize true</code> refreshes the on-screen window from the backing store (as per <code>synchronize</code>), then turns on-screen drawing back on. All subsequent drawing commands are performed both on screen and in the backing store.</p><p>The default drawing mode corresponds to <code>auto_synchronize true</code>.</p></dd></dl><dl><dt class="spec external" id="val-synchronize"><a href="#val-synchronize" class="anchor"></a><code><span class="keyword">val</span> synchronize : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Synchronize the backing store and the on-screen window, by copying the contents of the backing store onto the graphics window.</p></dd></dl><dl><dt class="spec external" id="val-display_mode"><a href="#val-display_mode" class="anchor"></a><code><span class="keyword">val</span> display_mode : bool <span>&#45;&gt;</span> unit</code></dt><dd><p>Set display mode on or off. When turned on, drawings are done in the graphics window; when turned off, drawings do not affect the graphics window. This occurs independently of drawing into the backing store (see the function <a href="index.html#val-remember_mode"><code>Graphics.remember_mode</code></a> below). Default display mode is on.</p></dd></dl><dl><dt class="spec external" id="val-remember_mode"><a href="#val-remember_mode" class="anchor"></a><code><span class="keyword">val</span> remember_mode : bool <span>&#45;&gt;</span> unit</code></dt><dd><p>Set remember mode on or off. When turned on, drawings are done in the backing store; when turned off, the backing store is unaffected by drawings. This occurs independently of drawing onto the graphics window (see the function <a href="index.html#val-display_mode"><code>Graphics.display_mode</code></a> above). Default remember mode is on.</p></dd></dl></section></div></body></html>