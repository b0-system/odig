<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Junit_alcotest (junit_alcotest.Junit_alcotest)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">junit_alcotest</a> &#x00BB; Junit_alcotest</nav><h1>Module <code>Junit_alcotest</code></h1><p>Interface to product JUnit reports for Alcotest</p><p>It tries to provide a layer as thin as possible on top of Alcotest to allow to port existing test without writing a lot a boilerplate.</p></header><dl><dt class="spec value" id="val-wrap_test"><a href="#val-wrap_test" class="anchor"></a><code><span class="keyword">val</span> wrap_test : (<a href="../../junit/Junit/Testcase/index.html#type-t">Junit.Testcase.t</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit <a href="../../alcotest/Alcotest/index.html#type-test_case">Alcotest.test_case</a> <span>&#45;&gt;</span> unit <a href="../../alcotest/Alcotest/index.html#type-test_case">Alcotest.test_case</a></code></dt><dd><p><code>wrap_test handle_result test_cases</code> wraps test cases to create Junit testcases and pass them to <code>handle_result</code>.</p><p>Can be used with <a href="index.html#val-run"><code>run</code></a> to create customized Junit testsuites if the output of <a href="index.html#val-run_and_report"><code>run_and_report</code></a> is not as expected.</p></dd></dl><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : ?&#8288;argv:string array <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit <a href="../../alcotest/Alcotest/index.html#type-test">Alcotest.test</a> list <span>&#45;&gt;</span> unit</code></dt><dd><p><code>run ?argv n t</code> is a wrapper around <a href="../../alcotest/Alcotest/index.html#val-run"><code>Alcotest.run</code></a>, only setting <code>and_exit</code> to false. It is mandatory to be able to process results after the end of the run.</p><p>Low level function. It is easier to use <a href="index.html#val-run_and_report"><code>run_and_report</code></a>.</p></dd></dl><dl><dt class="spec type" id="type-exit"><a href="#type-exit" class="anchor"></a><code><span class="keyword">type</span> exit</code><code> = unit <span>&#45;&gt;</span> unit</code></dt><dd><p><code>exit ()</code> exists with appropriate code if <a href="index.html#val-run_and_report"><code>run_and_report</code></a>'s <code>and_exit</code> was <code>true</code> or raise <a href="../../alcotest/Alcotest/index.html#exception-Test_error"><code>Alcotest.Test_error</code></a> in case of error.</p></dd></dl><dl><dt class="spec value" id="val-run_and_report"><a href="#val-run_and_report" class="anchor"></a><code><span class="keyword">val</span> run_and_report : ?&#8288;and_exit:bool <span>&#45;&gt;</span> ?&#8288;package:string <span>&#45;&gt;</span> ?&#8288;timestamp:<a href="../../ptime/Ptime/index.html#type-t">Ptime.t</a> <span>&#45;&gt;</span> ?&#8288;argv:string array <span>&#45;&gt;</span> string <span>&#45;&gt;</span> (string * unit <a href="../../alcotest/Alcotest/index.html#type-test_case">Alcotest.test_case</a> list) list <span>&#45;&gt;</span> <a href="../../junit/Junit/Testsuite/index.html#type-t">Junit.Testsuite.t</a> * <a href="index.html#type-exit">exit</a></code></dt><dd><p><code>run name tests</code> is a wrapper around <a href="index.html#val-run"><code>run</code></a> and <a href="index.html#val-wrap_test"><code>wrap_test</code></a>. It runs the tests and creates a Junit testsuite from the results.</p><p>As <a href="../../alcotest/Alcotest/index.html#val-run"><code>Alcotest.run</code></a> is always called with <code>and_exit = false</code> to be able to produce a report, the behavior is emulated by the returned <a href="index.html#type-exit"><code>exit</code></a> function.</p><p>The optional argument <code>and_exit</code> controls what happens when the <a href="index.html#type-exit"><code>exit</code></a> function is called. By default, <code>and_exit</code> is set, which makes the function exit with <code>0</code> if everything is fine or <code>1</code> if there is an issue. If <code>and_exit</code> is <code>false</code>, then the function raises <code>Test_error</code> on error.</p><p><code>?argv</code> is forwarded to <a href="index.html#val-run"><code>run</code></a>. <code>?package</code> and <code>?timestamp</code> are forwarded to <a href="../../junit/Junit/Testsuite/index.html#val-make"><code>Junit.Testsuite.make</code></a>.</p></dd></dl></div></body></html>