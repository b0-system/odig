<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (ocaml.Compute_ranges_intf.S)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">ocaml</a> &#x00BB; <a href="../index.html">Compute_ranges_intf</a> &#x00BB; S</nav><header class="odoc-preamble"><h1>Module type <code><span>Compute_ranges_intf.S</span></code></h1><p>This module type is the result type of the <code>Compute_ranges.Make</code> functor.</p><p>The _ranges_ being computed are composed of contiguous _subranges_ delimited by two labels (of type <code>Linear.label</code>). These labels will be added by this pass to the code being inspected, which is why the <code>create</code> function in the result of the functor returns not only the ranges but also the updated function with the labels added. The <code>start_pos_offset</code> and <code>end_pos_offset</code> components of the subranges are there to allow a distinction between ranges starting (or ending) right at the start of the corresponding instruction (offset of zero), and ranges starting or ending one byte after the actual instruction (offset of one).</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Index" class="anchored"><a href="#module-Index" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Index/index.html">Index</a></span><span> : <a href="../../Identifiable/module-type-S/index.html">Identifiable.S</a></span></code></div><div class="spec-doc"><p>Corresponds to <code>Index</code> in the <code>S_functor</code> module type.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Key" class="anchored"><a href="#module-Key" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Key/index.html">Key</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Corresponds to <code>Key</code> in the <code>S_functor</code> module type.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Subrange_state" class="anchored"><a href="#module-Subrange_state" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Subrange_state/index.html">Subrange_state</a></span><span> : <a href="../module-type-S_subrange_state/index.html">S_subrange_state</a></span></code></div><div class="spec-doc"><p>Corresponds to <code>Subrange_state</code> in the <code>S_functor</code> module type.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Subrange_info" class="anchored"><a href="#module-Subrange_info" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Subrange_info/index.html">Subrange_info</a></span><span> : <a href="../module-type-S_subrange_info/index.html">S_subrange_info</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-S_subrange_info/index.html#type-key">key</a> := <a href="Key/index.html#type-t">Key.t</a></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-S_subrange_info/index.html#type-subrange_state">subrange_state</a> := <a href="Subrange_state/index.html#type-t">Subrange_state.t</a></span></span></code></div><div class="spec-doc"><p>Corresponds to <code>Subrange_info</code> in the <code>S_functor</code> module type.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Range_info" class="anchored"><a href="#module-Range_info" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Range_info/index.html">Range_info</a></span><span> : <a href="../module-type-S_range_info/index.html">S_range_info</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-S_range_info/index.html#type-key">key</a> := <a href="Key/index.html#type-t">Key.t</a></span> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../module-type-S_range_info/index.html#type-index">index</a> := <a href="Index/index.html#type-t">Index.t</a></span></span></code></div><div class="spec-doc"><p>Corresponds to <code>Range_info</code> in the <code>S_functor</code> module type.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Subrange" class="anchored"><a href="#module-Subrange" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Subrange/index.html">Subrange</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Range" class="anchored"><a href="#module-Range" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Range/index.html">Range</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type holding information on computed ranges.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>A value of type <code>t</code> that holds no range information.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span><a href="../../Linear/index.html#type-fundecl">Linear.fundecl</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a> * <a href="../../Linear/index.html#type-fundecl">Linear.fundecl</a></span></code></div><div class="spec-doc"><p>Compute ranges for the code in the given linearized function declaration, returning the ranges as a value of type <code>t</code> and the rewritten code that must go forward for emission.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><a href="Index/index.html#type-t">Index.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Range/index.html#type-t">Range.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Iterate through ranges. Each range is associated with an index.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="Index/index.html#type-t">Index.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Range/index.html#type-t">Range.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Like <code>iter</code>, but a fold.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Index/index.html#type-t">Index.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Range/index.html#type-t">Range.t</a></span></code></div><div class="spec-doc"><p>Find the range for the given index, or raise an exception.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-all_indexes" class="anchored"><a href="#val-all_indexes" class="anchor"></a><code><span><span class="keyword">val</span> all_indexes : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Index/Set/index.html#type-t">Index.Set.t</a></span></code></div><div class="spec-doc"><p>All indexes for which the given value of type <code>t</code> contains ranges.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rewrite_labels_and_remove_empty_subranges_and_ranges" class="anchored"><a href="#val-rewrite_labels_and_remove_empty_subranges_and_ranges" class="anchor"></a><code><span><span class="keyword">val</span> rewrite_labels_and_remove_empty_subranges_and_ranges : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>env:<span>int <a href="../../Numbers/Int/Map/index.html#type-t">Numbers.Int.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>An internal function used by <code>Coalesce_labels</code>. The <code>env</code> should come from <code>Coalesce_labels.fundecl</code>.</p></div></div></div></body></html>