<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatParserCo (batteries.BatParserCo)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">batteries</a> &#x00BB; BatParserCo</nav><header class="odoc-preamble"><h1>Module <code><span>BatParserCo</span></code></h1><p>A simple parser combinator library.</p><p>This module permits the simple definition of highly modular, dynamic parsers with unlimited backtracking. It may be used to parse any form of enumeration, including regular text, latin-1 text, bits, etc.</p><p>This library is vastly more powerful than <code>Lexing</code>, <a href="../../ocaml/Str/index.html"><code>Str</code></a>, <code>Parsing</code> or <code>Scanf</code>. It is also considerably slower.</p><p>Module <code>CharParser</code> contains pre-defined parsers to deal specifically with latin-1 text. Module <code>Genlex</code> contains a number of pre-defined parsers to deal specifically with programming languages.</p><p><b>Note</b> This library is still very rough and needs much testing.</p></header><nav class="odoc-toc"><ul><li><a href="#base-definitions">Base definitions</a></li><li><a href="#primitives">Primitives</a></li><li><a href="#utilities">Utilities</a></li><li><a href="#singletons">Singletons</a></li><li><a href="#repetitions">Repetitions</a></li><li><a href="#maps">Maps</a></li><li><a href="#others">Others</a></li></ul></nav><div class="odoc-content"><h6 id="base-definitions"><a href="#base-definitions" class="anchor"></a>Base definitions</h6><div class="odoc-spec"><div class="spec type" id="type-state" class="anchored"><a href="#type-state" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a state</span></span><span> = </span></code><table><tr id="type-state.Eof" class="anchored"><td class="def variant constructor"><a href="#type-state.Eof" class="anchor"></a><code><span>| </span><span><span class="constructor">Eof</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The end of the source has been reached.</p><span class="comment-delim">*)</span></td></tr><tr id="type-state.State" class="anchored"><td class="def variant constructor"><a href="#type-state.State" class="anchor"></a><code><span>| </span><span><span class="constructor">State</span> <span class="keyword">of</span> <span class="type-var">'a</span></span></code></td></tr></table></div><div class="spec-doc"><p>The current state of the parser.</p><p>The actual set of states is defined by the user. States are typically used to convey information, such as position in the file (i.e. line number and character).</p></div></div><div class="odoc-spec"><div class="spec type" id="type-report" class="anchored"><a href="#type-report" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a report</span></span><span> = </span></code><table><tr id="type-report.Report" class="anchored"><td class="def variant constructor"><a href="#type-report.Report" class="anchor"></a><code><span>| </span><span><span class="constructor">Report</span> <span class="keyword">of</span> <span><span>(<span><span class="type-var">'a</span> <a href="#type-state">state</a></span> * string * <span><span class="type-var">'a</span> <a href="#type-report">report</a></span>)</span> list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The final result of parsing</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec module" id="module-Source" class="anchored"><a href="#module-Source" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Source/index.html">Source</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A source for parsing. Unless you are parsing from exotic sources, you will probably not need to use this module directly. Rather, use <code>CharParser</code>.source_of_string or <code>CharParser</code>.source_of_enum.</p></div></div><h6 id="primitives"><a href="#primitives" class="anchor"></a>Primitives</h6><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b, 'c) t</span></span></code></div><div class="spec-doc"><p>A parser for elements of type <code>'a</code>, producing elements of type <code>'b</code>, with user-defined states of type <code>'c</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-eof" class="anchored"><a href="#val-eof" class="anchor"></a><code><span><span class="keyword">val</span> eof : <span><span>(<span class="type-var">_</span>, unit, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept the end of an enumeration.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-either" class="anchored"><a href="#val-either" class="anchor"></a><code><span><span class="keyword">val</span> either : <span><span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept one of several parsers.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&lt;|&gt;)" class="anchored"><a href="#val-(&lt;|&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;|&gt;) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept one of two parsers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-maybe" class="anchored"><a href="#val-maybe" class="anchor"></a><code><span><span class="keyword">val</span> maybe : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> option</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept an optional argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(~?)" class="anchored"><a href="#val-(~?)" class="anchor"></a><code><span><span class="keyword">val</span> (~?) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> option</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>As <code>maybe</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-bind" class="anchored"><a href="#val-bind" class="anchor"></a><code><span><span class="keyword">val</span> bind : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'d</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'d</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Monadic-style combination:</p><p><code>bind p f</code> results in a new parser which behaves as <code>p</code> then, in case of success, applies <code>f</code> to the result.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;=)" class="anchored"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;=) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'d</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'d</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>As <code>bind</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;&gt;&gt;)" class="anchored"><a href="#val-(&gt;&gt;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;&gt;) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'d</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'d</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>As <code>bind</code>, but ignoring the result</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cons" class="anchored"><a href="#val-cons" class="anchor"></a><code><span><span class="keyword">val</span> cons : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>cons p q</code> applies parser <code>p</code> then parser <code>q</code> and conses the results into a list.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;::)" class="anchored"><a href="#val-(&gt;::)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;::) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>As <code>cons</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-label" class="anchored"><a href="#val-label" class="anchor"></a><code><span><span class="keyword">val</span> label : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Give a name to a parser, for debugging purposes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-state" class="anchored"><a href="#val-state" class="anchor"></a><code><span><span class="keyword">val</span> state : <span><span>(<span class="type-var">_</span>, <span><span class="type-var">'b</span> <a href="#type-state">state</a></span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Succeed and return the state of the parser</p></div></div><div class="odoc-spec"><div class="spec value" id="val-any" class="anchored"><a href="#val-any" class="anchor"></a><code><span><span class="keyword">val</span> any : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept any singleton value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-return" class="anchored"><a href="#val-return" class="anchor"></a><code><span><span class="keyword">val</span> return : <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">_</span>, <span class="type-var">'b</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>A parser which always succeeds</p></div></div><div class="odoc-spec"><div class="spec value" id="val-satisfy" class="anchored"><a href="#val-satisfy" class="anchor"></a><code><span><span class="keyword">val</span> satisfy : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>satisfy p</code> accepts one value <code>p x</code> such that <code>p x = true</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>filter f p</code> is only accepts values <code>x</code> such that <code>p</code> accepts <code>x</code> and <code>f (p x)</code> is <code>true</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-suspend" class="anchored"><a href="#val-suspend" class="anchor"></a><code><span><span class="keyword">val</span> suspend : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span><span class="type-var">'c</span> <a href="#type-report">report</a></span>)</span> <a href="../BatPervasives/index.html#type-result">BatPervasives.result</a></span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>suspend s</code> returns the state of the parser in a form that can be resumed by calling the returned function. evaluation will resume from parser s</p></div></div><div class="odoc-spec"><div class="spec value" id="val-run" class="anchored"><a href="#val-run" class="anchor"></a><code><span><span class="keyword">val</span> run : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="Source/index.html#type-t">Source.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span><span class="type-var">'c</span> <a href="#type-report">report</a></span>)</span> <a href="../BatPervasives/index.html#type-result">BatPervasives.result</a></span></span></code></div><div class="spec-doc"><p><code>run p s</code> executes parser <code>p</code> on source <code>s</code>. In case of success, returns <code>Ok v</code>, where <code>v</code> is the return value of <code>p</code>. In case of failure, returns <code>Error f</code>, with <code>f</code> containing details on the parsing error.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fail" class="anchored"><a href="#val-fail" class="anchor"></a><code><span><span class="keyword">val</span> fail : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Always fail, without consuming anything.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fatal" class="anchored"><a href="#val-fatal" class="anchor"></a><code><span><span class="keyword">val</span> fatal : <span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-lookahead" class="anchored"><a href="#val-lookahead" class="anchor"></a><code><span><span class="keyword">val</span> lookahead : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> option</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>lookahead p</code> behaves as <code>maybe p</code> but without consuming anything</p></div></div><h6 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h6><h6 id="singletons"><a href="#singletons" class="anchor"></a>Singletons</h6><div class="odoc-spec"><div class="spec value" id="val-exactly" class="anchored"><a href="#val-exactly" class="anchor"></a><code><span><span class="keyword">val</span> exactly : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept exactly one singleton.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-one_of" class="anchored"><a href="#val-one_of" class="anchor"></a><code><span><span class="keyword">val</span> one_of : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept one of several values. Faster and more convenient than combining <code>satisfy</code> and <code>either</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-none_of" class="anchored"><a href="#val-none_of" class="anchor"></a><code><span><span class="keyword">val</span> none_of : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept any value not in a list Faster and more convenient than combining <code>satisfy</code> and <code>either</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-range" class="anchored"><a href="#val-range" class="anchor"></a><code><span><span class="keyword">val</span> range : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept any element from a given range.</p></div></div><h6 id="repetitions"><a href="#repetitions" class="anchor"></a>Repetitions</h6><div class="odoc-spec"><div class="spec value" id="val-zero_plus" class="anchored"><a href="#val-zero_plus" class="anchor"></a><code><span><span class="keyword">val</span> zero_plus : <span>?sep:<span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept a (possibly empty) list of expressions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ignore_zero_plus" class="anchored"><a href="#val-ignore_zero_plus" class="anchor"></a><code><span><span class="keyword">val</span> ignore_zero_plus : <span>?sep:<span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, unit, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Ignore a (possibly empty) list of expressions. Optimized version of <code>zero_plus</code>, for use when the list of expressions is unimportant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(~*)" class="anchored"><a href="#val-(~*)" class="anchor"></a><code><span><span class="keyword">val</span> (~*) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>As <code>zero_plus</code> without arguments.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-one_plus" class="anchored"><a href="#val-one_plus" class="anchor"></a><code><span><span class="keyword">val</span> one_plus : <span>?sep:<span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Accept a (non-empty) list of expressions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ignore_one_plus" class="anchored"><a href="#val-ignore_one_plus" class="anchor"></a><code><span><span class="keyword">val</span> ignore_one_plus : <span>?sep:<span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, unit, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Ignore a (non-empty) list of expressions. Optimized version of <code>one_plus</code>, for use when the list of expressions is unimportant.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(~+)" class="anchored"><a href="#val-(~+)" class="anchor"></a><code><span><span class="keyword">val</span> (~+) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>As <code>one_plus</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-times" class="anchored"><a href="#val-times" class="anchor"></a><code><span><span class="keyword">val</span> times : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>times n p</code> accepts a list of <code>n</code> expressions accepted by <code>p</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-(^^)" class="anchored"><a href="#val-(^^)" class="anchor"></a><code><span><span class="keyword">val</span> (^^) : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'b</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>p ^^ n</code> is the same thing as <code>times n p</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-must" class="anchored"><a href="#val-must" class="anchor"></a><code><span><span class="keyword">val</span> must : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Prevent backtracking.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-should" class="anchored"><a href="#val-should" class="anchor"></a><code><span><span class="keyword">val</span> should : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Prevent backtracking.</p></div></div><h6 id="maps"><a href="#maps" class="anchor"></a>Maps</h6><div class="odoc-spec"><div class="spec value" id="val-post_map" class="anchored"><a href="#val-post_map" class="anchor"></a><code><span><span class="keyword">val</span> post_map : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'d</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Pass the (successful) result of some parser through a map.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-source_map" class="anchored"><a href="#val-source_map" class="anchor"></a><code><span><span class="keyword">val</span> source_map : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'c</span>)</span> <a href="Source/index.html#type-t">Source.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'c</span>)</span> <a href="Source/index.html#type-t">Source.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-scan" class="anchored"><a href="#val-scan" class="anchor"></a><code><span><span class="keyword">val</span> scan : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">_</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><span class="type-var">'a</span> list</span>, <span class="type-var">'c</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Use a parser to extract list of tokens, but return that list of tokens instead of whatever the original parser returned.</p></div></div><h6 id="others"><a href="#others" class="anchor"></a>Others</h6><div class="odoc-spec"><div class="spec value" id="val-sat" class="anchored"><a href="#val-sat" class="anchor"></a><code><span><span class="keyword">val</span> sat : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, unit, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>satisfy p</code> accepts one value <code>p x</code> such that <code>p x = true</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-debug_mode" class="anchored"><a href="#val-debug_mode" class="anchor"></a><code><span><span class="keyword">val</span> debug_mode : <span>bool <a href="../../ocaml/Stdlib/index.html#type-ref">ref</a></span></span></code></div><div class="spec-doc"><p>If set to <code>true</code>, debugging information will be printed to the standard error.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Infix" class="anchored"><a href="#module-Infix" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Infix/index.html">Infix</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>