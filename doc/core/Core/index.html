<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Core (core.Core)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">core</a> &#x00BB; Core</nav><h1>Module <code>Core</code></h1></header><div><div class="spec include"><div class="doc"><aside><p><code>Core</code> is an extension of <a href="../../core_kernel/Core_kernel/index.html"><span><code>Core_kernel</code></span></a> with Unix APIs. The unmodified libraries can be found there.</p><p>In particular, <code>Core</code> has comprehensive implementation of times (see <code>Time</code>, <code>Time_ns</code>, <code>Timing_wheel_float</code>, and <code>Schedule_v5</code>), where some details are platform-specific (like timing wheels based on floats).</p><p>Some modules are mere extensions of those existing in <code>Core_kernel</code>, like <code>Bigbuffer</code>, <code>Bigstring</code>, <code>Caml</code>, <code>Time</code>, and <code>Md5</code>, where what's added is handlers for reading from or writing to Unix sockets and file descriptors, or support for floating-point numbers. Other modules are entirely new, like:</p><ul><li><code>Command</code>, a richly featured tool for creating command-line programs.</li><li><code>Daemon</code>, for daemonizing processes.</li><li><code>Iobuf</code>, which lets you use contiguous ranges of bytes for I/O purposes.</li><li><code>Lock_file</code>, for managing OS-level locks.</li><li><code>Crc</code>, for cyclic redundancy checks.</li><li><code>Linux_ext</code>, providing a wrapper around Linux-specific system calls.</li><li><code>Mac_address</code>, for managing MAC addresses.</li><li><code>Signal</code>, for handling Unix signals like SIGHUP and SIGKILL.</li></ul><p>A few modules in Core don't have any platform-specific functionality but haven't yet been ported to Core_kernel for technical reasons (like a dependency on <code>Time</code>, which until recently was only in Core):</p><ul><li><code>Interval</code></li><li><code>Squeue</code></li><li><code>Uuid</code></li></ul></aside><dl><dt class="spec module" id="module-Bigbuffer"><a href="#module-Bigbuffer" class="anchor"></a><code><span class="keyword">module</span> <a href="Bigbuffer/index.html">Bigbuffer</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Extends <a href="../../core_kernel/Core_kernel/Bigbuffer/index.html"><span><code>Core_kernel.Bigbuffer</code></span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Bigstring"><a href="#module-Bigstring" class="anchor"></a><code><span class="keyword">module</span> <a href="Bigstring/index.html">Bigstring</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>String type based on <code>Bigarray</code>, for use in I/O and C-bindings, extending <a href="../../core_kernel/Core_kernel/Bigstring/index.html"><span><code>Core_kernel.Bigstring</code></span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Bigstring_marshal"><a href="#module-Bigstring_marshal" class="anchor"></a><code><span class="keyword">module</span> <a href="Bigstring_marshal/index.html">Bigstring_marshal</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Utility functions for marshalling to and from bigstring, extending <a href="../../core_kernel/Core_kernel/Bigstring_marshal/index.html"><span><code>Core_kernel.Bigstring_marshal</code></span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Caml"><a href="#module-Caml" class="anchor"></a><code><span class="keyword">module</span> <a href="Caml/index.html">Caml</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Extends <a href="../../core_kernel/Core_kernel/Caml/index.html"><span><code>Core_kernel.Caml</code></span></a>.</p></dd></dl><dl><dt class="spec module" id="module-Command"><a href="#module-Command" class="anchor"></a><code><span class="keyword">module</span> <a href="Command/index.html">Command</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Purely functional command line parsing.</p></dd></dl><div class="spec module" id="module-Condition"><a href="#module-Condition" class="anchor"></a><code><span class="keyword">module</span> Condition = <a href="../Core__/index.html#module-Core_condition">Core__.Core_condition</a></code></div><div class="spec module" id="module-Core_stable"><a href="#module-Core_stable" class="anchor"></a><code><span class="keyword">module</span> Core_stable = <a href="../Core__/index.html#module-Stable">Core__.Stable</a></code></div><dl><dt class="spec module" id="module-Crc"><a href="#module-Crc" class="anchor"></a><code><span class="keyword">module</span> <a href="Crc/index.html">Crc</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>CRC functions.</p></dd></dl><dl><dt class="spec module" id="module-Daemon"><a href="#module-Daemon" class="anchor"></a><code><span class="keyword">module</span> <a href="Daemon/index.html">Daemon</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This module provides support for daemonizing a process. It provides flexibility as to where the standard file descriptors (stdin, stdout and stderr) are connected after daemonization has occurred.</p></dd></dl><div class="spec module" id="module-Date"><a href="#module-Date" class="anchor"></a><code><span class="keyword">module</span> Date = <a href="../Core__/index.html#module-Core_date">Core__.Core_date</a></code></div><div class="spec module" id="module-Filename"><a href="#module-Filename" class="anchor"></a><code><span class="keyword">module</span> Filename = <a href="../Core__/index.html#module-Core_filename">Core__.Core_filename</a></code></div><dl><dt class="spec module" id="module-Interval"><a href="#module-Interval" class="anchor"></a><code><span class="keyword">module</span> <a href="Interval/index.html">Interval</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Module for simple closed intervals over arbitrary types. Used by calling the <a href="../Core__/Interval/Make/index.html"><span><code>Make</code></span></a> functor with a type that satisfies <a href="../../base/Base/Comparable/index.html"><span><code>Comparable</code></span></a> (for correctly ordering elements).</p></dd></dl><div class="spec module" id="module-Interval_intf"><a href="#module-Interval_intf" class="anchor"></a><code><span class="keyword">module</span> <a href="Interval_intf/index.html">Interval_intf</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Iobuf"><a href="#module-Iobuf" class="anchor"></a><code><span class="keyword">module</span> <a href="Iobuf/index.html">Iobuf</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A non-moving (in the GC sense) contiguous range of bytes, useful for I/O operations.</p></dd></dl><dl><dt class="spec module" id="module-Iobuf_debug"><a href="#module-Iobuf_debug" class="anchor"></a><code><span class="keyword">module</span> <a href="Iobuf_debug/index.html">Iobuf_debug</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><a href="Iobuf/index.html"><span><code>Iobuf</code></span></a>s with extra controls for debugging.</p></dd></dl><dl><dt class="spec module" id="module-Iobuf_intf"><a href="#module-Iobuf_intf" class="anchor"></a><code><span class="keyword">module</span> <a href="Iobuf_intf/index.html">Iobuf_intf</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>See <a href="Iobuf/index.html"><span><code>Iobuf</code></span></a> for documentation.</p></dd></dl><dl><dt class="spec module" id="module-Linux_ext"><a href="#module-Linux_ext" class="anchor"></a><code><span class="keyword">module</span> <a href="Linux_ext/index.html">Linux_ext</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Interface to Linux-specific system calls.</p></dd></dl><dl><dt class="spec module" id="module-Lock_file"><a href="#module-Lock_file" class="anchor"></a><code><span class="keyword">module</span> <a href="Lock_file/index.html">Lock_file</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Mutual exclusion between processes using flock and lockf. A file is considered locked only if both of these mechanisms work.</p></dd></dl><dl><dt class="spec module" id="module-Mac_address"><a href="#module-Mac_address" class="anchor"></a><code><span class="keyword">module</span> <a href="Mac_address/index.html">Mac_address</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Functions for working with and formatting 48-bit MAC addresses.</p></dd></dl><dl><dt class="spec module" id="module-Md5"><a href="#module-Md5" class="anchor"></a><code><span class="keyword">module</span> <a href="Md5/index.html">Md5</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Extends <a href="../../core_kernel/Core_kernel/Md5/index.html"><span><code>Core_kernel.Md5</code></span></a>.</p></dd></dl><div class="spec module" id="module-Digest"><a href="#module-Digest" class="anchor"></a><code><span class="keyword">module</span> Digest = <a href="index.html#module-Md5">Md5</a></code></div><div class="spec module" id="module-Mutex"><a href="#module-Mutex" class="anchor"></a><code><span class="keyword">module</span> Mutex = <a href="../Core__/index.html#module-Core_mutex">Core__.Core_mutex</a></code></div><dl><dt class="spec module" id="module-Nano_mutex"><a href="#module-Nano_mutex" class="anchor"></a><code><span class="keyword">module</span> <a href="Nano_mutex/index.html">Nano_mutex</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A nano-mutex is a lightweight mutex that can be used only within a single OCaml runtime.</p></dd></dl><dl><dt class="spec module" id="module-Piecewise_linear"><a href="#module-Piecewise_linear" class="anchor"></a><code><span class="keyword">module</span> <a href="Piecewise_linear/index.html">Piecewise_linear</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Piecewise linear interpolation from float-like types to float.</p></dd></dl><dl><dt class="spec module" id="module-Process_env"><a href="#module-Process_env" class="anchor"></a><code><span class="keyword">module</span> <a href="Process_env/index.html">Process_env</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Utility functions for dealing with the environment.</p></dd></dl><dl><dt class="spec module" id="module-Schedule_v4_deprecated"><a href="#module-Schedule_v4_deprecated" class="anchor"></a><code><span class="keyword">module</span> <a href="Schedule_v4_deprecated/index.html">Schedule_v4_deprecated</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Deprecated version of <code>Schedule</code>, which defines a type for schedules like &quot;every 5 min after the hour&quot; or &quot;every weekday at 3pm.&quot;</p></dd></dl><dl><dt class="spec module" id="module-Schedule_v5"><a href="#module-Schedule_v5" class="anchor"></a><code><span class="keyword">module</span> <a href="Schedule_v5/index.html">Schedule_v5</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Latest version of <code>Schedule</code>, which defines a type for schedules like &quot;every 5 min after the hour&quot; or &quot;every weekday at 3pm.&quot; More expressive than V4, for example by adding the <code>Zoned_between</code> variant, which behaves like <code>Between</code> but allows expressing the start and end times in different zones.</p></dd></dl><dl><dt class="spec module" id="module-Signal"><a href="#module-Signal" class="anchor"></a><code><span class="keyword">module</span> <a href="Signal/index.html">Signal</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Signal handlers.</p></dd></dl><dl><dt class="spec module" id="module-Squeue"><a href="#module-Squeue" class="anchor"></a><code><span class="keyword">module</span> <a href="Squeue/index.html">Squeue</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Thread-safe queue module, using locks.</p></dd></dl><div class="spec module" id="module-Sys"><a href="#module-Sys" class="anchor"></a><code><span class="keyword">module</span> Sys = <a href="../Core__/index.html#module-Core_sys">Core__.Core_sys</a></code></div><div class="spec module" id="module-Thread"><a href="#module-Thread" class="anchor"></a><code><span class="keyword">module</span> Thread = <a href="../Core__/index.html#module-Core_thread">Core__.Core_thread</a></code></div><div class="spec module" id="module-Time"><a href="#module-Time" class="anchor"></a><code><span class="keyword">module</span> Time = <a href="../Core__/index.html#module-Core_time_float">Core__.Core_time_float</a></code></div><dl><dt class="spec module" id="module-Time_common"><a href="#module-Time_common" class="anchor"></a><code><span class="keyword">module</span> <a href="Time_common/index.html">Time_common</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>This module type is basically the intersection of the module types of <code>Core.Time</code> and <code>Core.Time_ns</code>. We verify that that relation holds in check_std.ml.</p></dd></dl><div class="spec module" id="module-Time_ns"><a href="#module-Time_ns" class="anchor"></a><code><span class="keyword">module</span> Time_ns = <a href="../Core__/index.html#module-Core_time_ns">Core__.Core_time_ns</a></code></div><dl><dt class="spec module" id="module-Time_stamp_counter"><a href="#module-Time_stamp_counter" class="anchor"></a><code><span class="keyword">module</span> <a href="Time_stamp_counter/index.html">Time_stamp_counter</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>High-performance timing.</p></dd></dl><dl><dt class="spec module" id="module-Timing_wheel_float"><a href="#module-Timing_wheel_float" class="anchor"></a><code><span class="keyword">module</span> <a href="Timing_wheel_float/index.html">Timing_wheel_float</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A timing wheel in which time is represented by <code>Time.t</code>, i.e., by a floating-point number of seconds since the epoch. This is a wrapper around <code>Timing_wheel_ns</code>, which is preferable both because it has better performance and because it avoids issues having to do with floating point (im)precision.</p></dd></dl><div class="spec module" id="module-Unix"><a href="#module-Unix" class="anchor"></a><code><span class="keyword">module</span> Unix = <a href="../Core__/index.html#module-Core_unix">Core__.Core_unix</a></code></div><dl><dt class="spec module" id="module-User_and_group"><a href="#module-User_and_group" class="anchor"></a><code><span class="keyword">module</span> <a href="User_and_group/index.html">User_and_group</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A pair of Unix username and primary Unix group.</p></dd></dl><dl><dt class="spec module" id="module-Uuid"><a href="#module-Uuid" class="anchor"></a><code><span class="keyword">module</span> <a href="Uuid/index.html">Uuid</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Implements universally unique identifiers based on version 3 of the UUID specification. Identifier generation is thread safe, and fast.</p></dd></dl><div class="spec module" id="module-Version_util"><a href="#module-Version_util" class="anchor"></a><code><span class="keyword">module</span> <a href="Version_util/index.html">Version_util</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Weak_hashtbl"><a href="#module-Weak_hashtbl" class="anchor"></a><code><span class="keyword">module</span> <a href="Weak_hashtbl/index.html">Weak_hashtbl</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A hashtable that keeps a weak pointer to each key's data and uses a finalizer to detect when the data is no longer referenced (by any non-weak pointers).</p></dd></dl><dl><dt class="spec value" id="val-sec"><a href="#val-sec" class="anchor"></a><code><span class="keyword">val</span> sec : <a href="../../core_kernel/Core_kernel__/Import/index.html#type-float">Core_kernel__.Import.float</a> <span>&#45;&gt;</span> <a href="../../core_kernel/Core_kernel__Time_intf/module-type-S/Time/Span/index.html#type-t">Time.Span.t</a></code></dt><dt class="spec value" id="val-(^/)"><a href="#val-(^/)" class="anchor"></a><code><span class="keyword">val</span> (^/) : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt></dl></div></div></div></div></body></html>