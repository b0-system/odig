<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bin (b0.B0_std.Conv.Bin)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">b0</a> &#x00BB; <a href="../../index.html">B0_std</a> &#x00BB; <a href="../index.html">Conv</a> &#x00BB; Bin</nav><h1>Module <code>Conv.Bin</code></h1><p>Binary codecs.</p><nav class="toc"><ul><li><a href="#enc">Encoding</a></li><li><a href="#dec">Decoding</a></li></ul></nav></header><section><header><h2 id="enc"><a href="#enc" class="anchor"></a>Encoding</h2></header><dl><dt class="spec type" id="type-enc"><a href="#type-enc" class="anchor"></a><code><span class="keyword">type</span> 'a enc</code><code> = <a href="../../../../ocaml/Stdlib/Buffer/index.html#type-t">Stdlib.Buffer.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>The type for binary encoders. <code>enc b v</code> binary encodes the value <code>v</code> in <code>b</code>. Raises <a href="../index.html#exception-Error"><code>Error</code></a> in case of error.</p></dd></dl><dl><dt class="spec value" id="val-enc_err"><a href="#val-enc_err" class="anchor"></a><code><span class="keyword">val</span> enc_err : kind:string <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <a href="../../../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a>, unit, <span class="type-var">'b</span>) <a href="../../../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>enc_err ~kind fmt</code> raises a binary encoding error message for kind <code>kind</code> formatted according to <code>fmt</code>.</p></dd></dl><dl><dt class="spec value" id="val-enc_byte"><a href="#val-enc_byte" class="anchor"></a><code><span class="keyword">val</span> enc_byte : int <a href="index.html#type-enc">enc</a></code></dt><dd><p><code>enc_byte</code> encodes an integer in range [0;255].</p></dd></dl><dl><dt class="spec value" id="val-enc_bytes"><a href="#val-enc_bytes" class="anchor"></a><code><span class="keyword">val</span> enc_bytes : string <a href="index.html#type-enc">enc</a></code></dt><dd><p><code>enc_bytes</code> encodes the given bytes.</p></dd></dl><dl><dt class="spec value" id="val-enc_list"><a href="#val-enc_list" class="anchor"></a><code><span class="keyword">val</span> enc_list : <span class="type-var">'a</span> <a href="index.html#type-enc">enc</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-enc">enc</a></code></dt><dd><p><code>enc_list enc_v</code> encodes a list of values encoded with <code>enc_v</code>.</p></dd></dl></section><section><header><h2 id="dec"><a href="#dec" class="anchor"></a>Decoding</h2></header><dl><dt class="spec type" id="type-dec"><a href="#type-dec" class="anchor"></a><code><span class="keyword">type</span> 'a dec</code><code> = string <span>&#45;&gt;</span> start:int <span>&#45;&gt;</span> int * <span class="type-var">'a</span></code></dt><dd><p>The type for binary decoders. <code>dec s ~start</code> binary decodes a value at <code>start</code> in <code>s</code>. <code>start</code> is either the index of a byte in <code>s</code> or the length of <code>s</code>. The function returns <code>(i, v)</code> with <code>v</code> the decoded value and <code>i</code> the first index in <code>s</code> after the decoded value or the length of <code>s</code> if there is no such index. Raises <a href="../index.html#exception-Error"><code>Error</code></a> in case of error.</p></dd></dl><dl><dt class="spec value" id="val-dec_err"><a href="#val-dec_err" class="anchor"></a><code><span class="keyword">val</span> dec_err : kind:string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <a href="../../../../ocaml/Stdlib/Format/index.html#type-formatter">Stdlib.Format.formatter</a>, unit, <span class="type-var">'b</span>) <a href="../../../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>dec_err ~kind i fmt</code> raises a binary decoding error message for kind <code>kind</code> at input byte index <code>i</code> formatted according to <code>fmt</code>.</p></dd></dl><dl><dt class="spec value" id="val-dec_err_eoi"><a href="#val-dec_err_eoi" class="anchor"></a><code><span class="keyword">val</span> dec_err_eoi : kind:string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>dec_err_eoi ~kind i</code> raises a decoding error message for kind <code>kind</code> at input byte index <code>i</code> indicating an unexpected end of input.</p></dd></dl><dl><dt class="spec value" id="val-dec_err_exceed"><a href="#val-dec_err_exceed" class="anchor"></a><code><span class="keyword">val</span> dec_err_exceed : kind:string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> max:int <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>dec_err_exceed ~kind i v ~max</code> raises a decoding error message for kind <code>kind</code> at input byte index <code>i</code> indicating <code>v</code> is not in the range <code>0;max</code>.</p></dd></dl><dl><dt class="spec value" id="val-dec_need"><a href="#val-dec_need" class="anchor"></a><code><span class="keyword">val</span> dec_need : kind:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> start:int <span>&#45;&gt;</span> len:int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>dec_need ~kind s ~start ~len</code> checks that <code>len</code> bytes are available starting at <code>start</code> (which can be out of bounds) in <code>s</code> and calls <code>err_eoi</code> if that is not the case.</p></dd></dl><dl><dt class="spec value" id="val-dec_byte"><a href="#val-dec_byte" class="anchor"></a><code><span class="keyword">val</span> dec_byte : kind:string <span>&#45;&gt;</span> int <a href="index.html#type-dec">dec</a></code></dt><dd><p><code>dec_byte</code> decodes an integer in range [0;255] for the given <code>kind</code>.</p></dd></dl><dl><dt class="spec value" id="val-dec_bytes"><a href="#val-dec_bytes" class="anchor"></a><code><span class="keyword">val</span> dec_bytes : kind:string <span>&#45;&gt;</span> string <a href="index.html#type-dec">dec</a></code></dt><dd><p><code>dec_bytes ~kind</code> decodes the given bytes for the given <code>kind</code>.</p></dd></dl><dl><dt class="spec value" id="val-dec_list"><a href="#val-dec_list" class="anchor"></a><code><span class="keyword">val</span> dec_list : <span class="type-var">'a</span> <a href="index.html#type-dec">dec</a> <span>&#45;&gt;</span> kind:string <span>&#45;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-dec">dec</a></code></dt><dd><p><code>bin_dec_list dec_v ~kind</code> decodes a list of values decoded with <code>dec_v</code> for the given <code>kind</code>.</p></dd></dl></section></div></body></html>