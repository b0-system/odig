<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatText (batteries.BatText)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">batteries</a> &#x00BB; BatText</nav><header class="odoc-preamble"><h1>Module <code><span>BatText</span></code></h1><p>Heavyweight strings (&quot;ropes&quot;)</p><p>This module implements ropes as described in Boehm, H., Atkinson, R., and Plass, M. 1995. Ropes: an alternative to strings. Softw. Pract. Exper. 25, 12 (Dec. 1995), 1315-1330.</p><p>Ropes are an alternative to strings which support efficient operations:</p><ul><li>determining the length of a rope in constant time</li><li>appending or prepending a small rope to an arbitrarily large one in amortized constant time</li><li>concat, substring, insert, remove operations in amortized logarithmic time</li><li>access to and modification of ropes in logarithmic time</li></ul></header><nav class="odoc-toc"><ul><li><a href="#functional-nature-and-persistence">Functional nature and persistence</a></li><li><a href="#limitations">Limitations</a></li><li><a href="#creation-and-conversions">Creation and conversions</a></li><li><a href="#properties">Properties</a></li><li><a href="#operations">Operations</a></li><li><a href="#iteration">Iteration</a></li><li><a href="#finding">Finding</a></li><li><a href="#splitting-around">Splitting around</a></li></ul></nav><div class="odoc-content"><h6 id="functional-nature-and-persistence"><a href="#functional-nature-and-persistence" class="anchor"></a>Functional nature and persistence</h6><p>All operations are non-destructive: the original rope is never modified. When a new rope is returned as the result of an operation, it will share as much data as possible with its &quot;parent&quot;. For instance, if a rope of length <code>n</code> undergoes <code>m</code> operations (assume <code>n &gt;&gt; m</code>) like set, append or prepend, the modified rope will only require <code>O(m)</code> space in addition to that taken by the original one.</p><p>However, Rope is an amortized data structure, and its use in a persistent setting can easily degrade its amortized time bounds. It is thus mainly intended to be used ephemerally. In some cases, it is possible to use Rope persistently with the same amortized bounds by explicitly rebalancing ropes to be reused using <code>balance</code>. Special care must be taken to avoid calling <code>balance</code> too frequently; in the limit, calling <code>balance</code> after each modification would defeat the purpose of amortization.</p><h6 id="limitations"><a href="#limitations" class="anchor"></a>Limitations</h6><p>The length of ropes is limited to approximately 700 Mb on 32-bit architectures, 220 Gb on 64 bit architectures.</p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Mauricio Fernandez, Yoriyuki Yamagata, The Batteries Included Team</li></ul><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type of the rope.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Out_of_bounds" class="anchored"><a href="#exception-Out_of_bounds" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Out_of_bounds</span></span></code></div><div class="spec-doc"><p>Raised when an operation violates the bounds of the rope.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_length" class="anchored"><a href="#val-max_length" class="anchor"></a><code><span><span class="keyword">val</span> max_length : int</span></code></div><div class="spec-doc"><p>Maximum length of the rope (number of UTF-8 characters).</p></div></div><h6 id="creation-and-conversions"><a href="#creation-and-conversions" class="anchor"></a>Creation and conversions</h6><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The empty rope.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_latin1" class="anchored"><a href="#val-of_latin1" class="anchor"></a><code><span><span class="keyword">val</span> of_latin1 : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Constructs a unicode rope from a latin-1 string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_string" class="anchored"><a href="#val-of_string" class="anchor"></a><code><span><span class="keyword">val</span> of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_string s</code> returns a rope corresponding to the UTF-8 encoded string <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_string t</code> returns a UTF-8 encoded string representing <code>t</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_uchar" class="anchored"><a href="#val-of_uchar" class="anchor"></a><code><span><span class="keyword">val</span> of_uchar : <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_uchar c</code> returns a rope containing exactly character <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_char" class="anchored"><a href="#val-of_char" class="anchor"></a><code><span><span class="keyword">val</span> of_char : <span>char <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_char c</code> returns a rope containing exactly Latin-1 character <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>make i c</code> returns a rope of length <code>i</code> consisting of <code>c</code> chars; it is similar to String.make</p></div></div><div class="odoc-spec"><div class="spec value" id="val-join" class="anchored"><a href="#val-join" class="anchor"></a><code><span><span class="keyword">val</span> join : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Same as <a href="#val-concat"><code>concat</code></a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-explode" class="anchored"><a href="#val-explode" class="anchor"></a><code><span><span class="keyword">val</span> explode : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> list</span></span></code></div><div class="spec-doc"><p><code>explode s</code> returns the list of characters in the rope <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-implode" class="anchored"><a href="#val-implode" class="anchor"></a><code><span><span class="keyword">val</span> implode : <span><span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>implode cs</code> returns a rope resulting from concatenating the characters in the list <code>cs</code>.</p></div></div><h6 id="properties"><a href="#properties" class="anchor"></a>Properties</h6><div class="odoc-spec"><div class="spec value" id="val-is_empty" class="anchored"><a href="#val-is_empty" class="anchor"></a><code><span><span class="keyword">val</span> is_empty : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns whether the rope is empty or not.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns the length of the rope (<code>O(1)</code>). This is number of UTF-8 characters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-height" class="anchored"><a href="#val-height" class="anchor"></a><code><span><span class="keyword">val</span> height : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns the height (depth) of the rope.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-balance" class="anchored"><a href="#val-balance" class="anchor"></a><code><span><span class="keyword">val</span> balance : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>balance r</code> returns a balanced copy of the <code>r</code> rope. Note that ropes are automatically rebalanced when their height exceeds a given threshold, but <code>balance</code> allows to invoke that operation explicitly.</p></div></div><h6 id="operations"><a href="#operations" class="anchor"></a>Operations</h6><div class="odoc-spec"><div class="spec value" id="val-append" class="anchored"><a href="#val-append" class="anchor"></a><code><span><span class="keyword">val</span> append : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>append r u</code> concatenates the <code>r</code> and <code>u</code> ropes. In general, it operates in <code>O(log(min n1 n2))</code> amortized time. Small ropes are treated specially and can be appended/prepended in amortized <code>O(1)</code> time.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(^^^)" class="anchored"><a href="#val-(^^^)" class="anchor"></a><code><span><span class="keyword">val</span> (^^^) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>As <a href="#val-append"><code>append</code></a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-append_char" class="anchored"><a href="#val-append_char" class="anchor"></a><code><span><span class="keyword">val</span> append_char : <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>append_char c r</code> returns a new rope with the <code>c</code> character at the end in amortized <code>O(1)</code> time.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prepend_char" class="anchored"><a href="#val-prepend_char" class="anchor"></a><code><span><span class="keyword">val</span> prepend_char : <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>prepend_char c r</code> returns a new rope with the <code>c</code> character at the beginning in amortized <code>O(1)</code> time.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="../BatUChar/index.html#type-t">BatUChar.t</a></span></code></div><div class="spec-doc"><p><code>get r n</code> returns the (n+1)th character from the rope <code>r</code>; i.e. <code>get r 0</code> returns the first character. Operates in worst-case <code>O(log size)</code> time.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Out_of_bounds</span> <p>if a character out of bounds is requested.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>set r n c</code> returns a copy of rope <code>r</code> where the (n+1)th character has been set to <code>c</code>. See also <a href="#val-get"><code>get</code></a>. Operates in worst-case <code>O(log size)</code> time.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sub r m n</code> returns a sub-rope of <code>r</code> containing all characters whose indexes range from <code>m</code> to <code>m + n - 1</code> (included). Operates in worst-case <code>O(log size)</code> time.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Out_of_bounds</span> <p>in the same cases as sub.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-insert" class="anchored"><a href="#val-insert" class="anchor"></a><code><span><span class="keyword">val</span> insert : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>insert n r u</code> returns a copy of the <code>u</code> rope where <code>r</code> has been inserted between the characters with index <code>n</code> and <code>n + 1</code> in the original rope. The length of the new rope is <code>length u + length r</code>. Operates in amortized <code>O(log(size r) + log(size u))</code> time.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-remove" class="anchored"><a href="#val-remove" class="anchor"></a><code><span><span class="keyword">val</span> remove : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>remove m n r</code> returns the rope resulting from deleting the characters with indexes ranging from <code>m</code> to <code>m + n - 1</code> (included) from the original rope <code>r</code>. The length of the new rope is <code>length r - n</code>. Operates in amortized <code>O(log(size r))</code> time.</p></div></div><h6 id="iteration"><a href="#iteration" class="anchor"></a>Iteration</h6><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f r</code> applies <code>f</code> to all the characters in the <code>r</code> rope, in order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iteri" class="anchored"><a href="#val-iteri" class="anchor"></a><code><span><span class="keyword">val</span> iteri : <span>?base:int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Operates like <code>iter</code>, but also passes the index of the character to the given function.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-range_iter" class="anchored"><a href="#val-range_iter" class="anchor"></a><code><span><span class="keyword">val</span> range_iter : <span><span>(<span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>range_iter f m n r</code> applies <code>f</code> to all the characters whose indices <code>k</code> satisfy <code>m</code> &lt;= <code>k</code> &lt; <code>m + n</code>. It is thus equivalent to <code>iter f (sub m n r)</code>, but does not create an intermediary rope. <code>range_iter</code> operates in worst-case <code>O(n + log m)</code> time, which improves on the <code>O(n log m)</code> bound from an explicit loop using <code>get</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Out_of_bounds</span> <p>in the same cases as <code>sub</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-range_iteri" class="anchored"><a href="#val-range_iteri" class="anchor"></a><code><span><span class="keyword">val</span> range_iteri : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>?base:int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>As <code>range_iter</code>, but passes base + index of the character in the subrope defined by next to arguments.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>Rope.fold f a r</code> computes <code> f (... (f (f a r0) r1)...) rN-1 </code> where <code>rn = Rope.get n r </code> and <code>N = length r</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-init" class="anchored"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <a href="../BatUChar/index.html#type-t">BatUChar.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>init l f</code> returns the rope of length <code>l</code> with the chars f 0 , f 1 , f 2 ... f (l-1).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../BatUChar/index.html#type-t">BatUChar.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>map f s</code> returns a rope where all characters <code>c</code> in <code>s</code> have been replaced by <code>f c</code>. *</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter_map" class="anchored"><a href="#val-filter_map" class="anchor"></a><code><span><span class="keyword">val</span> filter_map : <span><span>(<span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>filter_map f l</code> calls <code>(f a0) (f a1).... (f an)</code> where <code>a0..an</code> are the characters of <code>l</code>. It returns the list of elements <code>bi</code> such as <code>f ai = Some bi</code> (when <code>f</code> returns <code>None</code>, the corresponding element of <code>l</code> is discarded).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>filter f s</code> returns a copy of rope <code>s</code> in which only characters <code>c</code> such that <code>f c = true</code> remain.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-enum" class="anchored"><a href="#val-enum" class="anchor"></a><code><span><span class="keyword">val</span> enum : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p>enumerate the rope's characters</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-backwards" class="anchored"><a href="#val-backwards" class="anchor"></a><code><span><span class="keyword">val</span> backwards : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p>enumerates the rope's characters, in reverse order</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-of_enum" class="anchored"><a href="#val-of_enum" class="anchor"></a><code><span><span class="keyword">val</span> of_enum : <span><span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>converts the enumeration into a rope</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><h6 id="finding"><a href="#finding" class="anchor"></a>Finding</h6><div class="odoc-spec"><div class="spec value" id="val-index" class="anchored"><a href="#val-index" class="anchor"></a><code><span><span class="keyword">val</span> index : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>index s c</code> returns the position of the leftmost occurrence of character <code>c</code> in rope <code>s</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if <code>c</code> does not occur in <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-index_from" class="anchored"><a href="#val-index_from" class="anchor"></a><code><span><span class="keyword">val</span> index_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>index_from r i c</code> returns the character number of the first occurrence of character <code>c</code> in rope <code>r</code> after position <code>i</code>. <code>index s c</code> is equivalent to <code>index_from s 0 c</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Out_of_bounds</span> <p>if <code>i</code> is not a valid position in <code>r</code>.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if <code>c</code> does not occur in <code>r</code> after position <code>i</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-rindex" class="anchored"><a href="#val-rindex" class="anchor"></a><code><span><span class="keyword">val</span> rindex : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>Rope.rindex s c</code> returns the position of the rightmost occurrence of character <code>c</code> in rope <code>s</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if <code>c</code> does not occur in <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-rindex_from" class="anchored"><a href="#val-rindex_from" class="anchor"></a><code><span><span class="keyword">val</span> rindex_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Same as <a href="#val-rindex"><code>rindex</code></a>, but start searching at the character position given as second argument. <code>rindex s c</code> is equivalent to <code>rindex_from s (length s - 1) c</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-contains" class="anchored"><a href="#val-contains" class="anchor"></a><code><span><span class="keyword">val</span> contains : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>contains s c</code> tests if character <code>c</code> appears in the rope <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-contains_from" class="anchored"><a href="#val-contains_from" class="anchor"></a><code><span><span class="keyword">val</span> contains_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>contains_from s start c</code> tests if character <code>c</code> appears in the subrope of <code>s</code> starting from <code>start</code> to the end of <code>s</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Out_of_bounds</span> <p>if <code>start</code> is not a valid index of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-rcontains_from" class="anchored"><a href="#val-rcontains_from" class="anchor"></a><code><span><span class="keyword">val</span> rcontains_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>rcontains_from s stop c</code> tests if character <code>c</code> appears in the subrope of <code>s</code> starting from the beginning of <code>s</code> to index <code>stop</code> (included).</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Out_of_bounds</span> <p>if <code>stop</code> is not a valid index of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>find s x</code> returns the starting index of the first occurrence of rope <code>x</code> within rope <code>s</code>.</p><p><b>Note</b> This implementation is optimized for short ropes.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if <code>x</code> is not a subrope of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-find_from" class="anchored"><a href="#val-find_from" class="anchor"></a><code><span><span class="keyword">val</span> find_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>find_from s ofs x</code> behaves as <code>find s x</code> but starts searching at offset <code>ofs</code>. <code>find s x</code> is equivalent to <code>find_from s 0 x</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Out_of_bounds</span> <p>if <code>ofs</code> is not a valid_position in <code>s</code>.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if <code>x</code> is not a subrope of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-rfind" class="anchored"><a href="#val-rfind" class="anchor"></a><code><span><span class="keyword">val</span> rfind : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>rfind s x</code> returns the starting index of the last occurrence of rope <code>x</code> within rope <code>s</code>.</p><p><b>Note</b> This implementation is optimized for short ropes.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if <code>x</code> is not a subrope of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-rfind_from" class="anchored"><a href="#val-rfind_from" class="anchor"></a><code><span><span class="keyword">val</span> rfind_from : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>rfind_from s ofs x</code> behaves as <code>rfind s x</code> but starts searching at offset <code>ofs</code>. <code>rfind s x</code> is equivalent to <code>rfind_from s (length s - 1) x</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Out_of_bounds</span> <p>if <code>ofs</code> is not a valid_position in <code>s</code>.</p></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if <code>x</code> is not a subrope of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-starts_with" class="anchored"><a href="#val-starts_with" class="anchor"></a><code><span><span class="keyword">val</span> starts_with : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>starts_with s x</code> returns <code>true</code> if <code>s</code> is starting with <code>x</code>, <code>false</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ends_with" class="anchored"><a href="#val-ends_with" class="anchor"></a><code><span><span class="keyword">val</span> ends_with : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>ends_with s x</code> returns <code>true</code> if the rope <code>s</code> is ending with <code>x</code>, <code>false</code> otherwise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exists" class="anchored"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>exists str sub</code> returns true if <code>sub</code> is a subrope of <code>str</code> or false otherwise.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-left" class="anchored"><a href="#val-left" class="anchor"></a><code><span><span class="keyword">val</span> left : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>left r len</code> returns the rope containing the <code>len</code> first characters of <code>r</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-right" class="anchored"><a href="#val-right" class="anchor"></a><code><span><span class="keyword">val</span> right : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>left r len</code> returns the rope containing the <code>len</code> last characters of <code>r</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-head" class="anchored"><a href="#val-head" class="anchor"></a><code><span><span class="keyword">val</span> head : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>as <a href="#val-left"><code>left</code></a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-tail" class="anchored"><a href="#val-tail" class="anchor"></a><code><span><span class="keyword">val</span> tail : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>tail r pos</code> returns the rope containing all but the <code>pos</code> first characters of <code>r</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-strip" class="anchored"><a href="#val-strip" class="anchor"></a><code><span><span class="keyword">val</span> strip : <span>?chars:<span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Returns the rope without the chars if they are at the beginning or at the end of the rope. By default chars are &quot; \t\r\n&quot;.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lchop" class="anchored"><a href="#val-lchop" class="anchor"></a><code><span><span class="keyword">val</span> lchop : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Returns the same rope but without the first character. does nothing if the rope is empty.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rchop" class="anchored"><a href="#val-rchop" class="anchor"></a><code><span><span class="keyword">val</span> rchop : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Returns the same rope but without the last character. does nothing if the rope is empty.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-slice" class="anchored"><a href="#val-slice" class="anchor"></a><code><span><span class="keyword">val</span> slice : <span>?first:int <span class="arrow">&#45;&gt;</span></span> <span>?last:int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>slice ?first ?last s</code> returns a &quot;slice&quot; of the rope which corresponds to the characters <code>s.[first]</code>, <code>s.[first+1]</code>, ..., <code>s[last-1]</code>. Note that the character at index <code>last</code> is <b>not</b> included! If <code>first</code> is omitted it defaults to the start of the rope, i.e. index 0, and if <code>last</code> is omitted is defaults to point just past the end of <code>s</code>, i.e. <code>length s</code>. Thus, <code>slice s</code> is equivalent to <code>copy s</code>.</p><p>Negative indexes are interpreted as counting from the end of the rope. For example, <code>slice ~last:-2 s</code> will return the rope <code>s</code>, but without the last two characters.</p><p>This function <b>never</b> raises any exceptions. If the indexes are out of bounds they are automatically clipped.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-splice" class="anchored"><a href="#val-splice" class="anchor"></a><code><span><span class="keyword">val</span> splice : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>splice s off len rep</code> returns the rope in which the section of <code>s</code> indicated by <code>off</code> and <code>len</code> has been cut and replaced by <code>rep</code>.</p><p>Negative indices are interpreted as counting from the end of the string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill" class="anchored"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>fill s start len c</code> returns the rope in which characters number <code>start</code> to <code>start + len - 1</code> of <code>s</code> has been replaced by <code>c</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>start</code> and <code>len</code> do not designate a valid subrope of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-blit" class="anchored"><a href="#val-blit" class="anchor"></a><code><span><span class="keyword">val</span> blit : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>blit src srcoff dst dstoff len</code> returns a copy of <code>dst</code> in which <code>len</code> characters have been copied from rope <code>src</code>, starting at character number <code>srcoff</code>, to rope <code>dst</code>, starting at character number <code>dstoff</code>. It works correctly even if <code>src</code> and <code>dst</code> are the same rope, and the source and destination chunks overlap.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>srcoff</code> and <code>len</code> do not designate a valid subrope of <code>src</code>, or if <code>dstoff</code> and <code>len</code> do not designate a valid subrope of <code>dst</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-concat" class="anchored"><a href="#val-concat" class="anchor"></a><code><span><span class="keyword">val</span> concat : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>concat sep sl</code> concatenates the list of ropes <code>sl</code>, inserting the separator rope <code>sep</code> between each.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-replace" class="anchored"><a href="#val-replace" class="anchor"></a><code><span><span class="keyword">val</span> replace : <span>str:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>sub:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>by:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>replace ~str ~sub ~by</code> returns a tuple constisting of a boolean and a rope where the first occurrence of the rope <code>sub</code> within <code>str</code> has been replaced by the rope <code>by</code>. The boolean is <code>true</code> if a substitution has taken place, <code>false</code> otherwise.</p></div></div><h6 id="splitting-around"><a href="#splitting-around" class="anchor"></a>Splitting around</h6><div class="odoc-spec"><div class="spec value" id="val-split" class="anchored"><a href="#val-split" class="anchor"></a><code><span><span class="keyword">val</span> split : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a> * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>split s sep</code> splits the rope <code>s</code> between the first occurrence of <code>sep</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if the separator is not found.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-rsplit" class="anchored"><a href="#val-rsplit" class="anchor"></a><code><span><span class="keyword">val</span> rsplit : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a> * <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rsplit s sep</code> splits the rope <code>s</code> between the last occurrence of <code>sep</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if the separator is not found.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-nsplit" class="anchored"><a href="#val-nsplit" class="anchor"></a><code><span><span class="keyword">val</span> nsplit : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p><code>nsplit s sep</code> splits the rope <code>s</code> into a list of ropes which are separated by <code>sep</code>. <code>nsplit &quot;&quot; _</code> returns the empty list. If the separator is not found, it returns a list of the rope <code>s</code>. If two occurrences of the separator are consecutive (with nothing in between), the empty rope is added in the sequence. For example, <code>nsplit &quot;a//b/&quot; &quot;/&quot;</code> is <code>&quot;a&quot;; &quot;&quot;; &quot;b&quot;; &quot;&quot;</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the separator is empty</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>The comparison function for ropes, with the same specification as <code>Pervasives</code>.compare. Along with the type <code>t</code>, this function <code>compare</code> allows the module <code>Rope</code> to be passed as argument to the functors <code>Set</code>.Make and <code>Map</code>.Make.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Equality of ropes (based on compare)</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-print" class="anchored"><a href="#val-print" class="anchor"></a><code><span><span class="keyword">val</span> print : <span><span>(<a href="#type-t">t</a>,Â <span class="type-var">_</span>)</span> <a href="../BatIO/index.html#type-printer">BatIO.printer</a></span></span></code></div><div class="spec-doc"><p>Prints a rope to the given out_channel</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_char" class="anchored"><a href="#val-read_char" class="anchor"></a><code><span><span class="keyword">val</span> read_char : <span><a href="../BatIO/index.html#type-input">BatIO.input</a> <span class="arrow">&#45;&gt;</span></span> <a href="../BatUChar/index.html#type-t">BatUChar.t</a></span></code></div><div class="spec-doc"><p>Read one Unicode char from a UTF-8 encoded input</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_text" class="anchored"><a href="#val-read_text" class="anchor"></a><code><span><span class="keyword">val</span> read_text : <span><a href="../BatIO/index.html#type-input">BatIO.input</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Read up to n chars from a UTF-8 encoded input</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_line" class="anchored"><a href="#val-read_line" class="anchor"></a><code><span><span class="keyword">val</span> read_line : <span><a href="../BatIO/index.html#type-input">BatIO.input</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Read a line of UTF-8</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_all" class="anchored"><a href="#val-read_all" class="anchor"></a><code><span><span class="keyword">val</span> read_all : <span><a href="../BatIO/index.html#type-input">BatIO.input</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Read the whole contents of a UTF-8 encoded input</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_char" class="anchored"><a href="#val-write_char" class="anchor"></a><code><span><span class="keyword">val</span> write_char : <span><span>(<a href="../BatUChar/index.html#type-t">BatUChar.t</a>,Â <span class="type-var">_</span>)</span> <a href="../BatIO/index.html#type-printer">BatIO.printer</a></span></span></code></div><div class="spec-doc"><p>Write one uchar to a UTF-8 encoded output.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_text" class="anchored"><a href="#val-write_text" class="anchor"></a><code><span><span class="keyword">val</span> write_text : <span><span>(<a href="#type-t">t</a>,Â <span class="type-var">_</span>)</span> <a href="../BatIO/index.html#type-printer">BatIO.printer</a></span></span></code></div><div class="spec-doc"><p>Write a character text onto a UTF-8 encoded output.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write_line" class="anchored"><a href="#val-write_line" class="anchor"></a><code><span><span class="keyword">val</span> write_line : <span><span>(<a href="#type-t">t</a>,Â <span class="type-var">_</span>)</span> <a href="../BatIO/index.html#type-printer">BatIO.printer</a></span></span></code></div><div class="spec-doc"><p>Write one line onto a UTF-8 encoded output, followed by a \n.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lines_of" class="anchored"><a href="#val-lines_of" class="anchor"></a><code><span><span class="keyword">val</span> lines_of : <span><a href="../BatIO/index.html#type-input">BatIO.input</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p>offer the lines of a UTF-8 encoded input as an enumeration</p></div></div><div class="odoc-spec"><div class="spec value" id="val-chars_of" class="anchored"><a href="#val-chars_of" class="anchor"></a><code><span><span class="keyword">val</span> chars_of : <span><a href="../BatIO/index.html#type-input">BatIO.input</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../BatUChar/index.html#type-t">BatUChar.t</a> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p>offer the characters of an UTF-8 encoded input as an enumeration</p></div></div><div class="odoc-spec"><div class="spec value" id="val-output_text" class="anchored"><a href="#val-output_text" class="anchor"></a><code><span><span class="keyword">val</span> output_text : <span><span>unit <a href="../BatIO/index.html#type-output">BatIO.output</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write the text on the given output channel.</p></div></div></div></body></html>