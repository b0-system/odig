<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>B00_cmark (b0.B00_cmark)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">b0</a> &#x00BB; B00_cmark</nav><header class="odoc-preamble"><h1>Module <code><span>B00_cmark</span></code></h1><p>B00 <code>cmark</code> support.</p><p>This models the <a href="https://github.com/commonmark/cmark"><code>cmark</code></a> tool. There's not much to model though.</p><p>An <a href="#extract">extraction</a> function is also provided.</p></header><nav class="odoc-toc"><ul><li><a href="#cmark">Cmark</a></li><li><a href="#conv">Convenience</a></li><li><a href="#extract">Extraction</a></li></ul></nav><div class="odoc-content"><h2 id="cmark"><a href="#cmark" class="anchor"></a>Cmark</h2><div class="odoc-spec"><div class="spec value" id="val-tool" class="anchored"><a href="#val-tool" class="anchor"></a><code><span><span class="keyword">val</span> tool : <a href="../B00/Tool/index.html#type-t">B00.Tool.t</a></span></code></div><div class="spec-doc"><p><code>tool</code> is the <code>cmark</code> tool.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cmd" class="anchored"><a href="#val-cmd" class="anchor"></a><code><span><span class="keyword">val</span> cmd : <span>?validate_utf_8:bool <span class="arrow">&#45;&gt;</span></span> <span>?format:string <span class="arrow">&#45;&gt;</span></span> <span><a href="../B00/Memo/index.html#type-t">B00.Memo.t</a> <span class="arrow">&#45;&gt;</span></span> <span>opts:<a href="../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a> <span class="arrow">&#45;&gt;</span></span> <span>mds:<span><a href="../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>o:<a href="../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>cmd m ~format ~validate_utf_8 ~args ~mds ~o</code> writes to file <code>o</code> the result of processing the CommonMark files <code>mds</code>.</p><ul><li><code>format</code> is the output format. It defaults to <code>&quot;html&quot;</code> which outputs a fragment not a full page page (this the <code>--to</code> option).</li><li><code>validate_utf_8</code> is the <code>--validate-utf8</code> option it defaults to <code>true</code>.</li><li><code>args</code> are additional command line arguments you may want to pass to <code>cmark</code>.</li></ul></div></div><h2 id="conv"><a href="#conv" class="anchor"></a>Convenience</h2><div class="odoc-spec"><div class="spec value" id="val-to_html" class="anchored"><a href="#val-to_html" class="anchor"></a><code><span><span class="keyword">val</span> to_html : <span>?generator:string <span class="arrow">&#45;&gt;</span></span> <span>?lang:string <span class="arrow">&#45;&gt;</span></span> <span>?scripts:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
<span>?styles:<span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>?title:string <span class="arrow">&#45;&gt;</span></span> <span><a href="../B00/Memo/index.html#type-t">B00.Memo.t</a> <span class="arrow">&#45;&gt;</span></span> <span>opts:<a href="../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a> <span class="arrow">&#45;&gt;</span></span> <span>mds:<span><a href="../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>o_frag:<a href="../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>o:<a href="../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>to_html m ~opts ~mds ~o_frag o</code> compiles the concatenation of <code>mds</code> to an HTML fragment <code>o_frag</code> and then to an HTML page <code>o</code> by invoking <a href="#val-cmd"><code>cmd</code></a> with <code>opts</code> and <a href="../B00_htmlg/El/index.html#val-write_page"><code>B00_htmlg.El.write_page</code></a>; for the documentation of optional arguments see the later.</p></div></div><h2 id="extract"><a href="#extract" class="anchor"></a>Extraction</h2><div class="odoc-spec"><div class="spec value" id="val-first_section" class="anchored"><a href="#val-first_section" class="anchor"></a><code><span><span class="keyword">val</span> first_section : <span>preamble:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(string * string)</span> option</span></span></code></div><div class="spec-doc"><p><code>first_section src</code> is <code>Some (title, content)</code> where <code>title</code> is the content of first CommonMark header found in CommonMark source <code>src</code> and <code>content</code> everything that follows until the next header (<code>preamble</code> is <code>true</code>) or next header of the same of smaller level (<code>preamble</code> is <code>false</code>). Trailing blank lines are discarded.</p><p><b>Warning.</b> This function may break on valid CommonMark inputs in all sorts of fashion.</p></div></div></div></body></html>