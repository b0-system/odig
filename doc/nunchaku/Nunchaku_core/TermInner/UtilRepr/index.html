<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>UtilRepr (nunchaku.Nunchaku_core.TermInner.UtilRepr)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">nunchaku</a> &#x00BB; <a href="../../index.html">Nunchaku_core</a> &#x00BB; <a href="../index.html">TermInner</a> &#x00BB; UtilRepr</nav><h1>Module <code>TermInner.UtilRepr</code></h1><p>Utils that only require a <a href="../module-type-REPR/index.html"><code>REPR</code></a></p></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-T/index.html">T</a> : <a href="../index.html#module-type-REPR">REPR</a></code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-head_sym"><a href="#val-head_sym" class="anchor"></a><code><span class="keyword">val</span> head_sym : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-id">id</a> option</code></dt><dd><p>Search for a head symbol, if any</p></dd></dl><dl><dt class="spec exception" id="exception-No_head"><a href="#exception-No_head" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">No_head</span> <span class="keyword">of</span> <a href="index.html#type-t">t</a></code></dt></dl><dl><dt class="spec value" id="val-head_sym_exn"><a href="#val-head_sym_exn" class="anchor"></a><code><span class="keyword">val</span> head_sym_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-id">id</a></code></dt><dd><p>Search for a head symbol</p><dl><dt>raises No_head</dt><dd><p>if not an application/const</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-to_seq"><a href="#val-to_seq" class="anchor"></a><code><span class="keyword">val</span> to_seq : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../../../sequence/Sequence/index.html#type-t">Sequence.t</a></code></dt><dd><p>Iterate on sub-terms</p></dd></dl><dl><dt class="spec value" id="val-to_seq_vars"><a href="#val-to_seq_vars" class="anchor"></a><code><span class="keyword">val</span> to_seq_vars : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../Var/index.html#type-t">Var.t</a> <a href="../../../../sequence/Sequence/index.html#type-t">Sequence.t</a></code></dt><dd><p>Iterate on variables</p></dd></dl><dl><dt class="spec value" id="val-to_seq_consts"><a href="#val-to_seq_consts" class="anchor"></a><code><span class="keyword">val</span> to_seq_consts : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../ID/index.html#type-t">ID.t</a> <a href="../../../../sequence/Sequence/index.html#type-t">Sequence.t</a></code></dt><dd><p>IDs occurring as <a href="../index.html#type-view.Const"><code>Const</code></a></p></dd></dl><div class="spec module" id="module-VarSet"><a href="#module-VarSet" class="anchor"></a><code><span class="keyword">module</span> <a href="VarSet/index.html">VarSet</a> : <a href="../../../../containers/CCSet/index.html#module-type-S">CCSet.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../containers/CCSet/module-type-S/index.html#type-elt">elt</a> = <a href="index.html#type-t">t</a> <a href="../../Var/index.html#type-t">Var.t</a></code></div><dl><dt class="spec value" id="val-to_seq_free_vars"><a href="#val-to_seq_free_vars" class="anchor"></a><code><span class="keyword">val</span> to_seq_free_vars : ?&#8288;bound:<a href="VarSet/index.html#type-t">VarSet.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../Var/index.html#type-t">Var.t</a> <a href="../../../../sequence/Sequence/index.html#type-t">Sequence.t</a></code></dt><dd><p>Iterate on free variables.</p></dd></dl><dl><dt class="spec value" id="val-free_vars"><a href="#val-free_vars" class="anchor"></a><code><span class="keyword">val</span> free_vars : ?&#8288;bound:<a href="VarSet/index.html#type-t">VarSet.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="VarSet/index.html#type-t">VarSet.t</a></code></dt><dd><p><code>free_vars t</code> computes the set of free variables of <code>t</code>.</p><dl><dt>parameter bound</dt><dd><p>variables bound on the path</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-free_vars_seq"><a href="#val-free_vars_seq" class="anchor"></a><code><span class="keyword">val</span> free_vars_seq : ?&#8288;bound:<a href="VarSet/index.html#type-t">VarSet.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../../../sequence/Sequence/index.html#type-t">Sequence.t</a> <span>&#45;&gt;</span> <a href="VarSet/index.html#type-t">VarSet.t</a></code></dt><dd><p>Similar to <a href="index.html#val-free_vars"><code>free_vars</code></a> but for a sequence of terms</p></dd></dl><dl><dt class="spec value" id="val-free_vars_list"><a href="#val-free_vars_list" class="anchor"></a><code><span class="keyword">val</span> free_vars_list : ?&#8288;bound:<a href="VarSet/index.html#type-t">VarSet.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <a href="VarSet/index.html#type-t">VarSet.t</a></code></dt><dt class="spec value" id="val-is_var"><a href="#val-is_var" class="anchor"></a><code><span class="keyword">val</span> is_var : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_const"><a href="#val-is_const" class="anchor"></a><code><span class="keyword">val</span> is_const : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_closed"><a href="#val-is_closed" class="anchor"></a><code><span class="keyword">val</span> is_closed : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_closed t</code> means <code>to_seq_free_vars t = empty</code></p></dd></dl><dl><dt class="spec value" id="val-is_undefined"><a href="#val-is_undefined" class="anchor"></a><code><span class="keyword">val</span> is_undefined : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-free_meta_vars"><a href="#val-free_meta_vars" class="anchor"></a><code><span class="keyword">val</span> free_meta_vars : ?&#8288;init:<a href="index.html#type-t">t</a> <a href="../../MetaVar/index.html#type-t">MetaVar.t</a> <a href="../../ID/Map/index.html#type-t">ID.Map.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../MetaVar/index.html#type-t">MetaVar.t</a> <a href="../../ID/Map/index.html#type-t">ID.Map.t</a></code></dt><dd><p>The free type meta-variables in <code>t</code></p></dd></dl><dl><dt class="spec value" id="val-bind_unfold"><a href="#val-bind_unfold" class="anchor"></a><code><span class="keyword">val</span> bind_unfold : <a href="../../Binder/index.html#type-t">Binder.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../Var/index.html#type-t">Var.t</a> list * <a href="index.html#type-t">t</a></code></dt><dd><p><code>bind_unfold binder (bind binder x1...xn. t)</code> returns <code>x1...xn, t</code></p></dd></dl><dl><dt class="spec value" id="val-fun_unfold"><a href="#val-fun_unfold" class="anchor"></a><code><span class="keyword">val</span> fun_unfold : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../Var/index.html#type-t">Var.t</a> list * <a href="index.html#type-t">t</a></code></dt><dd><p><code>fun_unfold (fun x y z. t) = [x;y;z], t</code>. Special case of <a href="index.html#val-bind_unfold"><code>bind_unfold</code></a></p></dd></dl><dl><dt class="spec value" id="val-get_ty_arg"><a href="#val-get_ty_arg" class="anchor"></a><code><span class="keyword">val</span> get_ty_arg : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> option</code></dt><dd><p><code>get_ty_arg ty n</code> gets the <code>n</code>-th argument of <code>ty</code>, if <code>ty</code> is a function type with at least <code>n</code> arguments.</p></dd></dl><dl><dt class="spec value" id="val-ty_unfold"><a href="#val-ty_unfold" class="anchor"></a><code><span class="keyword">val</span> ty_unfold : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../Var/index.html#type-t">Var.t</a> list * <a href="index.html#type-t">t</a> list * <a href="index.html#type-t">t</a></code></dt><dd><p><code>ty_unfold ty</code> decomposes <code>ty</code> into a list of quantified type variables, a list of parameters, and a return type (which is not an arrow).</p><p><code>ty_unfold (forall a b, a -&gt; b -&gt; c -&gt; d)</code> will return <code>([a;b], [a;b;c], d)</code></p></dd></dl><dl><dt class="spec value" id="val-app_const_unfold"><a href="#val-app_const_unfold" class="anchor"></a><code><span class="keyword">val</span> app_const_unfold : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="../../ID/index.html#type-t">ID.t</a> * <a href="index.html#type-t">t</a> list) option</code></dt><dd><p><code>app_const_unfold (app_const id l)</code> returns <code>Some (id,l)</code>; <code>app_const_unfold (const id)</code> returns <code>Some (id, [])</code>; otherwise it returns <code>None</code></p></dd></dl><dl><dt class="spec value" id="val-ite_unfold"><a href="#val-ite_unfold" class="anchor"></a><code><span class="keyword">val</span> ite_unfold : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="index.html#type-t">t</a> * <a href="index.html#type-t">t</a>) list * <a href="index.html#type-t">t</a></code></dt><dd><p><code>ite_unfold (if a b (if a' b' … e))</code> returns <code>[(a,b);(a',b')…],e</code>, i.e. a series of &quot;if/then&quot; and a final &quot;else&quot;</p></dd></dl><dl><dt class="spec value" id="val-ty_is_Type"><a href="#val-ty_is_Type" class="anchor"></a><code><span class="keyword">val</span> ty_is_Type : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>t == Type?</p></dd></dl><dl><dt class="spec value" id="val-ty_returns_Type"><a href="#val-ty_returns_Type" class="anchor"></a><code><span class="keyword">val</span> ty_returns_Type : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>t == forall ... -&gt; ... -&gt; ... -&gt; Type?</p></dd></dl><dl><dt class="spec value" id="val-ty_returns_Prop"><a href="#val-ty_returns_Prop" class="anchor"></a><code><span class="keyword">val</span> ty_returns_Prop : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-ty_returns"><a href="#val-ty_returns" class="anchor"></a><code><span class="keyword">val</span> ty_returns : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>follow forall/arrows to get return type.</p></dd></dl><dl><dt class="spec value" id="val-ty_is_Kind"><a href="#val-ty_is_Kind" class="anchor"></a><code><span class="keyword">val</span> ty_is_Kind : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>type == Kind?</p></dd></dl><dl><dt class="spec value" id="val-ty_is_Prop"><a href="#val-ty_is_Prop" class="anchor"></a><code><span class="keyword">val</span> ty_is_Prop : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>t == Prop?</p></dd></dl><dl><dt class="spec value" id="val-ty_is_unitype"><a href="#val-ty_is_unitype" class="anchor"></a><code><span class="keyword">val</span> ty_is_unitype : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-ty_arity"><a href="#val-ty_arity" class="anchor"></a><code><span class="keyword">val</span> ty_arity : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>If type is a function <code>forall v1...vk. a1 -&gt; ... -&gt; an -&gt; ret</code>, returns <code>k+n</code>. Returns <code>0</code> otherwise. In other words, this returns the maximal number of arguments anything with this type can be applied to.</p></dd></dl><dl><dt class="spec value" id="val-ty_num_param"><a href="#val-ty_num_param" class="anchor"></a><code><span class="keyword">val</span> ty_num_param : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Number of type arguments that any value of this type accepts.</p><p>NOTE: this is not simply <code>ty_unfold</code>, because some nameless parameters might still be of type &quot;ty&quot;.</p><p>For instance, returns 2 on the type <code>pi a:type. type -&gt; foo -&gt; bar</code>, because any value with this type should be applied to 2 type parameters.</p></dd></dl></div></body></html>