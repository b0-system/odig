<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Amqp_client_async__Spec (amqp-client-async.Amqp_client_async__Spec)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">amqp-client-async</a> &#x00BB; Amqp_client_async__Spec</nav><h1>Module <code>Amqp_client_async__Spec</code></h1><p>Internal - Low level protocol description</p></header><dl><dt class="spec type" id="type-reply_text"><a href="#type-reply_text" class="anchor"></a><code><span class="keyword">type</span> reply_text</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></code></dt><dd><p>The localised reply text. This text can be logged as an aid to resolving issues.</p></dd></dl><dl><dt class="spec type" id="type-path"><a href="#type-path" class="anchor"></a><code><span class="keyword">type</span> path</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></code></dt><dd><p>Unconstrained.</p></dd></dl><dl><dt class="spec type" id="type-reply_code"><a href="#type-reply_code" class="anchor"></a><code><span class="keyword">type</span> reply_code</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-short">Amqp_client_lib.Types.short</a></code></dt><dd><p>The reply code. The AMQ reply codes are defined as constants at the start of this formal specification.</p></dd></dl><dl><dt class="spec type" id="type-class_id"><a href="#type-class_id" class="anchor"></a><code><span class="keyword">type</span> class_id</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-short">Amqp_client_lib.Types.short</a></code></dt><dt class="spec type" id="type-message_count"><a href="#type-message_count" class="anchor"></a><code><span class="keyword">type</span> message_count</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-long">Amqp_client_lib.Types.long</a></code></dt><dd><p>The number of messages in the queue, which will be zero for newly-declared queues. This is the number of messages present in the queue, and committed if the channel on which they were published is transacted, that are not waiting acknowledgement.</p></dd></dl><dl><dt class="spec type" id="type-peer_properties"><a href="#type-peer_properties" class="anchor"></a><code><span class="keyword">type</span> peer_properties</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-table">Amqp_client_lib.Types.table</a></code></dt><dd><p>This table provides a set of peer properties, used for identification, debugging, and general information.</p></dd></dl><dl><dt class="spec type" id="type-method_id"><a href="#type-method_id" class="anchor"></a><code><span class="keyword">type</span> method_id</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-short">Amqp_client_lib.Types.short</a></code></dt><dt class="spec type" id="type-exchange_name"><a href="#type-exchange_name" class="anchor"></a><code><span class="keyword">type</span> exchange_name</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></code></dt><dd><p>The exchange name is a client-selected string that identifies the exchange for publish methods.</p></dd></dl><dl><dt class="spec type" id="type-no_wait"><a href="#type-no_wait" class="anchor"></a><code><span class="keyword">type</span> no_wait</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-bit">Amqp_client_lib.Types.bit</a></code></dt><dd><p>If set, the server will not respond to the method. The client should not wait for a reply method. If the server could not complete the method it will raise a channel or connection exception.</p></dd></dl><dl><dt class="spec type" id="type-delivery_tag"><a href="#type-delivery_tag" class="anchor"></a><code><span class="keyword">type</span> delivery_tag</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-longlong">Amqp_client_lib.Types.longlong</a></code></dt><dd><p>The server-assigned and channel-specific delivery tag</p></dd></dl><dl><dt class="spec type" id="type-no_ack"><a href="#type-no_ack" class="anchor"></a><code><span class="keyword">type</span> no_ack</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-bit">Amqp_client_lib.Types.bit</a></code></dt><dd><p>If this field is set the server does not expect acknowledgements for messages. That is, when a message is delivered to the client the server assumes the delivery will succeed and immediately dequeues it. This functionality may increase performance but at the cost of reliability. Messages can get lost if a client dies before they are delivered to the application.</p></dd></dl><dl><dt class="spec type" id="type-consumer_tag"><a href="#type-consumer_tag" class="anchor"></a><code><span class="keyword">type</span> consumer_tag</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></code></dt><dd><p>Identifier for the consumer, valid within the current channel.</p></dd></dl><dl><dt class="spec type" id="type-queue_name"><a href="#type-queue_name" class="anchor"></a><code><span class="keyword">type</span> queue_name</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-shortstr">Amqp_client_lib.Types.shortstr</a></code></dt><dd><p>The queue name identifies the queue within the vhost. In methods where the queue name may be blank, and that has no specific significance, this refers to the 'current' queue for the channel, meaning the last queue that the client declared on the channel. If the client did not declare a queue, and the method needs a queue name, this will result in a 502 (syntax error) channel exception.</p></dd></dl><dl><dt class="spec type" id="type-redelivered"><a href="#type-redelivered" class="anchor"></a><code><span class="keyword">type</span> redelivered</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-bit">Amqp_client_lib.Types.bit</a></code></dt><dd><p>This indicates that the message has been previously delivered to this or another client.</p></dd></dl><dl><dt class="spec type" id="type-no_local"><a href="#type-no_local" class="anchor"></a><code><span class="keyword">type</span> no_local</code><code> = <a href="../../amqp-client/Amqp_client_lib/Types/index.html#type-bit">Amqp_client_lib.Types.bit</a></code></dt><dd><p>If the no-local field is set the server will not send messages to the connection that published them.</p></dd></dl><dl><dt class="spec module" id="module-Confirm"><a href="#module-Confirm" class="anchor"></a><code><span class="keyword">module</span> <a href="Confirm/index.html">Confirm</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>The Confirm class allows publishers to put the channel in confirm mode and subsequently be notified when messages have been handled by the broker. The intention is that all messages published on a channel in confirm mode will be acknowledged at some point. By acknowledging a message the broker assumes responsibility for it and indicates that it has done something it deems reasonable with it. Unroutable mandatory or immediate messages are acknowledged right after the Basic.Return method. Messages are acknowledged when all queues to which the message has been routed have either delivered the message and received an acknowledgement (if required), or enqueued the message (and persisted it if required). Published messages are assigned ascending sequence numbers, starting at 1 with the first Confirm.Select method. The server confirms messages by sending Basic.Ack methods referring to these sequence numbers.</p></dd></dl><dl><dt class="spec module" id="module-Tx"><a href="#module-Tx" class="anchor"></a><code><span class="keyword">module</span> <a href="Tx/index.html">Tx</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>The Tx class allows publish and ack operations to be batched into atomic units of work. The intention is that all publish and ack requests issued within a transaction will complete successfully or none of them will. Servers SHOULD implement atomic transactions at least where all publish or ack requests affect a single queue. Transactions that cover multiple queues may be non-atomic, given that queues can be created and destroyed asynchronously, and such events do not form part of any transaction. Further, the behaviour of transactions with respect to the immediate and mandatory flags on Basic.Publish methods is not defined.</p></dd></dl><dl><dt class="spec module" id="module-Basic"><a href="#module-Basic" class="anchor"></a><code><span class="keyword">module</span> <a href="Basic/index.html">Basic</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>The Basic class provides methods that support an industry-standard messaging model.</p></dd></dl><dl><dt class="spec module" id="module-Queue"><a href="#module-Queue" class="anchor"></a><code><span class="keyword">module</span> <a href="Queue/index.html">Queue</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Queues store and forward messages. Queues can be configured in the server or created at runtime. Queues must be attached to at least one exchange in order to receive messages from publishers.</p></dd></dl><dl><dt class="spec module" id="module-Exchange"><a href="#module-Exchange" class="anchor"></a><code><span class="keyword">module</span> <a href="Exchange/index.html">Exchange</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Exchanges match and distribute messages across queues. Exchanges can be configured in the server or declared at runtime.</p></dd></dl><dl><dt class="spec module" id="module-Channel"><a href="#module-Channel" class="anchor"></a><code><span class="keyword">module</span> <a href="Channel/index.html">Channel</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>The channel class provides methods for a client to establish a channel to a server and for both peers to operate the channel thereafter.</p></dd></dl><dl><dt class="spec module" id="module-Connection"><a href="#module-Connection" class="anchor"></a><code><span class="keyword">module</span> <a href="Connection/index.html">Connection</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>The connection class provides methods for a client to establish a network connection to a server, and for both peers to operate the connection thereafter.</p></dd></dl></div></body></html>