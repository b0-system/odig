<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatGlobal (batteries.BatGlobal)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">batteries</a> &#x00BB; BatGlobal</nav><header class="odoc-preamble"><h1>Module <code><span>BatGlobal</span></code></h1><p>Mutable global variable.</p><p>Often in OCaml you want to have a global variable, which is mutable and uninitialized when declared. You can use a <code>'a option ref</code> but this is not very convenient. The Global module provides functions to easily create and manipulate such variables.</p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Nicolas Cannasse</li></ul><ul class="at-tags"><li class="author"><span class="at-tag">author</span> David Teller (boilerplate code)</li></ul></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div><div class="spec-doc"><p>Abstract type of a global</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Global_not_initialized" class="anchored"><a href="#exception-Global_not_initialized" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Global_not_initialized</span> <span class="keyword">of</span> string</span></code></div><div class="spec-doc"><p>Raised when a global variable is accessed without first having been assigned a value. The parameter contains the name of the global.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Returns an new named empty global. The name of the global can be any string. It identifies the global and makes debugging easier. Using the same string twice will not return the same global twice, but will create two globals with the same name.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-name" class="anchored"><a href="#val-name" class="anchor"></a><code><span><span class="keyword">val</span> name : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Retrieve the name of a global.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set the global value contents.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_exn" class="anchored"><a href="#val-get_exn" class="anchor"></a><code><span><span class="keyword">val</span> get_exn : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Get the global value contents - raise Global_not_initialized if not defined.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p>Return <code>None</code> if the global is undefined, else <code>Some v</code> where <code>v</code> is the current global value contents.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-undef" class="anchored"><a href="#val-undef" class="anchor"></a><code><span><span class="keyword">val</span> undef : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Reset the global value contents to undefined.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-isdef" class="anchored"><a href="#val-isdef" class="anchor"></a><code><span><span class="keyword">val</span> isdef : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Return <code>true</code> if the global value has been set.</p></div></div></div></body></html>