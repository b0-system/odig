<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Generator (core_kernel.Core_kernel.Quickcheck_intf.Generator)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">core_kernel</a> &#x00BB; <a href="../../index.html">Core_kernel</a> &#x00BB; <a href="../index.html">Quickcheck_intf</a> &#x00BB; Generator</nav><h1>Module type <code>Quickcheck_intf.Generator</code></h1></header><aside><p>An <code>'a t</code> a generates values of type <code>'a</code> with a specific probability distribution.</p><p>Generators are constructed as functions that produce a value from a splittable pseudorandom number generator (see <code>Splittable_random</code>), with a <code>~size</code> argument threaded through to bound the size of the result value and the depth of recursion.</p><p>There is no prescribed semantics for <code>size</code> other than that it must be non-negative. Non-recursive generators are free to ignore it, and recursive generators need only make sure it decreases in recursive calls and that recursion bottoms out at 0.</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> +'a t</code></dt><dt class="spec type" id="type-obs"><a href="#type-obs" class="anchor"></a><code><span class="keyword">type</span> -'a obs</code></dt></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : (size:<a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <span>&#45;&gt;</span> <a href="../../../../splittable_random/Splittable_random/State/index.html#type-t">Splittable_random.State.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-generate"><a href="#val-generate" class="anchor"></a><code><span class="keyword">val</span> generate : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> size:<a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <span>&#45;&gt;</span> <a href="../../../../splittable_random/Splittable_random/State/index.html#type-t">Splittable_random.State.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt></dl><div><div class="spec include"><div class="doc"><p>Generators form a monad. <code>t1 &gt;&gt;= fun x -&gt; t2</code> replaces each value <code>x</code> in <code>t1</code> with the values in <code>t2</code>; each value's probability is the product of its probability in <code>t1</code> and <code>t2</code>.</p><p>This can be used to form distributions of related values. For instance, the following expression creates a distribution of pairs <code>x,y</code> where <code>x &lt;= y</code>:</p><pre><code class="ml">Int.gen
&gt;&gt;= fun x -&gt;
Int.gen_incl x Int.max_value
&gt;&gt;| fun y -&gt;
x, y</code></pre><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../../../base/Base/Monad/index.html#module-type-S">Core_kernel__.Import.Monad.S</a> <span class="keyword">with</span> <span class="keyword">type</span> 'a <a href="../../../../base/Base/Monad/module-type-S/index.html#type-t">t</a> := <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'a t</code></dt></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../../../base/Base__/Monad_intf/index.html#module-type-S_without_syntax">Base__.Monad_intf.S_without_syntax</a> <span class="keyword">with</span> <span class="keyword">type</span> 'a <a href="../../../../base/Base__/Monad_intf/module-type-S_without_syntax/index.html#type-t">t</a> := <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'a t</code></dt></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../../../base/Base__/Monad_intf/index.html#module-type-Infix">Base__.Monad_intf.Infix</a> <span class="keyword">with</span> <span class="keyword">type</span> 'a <a href="../../../../base/Base__/Monad_intf/module-type-Infix/index.html#type-t">t</a> := <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'a t</code></dt></dl><dl><dt class="spec value" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;&gt;=) : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>t &gt;&gt;= f</code> returns a computation that sequences the computations represented by two monad elements. The resulting computation first does <code>t</code> to yield a value <code>v</code>, and then runs the computation returned by <code>f v</code>.</p></dd></dl><dl><dt class="spec value" id="val-(&gt;&gt;|)"><a href="#val-(&gt;&gt;|)" class="anchor"></a><code><span class="keyword">val</span> (&gt;&gt;|) : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>t &gt;&gt;| f</code> is <code>t &gt;&gt;= (fun a -&gt; return (f a))</code>.</p></dd></dl></details></div></div></div><div class="spec module" id="module-Monad_infix"><a href="#module-Monad_infix" class="anchor"></a><code><span class="keyword">module</span> <a href="Monad_infix/index.html">Monad_infix</a> : <a href="../../../../base/Base__/Monad_intf/index.html#module-type-Infix">Base__.Monad_intf.Infix</a> <span class="keyword">with</span> <span class="keyword">type</span> 'a <a href="../../../../base/Base__/Monad_intf/module-type-Infix/index.html#type-t">t</a> := <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><dl><dt class="spec value" id="val-bind"><a href="#val-bind" class="anchor"></a><code><span class="keyword">val</span> bind : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>bind t ~f</code> = <code>t &gt;&gt;= f</code></p></dd></dl><dl><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val</span> return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>return v</code> returns the (trivial) computation that returns v.</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>map t ~f</code> is t &gt;&gt;| f.</p></dd></dl><dl><dt class="spec value" id="val-join"><a href="#val-join" class="anchor"></a><code><span class="keyword">val</span> join : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>join t</code> is <code>t &gt;&gt;= (fun t' -&gt; t')</code>.</p></dd></dl><dl><dt class="spec value" id="val-ignore_m"><a href="#val-ignore_m" class="anchor"></a><code><span class="keyword">val</span> ignore_m : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>ignore_m t</code> is <code>map t ~f:(fun _ -&gt; ())</code>. <code>ignore_m</code> used to be called <code>ignore</code>, but we decided that was a bad name, because it shadowed the widely used <code>Pervasives.ignore</code>. Some monads still do <code>let ignore = ignore_m</code> for historical reasons.</p></dd></dl><dl><dt class="spec value" id="val-all"><a href="#val-all" class="anchor"></a><code><span class="keyword">val</span> all : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all_unit"><a href="#val-all_unit" class="anchor"></a><code><span class="keyword">val</span> all_unit : unit <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all_ignore"><a href="#val-all_ignore" class="anchor"></a><code><span class="keyword">val</span> all_ignore : unit <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt></dl></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../../../base/Base__/Monad_intf/index.html#module-type-Syntax">Base__.Monad_intf.Syntax</a> <span class="keyword">with</span> <span class="keyword">type</span> 'a <a href="../../../../base/Base__/Monad_intf/module-type-Syntax/index.html#type-t">t</a> := <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'a t</code></dt></dl><div class="spec module" id="module-Let_syntax"><a href="#module-Let_syntax" class="anchor"></a><code><span class="keyword">module</span> <a href="Let_syntax/index.html">Let_syntax</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></details></div></div></div></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../../../base/Base/Applicative/index.html#module-type-S">Core_kernel__.Import.Applicative.S</a> <span class="keyword">with</span> <span class="keyword">type</span> 'a <a href="../../../../base/Base/Applicative/module-type-S/index.html#type-t">t</a> := <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'a t</code></dt></dl><dl><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val</span> return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-apply"><a href="#val-apply" class="anchor"></a><code><span class="keyword">val</span> apply : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map2"><a href="#val-map2" class="anchor"></a><code><span class="keyword">val</span> map2 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-map3"><a href="#val-map3" class="anchor"></a><code><span class="keyword">val</span> map3 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>) <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all"><a href="#val-all" class="anchor"></a><code><span class="keyword">val</span> all : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <span class="type-var">'a</span> list <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all_unit"><a href="#val-all_unit" class="anchor"></a><code><span class="keyword">val</span> all_unit : unit <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-all_ignore"><a href="#val-all_ignore" class="anchor"></a><code><span class="keyword">val</span> all_ignore : unit <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-both"><a href="#val-both" class="anchor"></a><code><span class="keyword">val</span> both : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> * <span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></dt></dl><div class="spec module" id="module-Applicative_infix"><a href="#module-Applicative_infix" class="anchor"></a><code><span class="keyword">module</span> <a href="Applicative_infix/index.html">Applicative_infix</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="index.html#module-Applicative_infix">Applicative_infix</a></code></span></summary><dl><dt class="spec value" id="val-(&lt;*&gt;)"><a href="#val-(&lt;*&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;*&gt;) : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p>same as <code>apply</code></p></dd></dl><dl><dt class="spec value" id="val-(&lt;*)"><a href="#val-(&lt;*)" class="anchor"></a><code><span class="keyword">val</span> (&lt;*) : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-(*&gt;)"><a href="#val-(*&gt;)" class="anchor"></a><code><span class="keyword">val</span> (*&gt;) : unit <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt></dl></details></div></div></div></details></div></div></div><dl><dt class="spec value" id="val-size"><a href="#val-size" class="anchor"></a><code><span class="keyword">val</span> size : <a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <a href="index.html#type-t">t</a></code></dt><dd><p><code>size = create (fun ~size _ -&gt; size)</code></p></dd></dl><dl><dt class="spec value" id="val-with_size"><a href="#val-with_size" class="anchor"></a><code><span class="keyword">val</span> with_size : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> size:<a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>with_size t ~size = create (fun ~size:_ random -&gt; generate t ~size random)</code></p></dd></dl><dl><dt class="spec value" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val</span> bool : <a href="../../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-char"><a href="#val-char" class="anchor"></a><code><span class="keyword">val</span> char : <a href="../../../Core_kernel__/Import/index.html#type-char">Core_kernel__.Import.char</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-char_digit"><a href="#val-char_digit" class="anchor"></a><code><span class="keyword">val</span> char_digit : <a href="../../../Core_kernel__/Import/index.html#type-char">Core_kernel__.Import.char</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-char_lowercase"><a href="#val-char_lowercase" class="anchor"></a><code><span class="keyword">val</span> char_lowercase : <a href="../../../Core_kernel__/Import/index.html#type-char">Core_kernel__.Import.char</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-char_uppercase"><a href="#val-char_uppercase" class="anchor"></a><code><span class="keyword">val</span> char_uppercase : <a href="../../../Core_kernel__/Import/index.html#type-char">Core_kernel__.Import.char</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-char_alpha"><a href="#val-char_alpha" class="anchor"></a><code><span class="keyword">val</span> char_alpha : <a href="../../../Core_kernel__/Import/index.html#type-char">Core_kernel__.Import.char</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-char_alphanum"><a href="#val-char_alphanum" class="anchor"></a><code><span class="keyword">val</span> char_alphanum : <a href="../../../Core_kernel__/Import/index.html#type-char">Core_kernel__.Import.char</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-char_print"><a href="#val-char_print" class="anchor"></a><code><span class="keyword">val</span> char_print : <a href="../../../Core_kernel__/Import/index.html#type-char">Core_kernel__.Import.char</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-char_whitespace"><a href="#val-char_whitespace" class="anchor"></a><code><span class="keyword">val</span> char_whitespace : <a href="../../../Core_kernel__/Import/index.html#type-char">Core_kernel__.Import.char</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-singleton"><a href="#val-singleton" class="anchor"></a><code><span class="keyword">val</span> singleton : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-doubleton"><a href="#val-doubleton" class="anchor"></a><code><span class="keyword">val</span> doubleton : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val</span> of_list : <span class="type-var">'a</span> <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Produce any of the given values, weighted equally.</p><p><code>of_list [ v1 ; ... ; vN ] = union [ singleton v1 ; ... ; singleton vN ]</code></p></dd></dl><dl><dt class="spec value" id="val-union"><a href="#val-union" class="anchor"></a><code><span class="keyword">val</span> union : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Combine arbitary generators, weighted equally.</p><p><code> union [ g1 ; ... ; gN ] = weighted_union [ (1.0, g1) ; ... ; (1.0, gN) ] </code></p></dd></dl><dl><dt class="spec value" id="val-of_sequence"><a href="#val-of_sequence" class="anchor"></a><code><span class="keyword">val</span> of_sequence : p:<a href="../../../Core_kernel__/Import/index.html#type-float">Core_kernel__.Import.float</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../Sequence/index.html#type-t">Sequence.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Generator for the values from a potentially infinite sequence. Chooses each value with probability <code>p</code>, or continues with probability <code>1-p</code>. Must satisfy <code>0. &lt; p &amp;&amp;
      p &lt;= 1.</code>.</p></dd></dl><dl><dt class="spec value" id="val-tuple2"><a href="#val-tuple2" class="anchor"></a><code><span class="keyword">val</span> tuple2 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> * <span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tuple3"><a href="#val-tuple3" class="anchor"></a><code><span class="keyword">val</span> tuple3 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tuple4"><a href="#val-tuple4" class="anchor"></a><code><span class="keyword">val</span> tuple4 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tuple5"><a href="#val-tuple5" class="anchor"></a><code><span class="keyword">val</span> tuple5 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'e</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-tuple6"><a href="#val-tuple6" class="anchor"></a><code><span class="keyword">val</span> tuple6 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span> * <span class="type-var">'e</span> * <span class="type-var">'f</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant2"><a href="#val-variant2" class="anchor"></a><code><span class="keyword">val</span> variant2 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span> | `B of <span class="type-var">'b</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant3"><a href="#val-variant3" class="anchor"></a><code><span class="keyword">val</span> variant3 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span> | `B of <span class="type-var">'b</span> | `C of <span class="type-var">'c</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant4"><a href="#val-variant4" class="anchor"></a><code><span class="keyword">val</span> variant4 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span> | `B of <span class="type-var">'b</span> | `C of <span class="type-var">'c</span> | `D of <span class="type-var">'d</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant5"><a href="#val-variant5" class="anchor"></a><code><span class="keyword">val</span> variant5 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span> | `B of <span class="type-var">'b</span> | `C of <span class="type-var">'c</span> | `D of <span class="type-var">'d</span> | `E of <span class="type-var">'e</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-variant6"><a href="#val-variant6" class="anchor"></a><code><span class="keyword">val</span> variant6 : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> [ `A of <span class="type-var">'a</span> | `B of <span class="type-var">'b</span> | `C of <span class="type-var">'c</span> | `D of <span class="type-var">'d</span> | `E of <span class="type-var">'e</span> | `F of <span class="type-var">'f</span> ] <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-geometric"><a href="#val-geometric" class="anchor"></a><code><span class="keyword">val</span> geometric : p:<a href="../../../Core_kernel__/Import/index.html#type-float">Core_kernel__.Import.float</a> <span>&#45;&gt;</span> <a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <span>&#45;&gt;</span> <a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <a href="index.html#type-t">t</a></code></dt><dd><p><code>geometric ~p init</code> produces a geometric distribution (think &quot;radioactive decay&quot;) that produces <code>init</code> with probability <code>p</code>, and otherwise recursively chooses from <code>geometric ~p (init+1)</code>. Must satisfy <code>0. &lt; p &amp;&amp; p &lt;= 1.</code>.</p></dd></dl><dl><dt class="spec value" id="val-small_non_negative_int"><a href="#val-small_non_negative_int" class="anchor"></a><code><span class="keyword">val</span> small_non_negative_int : <a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <a href="index.html#type-t">t</a></code></dt><dd><p><code>small_non_negative_int</code> produces a non-negative int of a tractable size, e.g. allocating a value of this size should not run out of memory.</p></dd></dl><dl><dt class="spec value" id="val-small_positive_int"><a href="#val-small_positive_int" class="anchor"></a><code><span class="keyword">val</span> small_positive_int : <a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <a href="index.html#type-t">t</a></code></dt><dd><p><code>small_positive_int</code> produces a positive int of a tractable size, e.g. allocating a value of this size should not run out of memory.</p></dd></dl><dl><dt class="spec value" id="val-fn"><a href="#val-fn" class="anchor"></a><code><span class="keyword">val</span> fn : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></dt><dd><p>Generators for functions; take observers for inputs and a generator for outputs.</p></dd></dl><dl><dt class="spec value" id="val-fn2"><a href="#val-fn2" class="anchor"></a><code><span class="keyword">val</span> fn2 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fn3"><a href="#val-fn3" class="anchor"></a><code><span class="keyword">val</span> fn3 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fn4"><a href="#val-fn4" class="anchor"></a><code><span class="keyword">val</span> fn4 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span> <span>&#45;&gt;</span> <span class="type-var">'e</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fn5"><a href="#val-fn5" class="anchor"></a><code><span class="keyword">val</span> fn5 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span> <span>&#45;&gt;</span> <span class="type-var">'e</span> <span>&#45;&gt;</span> <span class="type-var">'f</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-fn6"><a href="#val-fn6" class="anchor"></a><code><span class="keyword">val</span> fn6 : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'c</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'d</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'e</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'f</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> <span class="type-var">'g</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span> <span>&#45;&gt;</span> <span class="type-var">'e</span> <span>&#45;&gt;</span> <span class="type-var">'f</span> <span>&#45;&gt;</span> <span class="type-var">'g</span>) <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-compare_fn"><a href="#val-compare_fn" class="anchor"></a><code><span class="keyword">val</span> compare_fn : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a>) <a href="index.html#type-t">t</a></code></dt><dd><p>Generator for comparison functions; result is guaranteed to be a partial order.</p></dd></dl><dl><dt class="spec value" id="val-equal_fn"><a href="#val-equal_fn" class="anchor"></a><code><span class="keyword">val</span> equal_fn : <span class="type-var">'a</span> <a href="index.html#type-obs">obs</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a>) <a href="index.html#type-t">t</a></code></dt><dd><p>Generator for equality functions; result is guaranteed to be an equivalence relation.</p></dd></dl><dl><dt class="spec value" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span class="keyword">val</span> filter_map : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="../../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>filter_map t ~f</code> produces <code>y</code> for every <code>x</code> in <code>t</code> such that <code>f x = Some y</code>. <code>filter t ~f</code> produces every <code>x</code> in <code>t</code> such that <code>f x = true</code>.</p></dd></dl><dl><dt class="spec value" id="val-filter"><a href="#val-filter" class="anchor"></a><code><span class="keyword">val</span> filter : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-recursive_union"><a href="#val-recursive_union" class="anchor"></a><code><span class="keyword">val</span> recursive_union : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Generator for recursive data type with multiple clauses. At size 0, chooses only among the non-recursive cases; at sizes greater than 0, chooses among non-recursive and recursive cases, calling the recursive cases with decremented size.</p><pre><code class="ml">type tree = Leaf | Node of tree * int * tree;;
recursive_union [return Leaf] ~f:(fun self -&gt;
  [let%map left = self
   and int = Int.gen
   and right = self
   in Node (left, int, right)])</code></pre></dd></dl><dl><dt class="spec value" id="val-weighted_recursive_union"><a href="#val-weighted_recursive_union" class="anchor"></a><code><span class="keyword">val</span> weighted_recursive_union : (<a href="../../../Core_kernel__/Import/index.html#type-float">Core_kernel__.Import.float</a> * <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a> <span>&#45;&gt;</span> f:(<span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<a href="../../../Core_kernel__/Import/index.html#type-float">Core_kernel__.Import.float</a> * <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Like <code>recursive_union</code>, with the addition of non-uniform weights for each clause.</p></dd></dl><dl><dt class="spec value" id="val-fixed_point"><a href="#val-fixed_point" class="anchor"></a><code><span class="keyword">val</span> fixed_point : (<span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Fixed-point generator. Use <code>size</code> to bound the size of the value and the depth of the recursion. There is no prescribed semantics for <code>size</code> except that it must be non-negative. For example, the following produces a naive generator for natural numbers:</p><pre><code class="ml">fixed_point (fun self -&gt;
  match%bind size with
  | 0 -&gt; singleton 0
  | n -&gt; with_size self ~size:(n-1) &gt;&gt;| Int.succ)</code></pre></dd></dl><dl><dt class="spec value" id="val-recursive"><a href="#val-recursive" class="anchor"></a><code><span class="keyword">val</span> recursive : (<span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-weighted_union"><a href="#val-weighted_union" class="anchor"></a><code><span class="keyword">val</span> weighted_union : (<a href="../../../Core_kernel__/Import/index.html#type-float">Core_kernel__.Import.float</a> * <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>weighted_union alist</code> produces a generator that combines the distributions of each <code>t</code> in <code>alist</code> with the associated weights, which must be finite positive floating point values.</p></dd></dl><dl><dt class="spec value" id="val-of_fun"><a href="#val-of_fun" class="anchor"></a><code><span class="keyword">val</span> of_fun : (<a href="../../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>of_fun f</code> produces a generator that lazily applies <code>f</code>.</p><p>It is recommended that <code>f</code> not be memoized. Instead, spread out the work of generating a whole distribution over many <code>of_fun</code> calls combined with <code>weighted_union</code>. This allows lazily generated generators to be garbage collected after each test and the relevant portions cheaply recomputed in subsequent tests, rather than accumulating without bound over time.</p></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a> <a href="index.html#type-t">t</a></code></dt><dd><p>Generators for lists, choosing each element independently from the given element generator. <code>list</code> and <code>list_non_empty</code> distribute <code>size</code> among the list length and the sizes of each element. <code>list_non_empty</code> never generates the empty list. <code>list_with_length</code> generates lists of the given length, and distributes <code>size</code> among the sizes of the elements.</p></dd></dl><dl><dt class="spec value" id="val-list_non_empty"><a href="#val-list_non_empty" class="anchor"></a><code><span class="keyword">val</span> list_non_empty : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-list_with_length"><a href="#val-list_with_length" class="anchor"></a><code><span class="keyword">val</span> list_with_length : <a href="../../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="../../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a> <a href="index.html#type-t">t</a></code></dt></dl></div></body></html>