<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tarray (brr.Brr.Tarray)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">brr</a> &#x00BB; <a href="../index.html">Brr</a> &#x00BB; Tarray</nav><header class="odoc-preamble"><h1>Module <code><span>Brr.Tarray</span></code></h1><p>Typed arrays.</p></header><nav class="odoc-toc"><ul><li><a href="#buffer">Buffers</a></li><li><a href="#types">Array types</a></li><li><a href="#typed">Typed arrays</a></li><li><a href="#set">Setting, copying and slicing</a></li><li><a href="#predicates">Predicates</a></li><li><a href="#traversal">Traversals</a></li><li><a href="#type_aliases">Type aliases</a></li><li><a href="#converting">Converting</a><ul><li><a href="#string">With strings</a></li></ul></li><li><a href="#bigarrays">As bigarrays</a></li></ul></nav><div class="odoc-content"><h2 id="buffer"><a href="#buffer" class="anchor"></a>Buffers</h2><div class="odoc-spec"><div class="spec module" id="module-Buffer" class="anchored"><a href="#module-Buffer" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Buffer/index.html">Buffer</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>ArrayBuffer</code> objects (byte buffers).</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Data_view" class="anchored"><a href="#module-Data_view" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Data_view/index.html">Data_view</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>DataView objects</code> (byte-level typed data access on <code>ArrayBuffer</code>s).</p></div></div><h2 id="types"><a href="#types" class="anchor"></a>Array types</h2><div class="odoc-spec"><div class="spec type" id="type-type'" class="anchored"><a href="#type-type'" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) type'</span></span><span> = </span></code><table><tr id="type-type'.Int8" class="anchored"><td class="def variant constructor"><a href="#type-type'.Int8" class="anchor"></a><code><span>| </span><span><span class="constructor">Int8</span> : <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int8_signed_elt">Bigarray.int8_signed_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr><tr id="type-type'.Int16" class="anchored"><td class="def variant constructor"><a href="#type-type'.Int16" class="anchor"></a><code><span>| </span><span><span class="constructor">Int16</span> : <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int16_signed_elt">Bigarray.int16_signed_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr><tr id="type-type'.Int32" class="anchored"><td class="def variant constructor"><a href="#type-type'.Int32" class="anchor"></a><code><span>| </span><span><span class="constructor">Int32</span> : <span><span>(int32, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int32_elt">Bigarray.int32_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr><tr id="type-type'.Uint8" class="anchored"><td class="def variant constructor"><a href="#type-type'.Uint8" class="anchor"></a><code><span>| </span><span><span class="constructor">Uint8</span> : <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int8_unsigned_elt">Bigarray.int8_unsigned_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr><tr id="type-type'.Uint8_clamped" class="anchored"><td class="def variant constructor"><a href="#type-type'.Uint8_clamped" class="anchor"></a><code><span>| </span><span><span class="constructor">Uint8_clamped</span> : <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int8_unsigned_elt">Bigarray.int8_unsigned_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr><tr id="type-type'.Uint16" class="anchored"><td class="def variant constructor"><a href="#type-type'.Uint16" class="anchor"></a><code><span>| </span><span><span class="constructor">Uint16</span> : <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int16_unsigned_elt">Bigarray.int16_unsigned_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr><tr id="type-type'.Uint32" class="anchored"><td class="def variant constructor"><a href="#type-type'.Uint32" class="anchor"></a><code><span>| </span><span><span class="constructor">Uint32</span> : <span><span>(int32, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int32_elt">Bigarray.int32_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr><tr id="type-type'.Float32" class="anchored"><td class="def variant constructor"><a href="#type-type'.Float32" class="anchor"></a><code><span>| </span><span><span class="constructor">Float32</span> : <span><span>(float, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-float32_elt">Bigarray.float32_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr><tr id="type-type'.Float64" class="anchored"><td class="def variant constructor"><a href="#type-type'.Float64" class="anchor"></a><code><span>| </span><span><span class="constructor">Float64</span> : <span><span>(float, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-float64_elt">Bigarray.float64_elt</a>)</span> <a href="#type-type'">type'</a></span></span></code></td></tr></table></div><div class="spec-doc"><p>The type for typed array whose elements are of type <code>'b</code> and are accessed with type <code>'a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-type_size_in_bytes" class="anchored"><a href="#val-type_size_in_bytes" class="anchor"></a><code><span><span class="keyword">val</span> type_size_in_bytes : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-type'">type'</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>type_size_in_bytes t</code> is the number of bytes used to store an element of type <code>'b</code>.</p></div></div><h2 id="typed"><a href="#typed" class="anchor"></a>Typed arrays</h2><p><b>Note.</b> In the functions below.</p><ul><li>Indices can always be negative in which case they are subtracted from <a href="#val-length"><code>length</code></a>. This means that <code>-1</code> denotes the last element of the buffer.</li><li>If unspecified <code>start</code> defaults to <code>0</code>.</li><li>If unspecified <code>stop</code> defaults to <code>length b</code>.</li></ul><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) t</span></span></code></div><div class="spec-doc"><p>The type for <a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView"><code>ArrayBufferView</code></a> objects (typed access to <code>ArrayBuffer</code> objects) whose elements are of type <code>'b</code> and accessed with type <code>'a</code>. See the <a href="#type_aliases">type aliases</a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-type'">type'</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>create n t</code> is an array of type <code>t</code> with <code>n</code> elements of type <code>'b</code> initialised to their zero. See also <a href="#converting">converting</a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_buffer" class="anchored"><a href="#val-of_buffer" class="anchor"></a><code><span><span class="keyword">val</span> of_buffer : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-type'">type'</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?byte_offset:int <span class="arrow">&#45;&gt;</span></span> <span>?length:int <span class="arrow">&#45;&gt;</span></span> <span><a href="Buffer/index.html#type-t">Buffer.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_buffer t ~byte_offset ~length b</code> is an array of type <code>t</code> with <code>length</code> elements of type <code>'b</code> starting at the byte offset <code>byte_offset</code> of <code>b</code>. <code>byte_offset</code> defaults to <code>0</code> and length so as to get to the end of the buffer.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-buffer" class="anchored"><a href="#val-buffer" class="anchor"></a><code><span><span class="keyword">val</span> buffer : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="Buffer/index.html#type-t">Buffer.t</a></span></code></div><div class="spec-doc"><p><code>buffer a</code> is the untyped buffer of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-byte_offset" class="anchored"><a href="#val-byte_offset" class="anchor"></a><code><span><span class="keyword">val</span> byte_offset : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>byte_offset a</code> is the byte index where <code>a</code> starts in <code>buffer a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-byte_length" class="anchored"><a href="#val-byte_length" class="anchor"></a><code><span><span class="keyword">val</span> byte_length : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>byte_length a</code> is the byte length of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>length a</code> are the number of elements in <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-type'" class="anchored"><a href="#val-type'" class="anchor"></a><code><span><span class="keyword">val</span> type' : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-type'">type'</a></span></span></code></div><div class="spec-doc"><p><code>type' a</code> is the type of <code>a</code>.</p></div></div><h2 id="set"><a href="#set" class="anchor"></a>Setting, copying and slicing</h2><div class="odoc-spec"><div class="spec value external" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>get a i</code> is the element of <code>a</code> at <code>i</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set a i v</code> sets the element of <code>a</code> at <code>i</code> to <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_tarray" class="anchored"><a href="#val-set_tarray" class="anchor"></a><code><span><span class="keyword">val</span> set_tarray : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>dst:int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_tarray a ~dst b</code> sets the values of <code>a</code> starting at index <code>dst</code> with those of <code>b</code> which are converted to match the type of <code>a</code> (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray/set">unclear</a> how exactly).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill" class="anchored"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span>?start:int <span class="arrow">&#45;&gt;</span></span> <span>?stop:int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>fill ~start ~stop v a</code> sets the elements in range <code>[start];[stop-1]</code> to <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy_within" class="anchored"><a href="#val-copy_within" class="anchor"></a><code><span><span class="keyword">val</span> copy_within : <span>?start:int <span class="arrow">&#45;&gt;</span></span> <span>?stop:int <span class="arrow">&#45;&gt;</span></span> <span>dst:int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>copy_within ~start ~stop ~dst a</code> copies at at <code>dst</code> the elements in range <code>[start];[stop-1]</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-slice" class="anchored"><a href="#val-slice" class="anchor"></a><code><span><span class="keyword">val</span> slice : <span>?start:int <span class="arrow">&#45;&gt;</span></span> <span>?stop:int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>slice ~start ~stop a</code> is a new array holding a copy of the bytes of <code>a</code> in range [<code>start</code>;<code>stop-1</code>]. This is <b>a copy</b>, use <a href="#val-sub"><code>sub</code></a> to share the data.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span>?start:int <span class="arrow">&#45;&gt;</span></span> <span>?stop:int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>sub ~start ~stop a</code> is an array that spans the bytes of <code>b</code> in range [<code>start</code>;<code>stop-1</code>]. This is <b>not a copy</b>, use <a href="#val-slice"><code>slice</code></a> to make a copy.</p></div></div><h2 id="predicates"><a href="#predicates" class="anchor"></a>Predicates</h2><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>find sat a</code> is the first index a.<code>i</code> for which <code>sat i a.[i]</code> is true.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_index" class="anchored"><a href="#val-find_index" class="anchor"></a><code><span><span class="keyword">val</span> find_index : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>find sat a</code> is the first index i for which <code>sat i a.[i]</code> is true.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-for_all" class="anchored"><a href="#val-for_all" class="anchor"></a><code><span><span class="keyword">val</span> for_all : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>for_all sat a</code> is <code>true</code> iff all elements <code>a.[i]</code> of <code>b</code> satisfy <code>sat i a.[i]</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exists" class="anchored"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>exists sat a</code> is <code>true</code> iff one elements <code>a.[i]</code> of <code>b</code> satisfies <code>sat i a.[i]</code>.</p></div></div><h2 id="traversal"><a href="#traversal" class="anchor"></a>Traversals</h2><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>filter sat a</code> is an array with the elements <code>a.[i]</code> of <code>a</code> for which <code>sat i a.[i]</code> is <code>true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f a</code> calls <code>f i a.[i]</code> on each element of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>map f a</code> is a new typed array with elements of <code>a</code> mapped by <code>f</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_left" class="anchored"><a href="#val-fold_left" class="anchor"></a><code><span><span class="keyword">val</span> fold_left : <span><span>(<span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div><div class="spec-doc"><p><code>fold_left f acc a</code> folds <code>f</code> over the elements of <code>a</code> starting with <code>acc</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_right" class="anchored"><a href="#val-fold_right" class="anchor"></a><code><span><span class="keyword">val</span> fold_right : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div><div class="spec-doc"><p><code>fold_right f acc a</code> folds <code>f</code> over the elements of <code>a</code> starting with <code>acc</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reverse" class="anchored"><a href="#val-reverse" class="anchor"></a><code><span><span class="keyword">val</span> reverse : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>reverse a</code> is a new array with <code>a</code>'s elements reversed.</p></div></div><h2 id="type_aliases"><a href="#type_aliases" class="anchor"></a>Type aliases</h2><p>Use these in interfaces.</p><div class="odoc-spec"><div class="spec type" id="type-int8" class="anchored"><a href="#type-int8" class="anchor"></a><code><span><span class="keyword">type</span> int8</span><span> = <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int8_signed_elt">Bigarray.int8_signed_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-int16" class="anchored"><a href="#type-int16" class="anchor"></a><code><span><span class="keyword">type</span> int16</span><span> = <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int16_signed_elt">Bigarray.int16_signed_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-int32" class="anchored"><a href="#type-int32" class="anchor"></a><code><span><span class="keyword">type</span> int32</span><span> = <span><span>(<a href="../../../ocaml/Stdlib/Int32/index.html#type-t">Int32.t</a>, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int32_elt">Bigarray.int32_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-uint8" class="anchored"><a href="#type-uint8" class="anchor"></a><code><span><span class="keyword">type</span> uint8</span><span> = <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int8_unsigned_elt">Bigarray.int8_unsigned_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-uint8_clamped" class="anchored"><a href="#type-uint8_clamped" class="anchor"></a><code><span><span class="keyword">type</span> uint8_clamped</span><span> = <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int8_unsigned_elt">Bigarray.int8_unsigned_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-uint16" class="anchored"><a href="#type-uint16" class="anchor"></a><code><span><span class="keyword">type</span> uint16</span><span> = <span><span>(int, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int16_unsigned_elt">Bigarray.int16_unsigned_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-uint32" class="anchored"><a href="#type-uint32" class="anchor"></a><code><span><span class="keyword">type</span> uint32</span><span> = <span><span>(<a href="../../../ocaml/Stdlib/Int32/index.html#type-t">Int32.t</a>, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-int32_elt">Bigarray.int32_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-float32" class="anchored"><a href="#type-float32" class="anchor"></a><code><span><span class="keyword">type</span> float32</span><span> = <span><span>(float, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-float32_elt">Bigarray.float32_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-float64" class="anchored"><a href="#type-float64" class="anchor"></a><code><span><span class="keyword">type</span> float64</span><span> = <span><span>(float, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-float64_elt">Bigarray.float64_elt</a>)</span> <a href="#type-t">t</a></span></span></code></div></div><h2 id="converting"><a href="#converting" class="anchor"></a>Converting</h2><div class="odoc-spec"><div class="spec value" id="val-of_tarray" class="anchored"><a href="#val-of_tarray" class="anchor"></a><code><span><span class="keyword">val</span> of_tarray : <span><span><span>(<span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-type'">type'</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'c</span>, <span class="type-var">'d</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_tarray t a</code> is an array of type <code>t</code> with the elements of <code>a</code> converted accordingly (<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray#Constructor">unclear</a> how exactly).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-uint8_of_buffer" class="anchored"><a href="#val-uint8_of_buffer" class="anchor"></a><code><span><span class="keyword">val</span> uint8_of_buffer : <span><a href="Buffer/index.html#type-t">Buffer.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-uint8">uint8</a></span></code></div><div class="spec-doc"><p><code>uint8_of_buffer b</code> wraps <code>b</code> as an Uint8 typed array.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_int_array" class="anchored"><a href="#val-of_int_array" class="anchor"></a><code><span><span class="keyword">val</span> of_int_array : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-type'">type'</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_int_array t arr</code> is an array of type <code>t</code> whose elements are the values of <code>arr</code>, values exceeding the range for the type are taken modulo the range bounds (except for <code>Uint8_clamped</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_float_array" class="anchored"><a href="#val-of_float_array" class="anchor"></a><code><span><span class="keyword">val</span> of_float_array : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-type'">type'</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>float array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_int_array t arr</code> is an array of type <code>t</code> whose elements are the values of <code>arr</code>, values exceeding the range for the type are taken modulo the range bounds (except for <code>Uint8_clamped</code>).</p></div></div><h3 id="string"><a href="#string" class="anchor"></a>With strings</h3><div class="odoc-spec"><div class="spec value" id="val-of_jstr" class="anchored"><a href="#val-of_jstr" class="anchor"></a><code><span><span class="keyword">val</span> of_jstr : <span><a href="../../Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-uint8">uint8</a></span></code></div><div class="spec-doc"><p><code>of_jstr s</code> is an unsigned byte array with <code>s</code> as UTF-8 encoded data.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_jstr" class="anchored"><a href="#val-to_jstr" class="anchor"></a><code><span><span class="keyword">val</span> to_jstr : <span><a href="#type-uint8">uint8</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../Jstr/index.html#type-t">Jstr.t</a>, <a href="../../Jv/Error/index.html#type-t">Jv.Error.t</a>)</span> <a href="../../../ocaml/Stdlib/index.html#type-result">result</a></span></span></code></div><div class="spec-doc"><p><code>to_jstr a</code> is the UTF-8 encoded data <code>a</code> as a string. Errors if <code>a</code> holds invalid UTF-8.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_binary_jstr" class="anchored"><a href="#val-of_binary_jstr" class="anchor"></a><code><span><span class="keyword">val</span> of_binary_jstr : <span><a href="../../Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-uint8">uint8</a>, <a href="../../Jv/Error/index.html#type-t">Jv.Error.t</a>)</span> <a href="../../../ocaml/Stdlib/index.html#type-result">result</a></span></span></code></div><div class="spec-doc"><p><code>of_binary_jstr s</code> is an unsigned byte array with the bytes of the <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMString/Binary">JavaScript binary string</a> <code>s</code>. Errors if a code unit of <code>s</code> is greater than <code>255</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_binary_jstr" class="anchored"><a href="#val-to_binary_jstr" class="anchor"></a><code><span><span class="keyword">val</span> to_binary_jstr : <span><a href="#type-uint8">uint8</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Jstr/index.html#type-t">Jstr.t</a></span></code></div><div class="spec-doc"><p><code>to_binary_jstr a</code> is a <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMString/Binary">JavaScript binary string</a> with the unsigned bytes of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_int_jstr" class="anchored"><a href="#val-to_int_jstr" class="anchor"></a><code><span><span class="keyword">val</span> to_int_jstr : <span>?sep:<a href="../../Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../../Jstr/index.html#type-t">Jstr.t</a></span></code></div><div class="spec-doc"><p><code>to_int_jstr ~sep a</code> is a string with the elements of <code>a</code> printed and separated by <code>sep</code> (defaults to <a href="../../Jstr/index.html#val-sp"><code>Jstr.sp</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_hex_jstr" class="anchored"><a href="#val-to_hex_jstr" class="anchor"></a><code><span><span class="keyword">val</span> to_hex_jstr : <span>?sep:<a href="../../Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../../Jstr/index.html#type-t">Jstr.t</a></span></code></div><div class="spec-doc"><p><code>to_hex_jstr ?sep a</code> is a string with the bytes of <code>a</code> printed in lowercase hex and separated by <code>sep</code> (defaults to <a href="../../Jstr/index.html#val-empty"><code>Jstr.empty</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-uint8">uint8</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_string a</code> is an OCaml <em>byte</em> string from the byte array.</p></div></div><h2 id="bigarrays"><a href="#bigarrays" class="anchor"></a>As bigarrays</h2><div class="odoc-spec"><div class="spec value" id="val-type_to_bigarray_kind" class="anchored"><a href="#val-type_to_bigarray_kind" class="anchor"></a><code><span><span class="keyword">val</span> type_to_bigarray_kind : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-type'">type'</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-kind">Bigarray.kind</a></span></span></code></div><div class="spec-doc"><p><code>type_to_bigarray_kind t</code> is <code>t</code> as a bigarray kind. <code>Uint32</code> is mapped on <a href="../../../ocaml/Bigarray/index.html#val-int32"><code>Bigarray.int32</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-type_of_bigarray_kind" class="anchored"><a href="#val-type_of_bigarray_kind" class="anchor"></a><code><span><span class="keyword">val</span> type_of_bigarray_kind : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-kind">Bigarray.kind</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-type'">type'</a></span> option</span></span></code></div><div class="spec-doc"><p><code>type_of_bigarray_kind k</code> is <code>k</code> as a type array type or <code>None</code> if there is no corresponding one.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-bigarray_kind" class="anchored"><a href="#val-bigarray_kind" class="anchor"></a><code><span><span class="keyword">val</span> bigarray_kind : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-kind">Bigarray.kind</a></span></span></code></div><div class="spec-doc"><p><code>bigarray_kind a</code> is the bigarray kind of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_bigarray1" class="anchored"><a href="#val-of_bigarray1" class="anchor"></a><code><span><span class="keyword">val</span> of_bigarray1 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>)</span> <a href="../../../ocaml/Stdlib/Bigarray/Array1/index.html#type-t">Bigarray.Array1.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_bigarray1 b</code> is a typed array with the data of bigarray <code>b</code>. The data buffer is shared.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-to_bigarray1" class="anchored"><a href="#val-to_bigarray1" class="anchor"></a><code><span><span class="keyword">val</span> to_bigarray1 : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>)</span> <a href="../../../ocaml/Stdlib/Bigarray/Array1/index.html#type-t">Bigarray.Array1.t</a></span></span></code></div><div class="spec-doc"><p><code>to_bigarray b</code> is a bigarray with the data of bigarray <code>b</code>. The data buffer is shared.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_bigarray" class="anchored"><a href="#val-of_bigarray" class="anchor"></a><code><span><span class="keyword">val</span> of_bigarray : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../../../ocaml/Stdlib/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>)</span> <a href="../../../ocaml/Stdlib/Bigarray/Genarray/index.html#type-t">Bigarray.Genarray.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>of_bigarray b</code> is a typed array with the data of bigarray <code>b</code>. The data buffer is shared. <b>XXX.</b> How is the data laid out ?</p></div></div></div></body></html>