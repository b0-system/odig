<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Junit_xml (junit.Junit_xml)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">junit</a> &#x00BB; Junit_xml</nav><h1>Module <code>Junit_xml</code></h1><p>Low level interface to build XML elements.</p><nav class="toc"><ul><li><a href="#categories-of-elements-and-attributes">Categories of elements and attributes</a><ul><li><a href="#attributes">Attributes</a></li><li><a href="#elements">Elements</a><ul><li><a href="#properties">Properties</a></li><li><a href="#testcases">Testcases</a></li><li><a href="#testsuites">Testsuites</a></li></ul></li></ul></li></ul></nav></header><aside><p>This module defines basic data types for data, attributes and element occuring in JUnit reports.</p><p>It is based on the XSD provided in <a href="https://github.com/windyroad/JUnit-Schema">JUnit-schema</a> git repository.</p><p>Those are low level functions. Values like <code>id</code>, <code>failures</code> or <code>tests</code> will not be checked.</p><p>It allows you to build a report by hand if the facilities that are offered by <code>Junit</code> do not suit your needs.</p></aside><section><header><h3 id="categories-of-elements-and-attributes"><a href="#categories-of-elements-and-attributes" class="anchor"></a>Categories of elements and attributes</h3></header><aside><p>This part defines the categories of elements and attributes.</p></aside><section><header><h4 id="attributes"><a href="#attributes" class="anchor"></a>Attributes</h4></header><dl><dt class="spec type" id="type-token"><a href="#type-token" class="anchor"></a><code><span class="keyword">type</span> token</code><code> = string</code></dt><dd><p>https://www.w3.org/TR/xmlschema-2/#token</p><p><code>Definition:</code> token represents tokenized strings. The ·value space· of token is the set of strings that do not contain the carriage return (#xD), line feed (#xA) nor tab (#x9) characters, that have no leading or trailing spaces (#x20) and that have no internal sequences of two or more spaces. The ·lexical space· of token is the set of strings that do not contain the carriage return (#xD), line feed (#xA) nor tab (#x9) characters, that have no leading or trailing spaces (#x20) and that have no internal sequences of two or more spaces. The ·base type· of token is normalizedString.</p></dd></dl><dl><dt class="spec type" id="type-timestamp"><a href="#type-timestamp" class="anchor"></a><code><span class="keyword">type</span> timestamp</code></dt></dl><dl><dt class="spec value" id="val-timestamp"><a href="#val-timestamp" class="anchor"></a><code><span class="keyword">val</span> timestamp : <a href="../../ptime/Ptime/index.html#type-t">Ptime.t</a> <span>&#45;&gt;</span> <a href="index.html#type-timestamp">timestamp</a></code></dt></dl></section><section><header><h4 id="elements"><a href="#elements" class="anchor"></a>Elements</h4></header><section><header><h5 id="properties"><a href="#properties" class="anchor"></a>Properties</h5></header><dl><dt class="spec type" id="type-property"><a href="#type-property" class="anchor"></a><code><span class="keyword">type</span> property</code></dt><dt class="spec type" id="type-properties"><a href="#type-properties" class="anchor"></a><code><span class="keyword">type</span> properties</code><code> = <a href="index.html#type-property">property</a> list</code></dt><dd><p>Properties (e.g., environment settings) set during test execution.</p></dd></dl><dl><dt class="spec value" id="val-property"><a href="#val-property" class="anchor"></a><code><span class="keyword">val</span> property : name:<a href="index.html#type-token">token</a> <span>&#45;&gt;</span> value:string <span>&#45;&gt;</span> <a href="index.html#type-property">property</a></code></dt><dt class="spec value" id="val-property_to_xml"><a href="#val-property_to_xml" class="anchor"></a><code><span class="keyword">val</span> property_to_xml : <a href="index.html#type-property">property</a> <span>&#45;&gt;</span> <a href="../../tyxml/Tyxml_xml/index.html#type-elt">Tyxml.Xml.elt</a></code></dt><dd><p>Builds an XML element from a property.</p></dd></dl></section><section><header><h5 id="testcases"><a href="#testcases" class="anchor"></a>Testcases</h5></header><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code><code> = </code><code>{</code><table class="record"><tr id="type-error.message" class="anchored"><td class="def field"><a href="#type-error.message" class="anchor"></a><code>message : string option;</code></td></tr><tr id="type-error.typ" class="anchored"><td class="def field"><a href="#type-error.typ" class="anchor"></a><code>typ : string;</code></td></tr><tr id="type-error.description" class="anchored"><td class="def field"><a href="#type-error.description" class="anchor"></a><code>description : string;</code></td></tr></table><code>}</code></dt><dd><p>Indicates that the test errored. An errored test is one that had an unanticipated problem. e.g., an unchecked throwable; or a problem with the implementation of the test. Contains as a text node relevant data for the error, e.g., a stack trace.</p></dd></dl><dl><dt class="spec value" id="val-error"><a href="#val-error" class="anchor"></a><code><span class="keyword">val</span> error : ?&#8288;message:string <span>&#45;&gt;</span> typ:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-error">error</a></code></dt><dd><p><code>error ?message ~typ description</code> creates an error element.</p><dl><dt>parameter message</dt><dd><p>The error message. e.g., if a java exception is thrown, the return value of getMessage().</p></dd></dl><dl><dt>parameter typ</dt><dd><p>The type of error that occured. e.g., if a java execption is thrown the full class name of the exception.</p></dd></dl><dl><dt>parameter description</dt><dd><p>Description of the error.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-error_to_xml"><a href="#val-error_to_xml" class="anchor"></a><code><span class="keyword">val</span> error_to_xml : <a href="index.html#type-error">error</a> <span>&#45;&gt;</span> <a href="../../tyxml/Tyxml_xml/index.html#type-elt">Tyxml.Xml.elt</a></code></dt><dd><p>Builds an XML element from a error.</p></dd></dl><dl><dt class="spec type" id="type-failure"><a href="#type-failure" class="anchor"></a><code><span class="keyword">type</span> failure</code><code> = </code><code>{</code><table class="record"><tr id="type-failure.message" class="anchored"><td class="def field"><a href="#type-failure.message" class="anchor"></a><code>message : string option;</code></td></tr><tr id="type-failure.typ" class="anchored"><td class="def field"><a href="#type-failure.typ" class="anchor"></a><code>typ : string;</code></td></tr><tr id="type-failure.description" class="anchored"><td class="def field"><a href="#type-failure.description" class="anchor"></a><code>description : string;</code></td></tr></table><code>}</code></dt><dd><p>Indicates that the test failed. A failure is a test which the code has explicitly failed by using the mechanisms for that purpose. e.g., via an assertEquals. Contains as a text node relevant data for the failure, e.g., a stack trace.</p></dd></dl><dl><dt class="spec value" id="val-failure"><a href="#val-failure" class="anchor"></a><code><span class="keyword">val</span> failure : ?&#8288;message:string <span>&#45;&gt;</span> typ:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-failure">failure</a></code></dt><dd><p><code>failure ?message ~typ description</code> creates a failure element.</p><dl><dt>parameter message</dt><dd><p>The message specified in the assert.</p></dd></dl><dl><dt>parameter typ</dt><dd><p>The type of the assert.</p></dd></dl><dl><dt>parameter description</dt><dd><p>Description of the failure.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-failure_to_xml"><a href="#val-failure_to_xml" class="anchor"></a><code><span class="keyword">val</span> failure_to_xml : <a href="index.html#type-failure">failure</a> <span>&#45;&gt;</span> <a href="../../tyxml/Tyxml_xml/index.html#type-elt">Tyxml.Xml.elt</a></code></dt><dd><p>Builds an XML element from a failure.</p></dd></dl><dl><dt class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><code><span class="keyword">type</span> result</code><code> = </code><table class="variant"><tr id="type-result.Error" class="anchored"><td class="def constructor"><a href="#type-result.Error" class="anchor"></a><code>| </code><code><span class="constructor">Error</span> <span class="keyword">of</span> <a href="index.html#type-error">error</a></code></td></tr><tr id="type-result.Failure" class="anchored"><td class="def constructor"><a href="#type-result.Failure" class="anchor"></a><code>| </code><code><span class="constructor">Failure</span> <span class="keyword">of</span> <a href="index.html#type-failure">failure</a></code></td></tr><tr id="type-result.Pass" class="anchored"><td class="def constructor"><a href="#type-result.Pass" class="anchor"></a><code>| </code><code><span class="constructor">Pass</span></code></td></tr><tr id="type-result.Skipped" class="anchored"><td class="def constructor"><a href="#type-result.Skipped" class="anchor"></a><code>| </code><code><span class="constructor">Skipped</span></code></td><td class="doc"><p>Not part of the spec, but available in jenkins.</p></td></tr></table></dt></dl><dl><dt class="spec value" id="val-result_to_xml"><a href="#val-result_to_xml" class="anchor"></a><code><span class="keyword">val</span> result_to_xml : <a href="index.html#type-result">result</a> <span>&#45;&gt;</span> <a href="../../tyxml/Tyxml_xml/index.html#type-elt">Tyxml.Xml.elt</a></code></dt><dd><p>Builds an XML element from a result.</p></dd></dl><dl><dt class="spec type" id="type-testcase"><a href="#type-testcase" class="anchor"></a><code><span class="keyword">type</span> testcase</code></dt><dt class="spec type" id="type-testcases"><a href="#type-testcases" class="anchor"></a><code><span class="keyword">type</span> testcases</code><code> = <a href="index.html#type-testcase">testcase</a> list</code></dt></dl><dl><dt class="spec value" id="val-testcase"><a href="#val-testcase" class="anchor"></a><code><span class="keyword">val</span> testcase : name:<a href="index.html#type-token">token</a> <span>&#45;&gt;</span> classname:<a href="index.html#type-token">token</a> <span>&#45;&gt;</span> time:float <span>&#45;&gt;</span> <a href="index.html#type-result">result</a> <span>&#45;&gt;</span> <a href="index.html#type-testcase">testcase</a></code></dt><dd><p>Creates a testcase.</p><dl><dt>parameter name</dt><dd><p>Name of the test method.</p></dd></dl><dl><dt>parameter classname</dt><dd><p>Full class name for the class the test method is in.</p></dd></dl><dl><dt>parameter time</dt><dd><p>Time taken (in seconds) to execute the test.</p></dd></dl><dl><dt>parameter result</dt><dd><p>Result of the test.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-testcase_to_xml"><a href="#val-testcase_to_xml" class="anchor"></a><code><span class="keyword">val</span> testcase_to_xml : <a href="index.html#type-testcase">testcase</a> <span>&#45;&gt;</span> <a href="../../tyxml/Tyxml_xml/index.html#type-elt">Tyxml.Xml.elt</a></code></dt><dd><p>Builds an XML element from a testcase.</p></dd></dl></section><section><header><h5 id="testsuites"><a href="#testsuites" class="anchor"></a>Testsuites</h5></header><dl><dt class="spec type" id="type-testsuite"><a href="#type-testsuite" class="anchor"></a><code><span class="keyword">type</span> testsuite</code></dt><dd><p>Contains the results of executing a testsuite.</p></dd></dl><dl><dt class="spec type" id="type-testsuites"><a href="#type-testsuites" class="anchor"></a><code><span class="keyword">type</span> testsuites</code><code> = <a href="index.html#type-testsuite">testsuite</a> list</code></dt><dd><p>Contains an aggregation of testsuite results.</p></dd></dl><dl><dt class="spec value" id="val-testsuite"><a href="#val-testsuite" class="anchor"></a><code><span class="keyword">val</span> testsuite : ?&#8288;system_out:string <span>&#45;&gt;</span> ?&#8288;system_err:string <span>&#45;&gt;</span> package:<a href="index.html#type-token">token</a> <span>&#45;&gt;</span> id:int <span>&#45;&gt;</span> name:<a href="index.html#type-token">token</a> <span>&#45;&gt;</span> timestamp:<a href="index.html#type-timestamp">timestamp</a> <span>&#45;&gt;</span> hostname:<a href="index.html#type-token">token</a> <span>&#45;&gt;</span> tests:int <span>&#45;&gt;</span> failures:int <span>&#45;&gt;</span> errors:int <span>&#45;&gt;</span> time:float <span>&#45;&gt;</span> <a href="index.html#type-properties">properties</a> <span>&#45;&gt;</span> <a href="index.html#type-testcases">testcases</a> <span>&#45;&gt;</span> <a href="index.html#type-testsuite">testsuite</a></code></dt><dd><p>Creates a testsuite.</p><p>Attributes</p><dl><dt>parameter package</dt><dd><p>Derived from the testsuite name in the non-aggregated documents.</p></dd></dl><dl><dt>parameter id</dt><dd><p>Starts at 0 for the first testsuite and is incremented by 1 for each following testsuite.</p></dd></dl><dl><dt>parameter name</dt><dd><p>Full class name of the test for non-aggregated testsuite documents. Class name without the package for aggregated testsuites documents.</p></dd></dl><dl><dt>parameter timestamp</dt><dd><p>When the test was executed. Timezone may not be specified.</p></dd></dl><dl><dt>parameter hostname</dt><dd><p>Host on which the tests were executed. 'localhost' should be used if the hostname cannot be determined.</p></dd></dl><dl><dt>parameter tests</dt><dd><p>The total number of tests in the suite.The total number of tests in the suite.</p></dd></dl><dl><dt>parameter failures</dt><dd><p>The total number of tests in the suite that failed. A failure is a test which the code has explicitly failed by using the mechanisms for that purpose. e.g., via an assertEquals.</p></dd></dl><dl><dt>parameter errors</dt><dd><p>The total number of tests in the suite that errored. An errored test is one that had an unanticipated problem. e.g., an unchecked throwable; or a problem with the implementation of the test.</p></dd></dl><dl><dt>parameter time</dt><dd><p>Time taken (in seconds) to execute the tests in the suite.</p><p>Elements</p></dd></dl><dl><dt>parameter properties</dt><dd><p>Properties (e.g., environment settings) set during test execution.</p></dd></dl><dl><dt>parameter testcases</dt><dd><p>List of test executed.</p></dd></dl><dl><dt>parameter system_out</dt><dd><p>Data that was written to standard out while the test was executed.</p></dd></dl><dl><dt>parameter system_err</dt><dd><p>Data that was written to standard error while the test was executed.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-testsuite_to_xml"><a href="#val-testsuite_to_xml" class="anchor"></a><code><span class="keyword">val</span> testsuite_to_xml : <a href="index.html#type-testsuite">testsuite</a> <span>&#45;&gt;</span> <a href="../../tyxml/Tyxml_xml/index.html#type-elt">Tyxml.Xml.elt</a></code></dt><dd><p>Builds an XML element from a testsuite.</p></dd></dl><dl><dt class="spec value" id="val-to_xml"><a href="#val-to_xml" class="anchor"></a><code><span class="keyword">val</span> to_xml : <a href="index.html#type-testsuites">testsuites</a> <span>&#45;&gt;</span> <a href="../../tyxml/Tyxml_xml/index.html#type-elt">Tyxml.Xml.elt</a></code></dt><dd><p>Builds an XML element from a list of testsuites.</p></dd></dl></section></section></section></div></body></html>