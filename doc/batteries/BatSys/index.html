<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatSys (batteries.BatSys)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">batteries</a> &#x00BB; BatSys</nav><header class="odoc-preamble"><h1>Module <code><span>BatSys</span></code></h1><p>System interface.</p><p>This module defines higher-level functions than the <a href="../../ocaml/Unix/index.html"><code>Unix</code></a> module and should, wherever possible, be used rather than the <a href="../../ocaml/Unix/index.html"><code>Unix</code></a> module to ensure portability.</p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Xavier Leroy (Base module)</li></ul><ul class="at-tags"><li class="author"><span class="at-tag">author</span> David Teller</li></ul></header><nav class="odoc-toc"><ul><li><a href="#signal-handling">Signal handling</a></li><li><a href="#signal-numbers-for-the-standard-posix-signals.">Signal numbers for the standard POSIX signals.</a></li><li><a href="#optimization">Optimization</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec value external" id="val-argv" class="anchored"><a href="#val-argv" class="anchor"></a><code><span><span class="keyword">val</span> argv : <span>string array</span></span></code></div></div><p>The command line arguments given to the process. The first element is the command name used to invoke the program. The following elements are the command-line arguments given to the program.</p><div class="odoc-spec"><div class="spec value" id="val-executable_name" class="anchored"><a href="#val-executable_name" class="anchor"></a><code><span><span class="keyword">val</span> executable_name : string</span></code></div><div class="spec-doc"><p>The name of the file containing the executable currently running.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-file_exists" class="anchored"><a href="#val-file_exists" class="anchor"></a><code><span><span class="keyword">val</span> file_exists : <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Test if a file with the given name exists.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-is_directory" class="anchored"><a href="#val-is_directory" class="anchor"></a><code><span><span class="keyword">val</span> is_directory : <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Returns <code>true</code> if the given name refers to a directory, <code>false</code> if it refers to another kind of file.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Sys_error</span> <p>if no file exists with the given name.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.10.0</li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-remove" class="anchored"><a href="#val-remove" class="anchor"></a><code><span><span class="keyword">val</span> remove : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove the given file name from the file system.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-rename" class="anchored"><a href="#val-rename" class="anchor"></a><code><span><span class="keyword">val</span> rename : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Rename a file. The first argument is the old name and the second is the new name. If there is already another file under the new name, <code>rename</code> may replace it, or raise an exception, depending on your operating system.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-getenv" class="anchored"><a href="#val-getenv" class="anchor"></a><code><span><span class="keyword">val</span> getenv : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Return the value associated to a variable in the process environment. </p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if the variable is unbound.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-getenv_opt" class="anchored"><a href="#val-getenv_opt" class="anchor"></a><code><span><span class="keyword">val</span> getenv_opt : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p>Return the value associated to a variable in the process environment or <code>None</code> if the variable is unbound.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.05</li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-command" class="anchored"><a href="#val-command" class="anchor"></a><code><span><span class="keyword">val</span> command : <span>string <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Execute the given shell command and return its exit code.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-time" class="anchored"><a href="#val-time" class="anchor"></a><code><span><span class="keyword">val</span> time : <span>unit <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p>Return the processor time, in seconds, used by the program since the beginning of execution.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-chdir" class="anchored"><a href="#val-chdir" class="anchor"></a><code><span><span class="keyword">val</span> chdir : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Change the current working directory of the process.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-getcwd" class="anchored"><a href="#val-getcwd" class="anchor"></a><code><span><span class="keyword">val</span> getcwd : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Return the current working directory of the process.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-readdir" class="anchored"><a href="#val-readdir" class="anchor"></a><code><span><span class="keyword">val</span> readdir : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string array</span></span></code></div><div class="spec-doc"><p>Return the names of all files present in the given directory. Names denoting the current directory and the parent directory (<code>&quot;.&quot;</code> and <code>&quot;..&quot;</code> in Unix) are not returned. Each string in the result is a file name rather than a complete path. There is no guarantee that the name strings in the resulting array will appear in any specific order; they are not, in particular, guaranteed to appear in alphabetical order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-interactive" class="anchored"><a href="#val-interactive" class="anchor"></a><code><span><span class="keyword">val</span> interactive : <span>bool <a href="../../ocaml/Stdlib/index.html#type-ref">ref</a></span></span></code></div><div class="spec-doc"><p>This reference is initially set to <code>false</code> in standalone programs and to <code>true</code> if the code is being executed under the interactive toplevel system <code>ocaml</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-os_type" class="anchored"><a href="#val-os_type" class="anchor"></a><code><span><span class="keyword">val</span> os_type : string</span></code></div><div class="spec-doc"><p>Operating system currently executing the OCaml program. One of</p><ul><li><code>&quot;Unix&quot;</code> (for all Unix versions, including Linux and Mac OS X),</li><li><code>&quot;Win32&quot;</code> (for MS-Windows, OCaml compiled with MSVC++ or Mingw),</li><li><code>&quot;Cygwin&quot;</code> (for MS-Windows, OCaml compiled with Cygwin).</li></ul></div></div><div class="odoc-spec"><div class="spec type" id="type-backend_type" class="anchored"><a href="#type-backend_type" class="anchor"></a><code><span><span class="keyword">type</span> backend_type</span><span> = <a href="../../ocaml/Stdlib/Sys/index.html#type-backend_type">Sys.backend_type</a></span><span> = </span></code><table><tr id="type-backend_type.Native" class="anchored"><td class="def variant constructor"><a href="#type-backend_type.Native" class="anchor"></a><code><span>| </span><span><span class="constructor">Native</span></span></code></td></tr><tr id="type-backend_type.Bytecode" class="anchored"><td class="def variant constructor"><a href="#type-backend_type.Bytecode" class="anchor"></a><code><span>| </span><span><span class="constructor">Bytecode</span></span></code></td></tr><tr id="type-backend_type.Other" class="anchored"><td class="def variant constructor"><a href="#type-backend_type.Other" class="anchor"></a><code><span>| </span><span><span class="constructor">Other</span> <span class="keyword">of</span> string</span></code></td></tr></table></div><div class="spec-doc"><p>Currently, the official distribution only supports <code>Native</code> and <code>Bytecode</code>, but it can be other backends with alternative compilers, for example, javascript.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.3 and 4.04</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-backend_type" class="anchored"><a href="#val-backend_type" class="anchor"></a><code><span><span class="keyword">val</span> backend_type : <a href="#type-backend_type">backend_type</a></span></code></div><div class="spec-doc"><p>Backend type currently executing the OCaml program. @ since 2.5.3 and 4.04</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unix" class="anchored"><a href="#val-unix" class="anchor"></a><code><span><span class="keyword">val</span> unix : bool</span></code></div><div class="spec-doc"><p>True if <code>Sys.os_type = &quot;Unix&quot;</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.01.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-win32" class="anchored"><a href="#val-win32" class="anchor"></a><code><span><span class="keyword">val</span> win32 : bool</span></code></div><div class="spec-doc"><p>True if <code>Sys.os_type = &quot;Win32&quot;</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.01.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-cygwin" class="anchored"><a href="#val-cygwin" class="anchor"></a><code><span><span class="keyword">val</span> cygwin : bool</span></code></div><div class="spec-doc"><p>True if <code>Sys.os_type = &quot;Cygwin&quot;</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.01.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-word_size" class="anchored"><a href="#val-word_size" class="anchor"></a><code><span><span class="keyword">val</span> word_size : int</span></code></div><div class="spec-doc"><p>Size of one word on the machine currently executing the OCaml program, in bits: 32 or 64.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-int_size" class="anchored"><a href="#val-int_size" class="anchor"></a><code><span><span class="keyword">val</span> int_size : int</span></code></div><div class="spec-doc"><p>Size of an int. It is 31 bits (resp. 63 bits) when using the OCaml compiler on a 32 bits (resp. 64 bits) platform. It may differ for other compilers, e.g. it is 32 bits when compiling to JavaScript.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0 and OCaml 4.03.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-big_endian" class="anchored"><a href="#val-big_endian" class="anchor"></a><code><span><span class="keyword">val</span> big_endian : bool</span></code></div><div class="spec-doc"><p>Whether the machine currently executing the OCaml program is big-endian.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 4.00.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-max_string_length" class="anchored"><a href="#val-max_string_length" class="anchor"></a><code><span><span class="keyword">val</span> max_string_length : int</span></code></div><div class="spec-doc"><p>Maximum length of a string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_array_length" class="anchored"><a href="#val-max_array_length" class="anchor"></a><code><span><span class="keyword">val</span> max_array_length : int</span></code></div><div class="spec-doc"><p>Maximum length of a normal array. The maximum length of a float array is <code>max_array_length/2</code> on 32-bit machines and <code>max_array_length</code> on 64-bit machines.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max_floatarray_length" class="anchored"><a href="#val-max_floatarray_length" class="anchor"></a><code><span><span class="keyword">val</span> max_floatarray_length : int</span></code></div><div class="spec-doc"><p>Maximum length of a floatarray. This is also the maximum length of a <code>float array</code> when OCaml is configured with <code>--enable-flat-float-array</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-runtime_variant" class="anchored"><a href="#val-runtime_variant" class="anchor"></a><code><span><span class="keyword">val</span> runtime_variant : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Return the name of the runtime variant the program is running on. This is normally the argument given to <code>-runtime-variant</code> at compile time, but for byte-code it can be changed after compilation.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0 and OCaml 4.03.0</li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-runtime_parameters" class="anchored"><a href="#val-runtime_parameters" class="anchor"></a><code><span><span class="keyword">val</span> runtime_parameters : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Return the value of the runtime parameters, in the same format as the contents of the <code>OCAMLRUNPARAM</code> environment variable.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0 and OCaml 4.03.0</li></ul></div></div><h6 id="signal-handling"><a href="#signal-handling" class="anchor"></a>Signal handling</h6><div class="odoc-spec"><div class="spec type" id="type-signal_behavior" class="anchored"><a href="#type-signal_behavior" class="anchor"></a><code><span><span class="keyword">type</span> signal_behavior</span><span> = <a href="../../ocaml/Stdlib/Sys/index.html#type-signal_behavior">Sys.signal_behavior</a></span><span> = </span></code><table><tr id="type-signal_behavior.Signal_default" class="anchored"><td class="def variant constructor"><a href="#type-signal_behavior.Signal_default" class="anchor"></a><code><span>| </span><span><span class="constructor">Signal_default</span></span></code></td></tr><tr id="type-signal_behavior.Signal_ignore" class="anchored"><td class="def variant constructor"><a href="#type-signal_behavior.Signal_ignore" class="anchor"></a><code><span>| </span><span><span class="constructor">Signal_ignore</span></span></code></td></tr><tr id="type-signal_behavior.Signal_handle" class="anchored"><td class="def variant constructor"><a href="#type-signal_behavior.Signal_handle" class="anchor"></a><code><span>| </span><span><span class="constructor">Signal_handle</span> <span class="keyword">of</span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>What to do when receiving a signal:</p><ul><li><code>Signal_default</code>: take the default behavior (usually: abort the program)</li><li><code>Signal_ignore</code>: ignore the signal</li><li><code>Signal_handle f</code>: call function <code>f</code>, giving it the signal number as argument.</li></ul><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec value external" id="val-signal" class="anchored"><a href="#val-signal" class="anchor"></a><code><span><span class="keyword">val</span> signal : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-signal_behavior">signal_behavior</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-signal_behavior">signal_behavior</a></span></code></div><div class="spec-doc"><p>Set the behavior of the system on receipt of a given signal. The first argument is the signal number. Return the behavior previously associated with the signal.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>If the signal number is invalid (or not available on your system).</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-set_signal" class="anchored"><a href="#val-set_signal" class="anchor"></a><code><span><span class="keyword">val</span> set_signal : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-signal_behavior">signal_behavior</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>Sys</code>.signal but return value is ignored.</p></div></div><h6 id="signal-numbers-for-the-standard-posix-signals."><a href="#signal-numbers-for-the-standard-posix-signals." class="anchor"></a>Signal numbers for the standard POSIX signals.</h6><div class="odoc-spec"><div class="spec value" id="val-sigabrt" class="anchored"><a href="#val-sigabrt" class="anchor"></a><code><span><span class="keyword">val</span> sigabrt : int</span></code></div><div class="spec-doc"><p>Abnormal termination</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigalrm" class="anchored"><a href="#val-sigalrm" class="anchor"></a><code><span><span class="keyword">val</span> sigalrm : int</span></code></div><div class="spec-doc"><p>Timeout</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigfpe" class="anchored"><a href="#val-sigfpe" class="anchor"></a><code><span><span class="keyword">val</span> sigfpe : int</span></code></div><div class="spec-doc"><p>Arithmetic exception</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sighup" class="anchored"><a href="#val-sighup" class="anchor"></a><code><span><span class="keyword">val</span> sighup : int</span></code></div><div class="spec-doc"><p>Hangup on controlling terminal</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigill" class="anchored"><a href="#val-sigill" class="anchor"></a><code><span><span class="keyword">val</span> sigill : int</span></code></div><div class="spec-doc"><p>Invalid hardware instruction</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigint" class="anchored"><a href="#val-sigint" class="anchor"></a><code><span><span class="keyword">val</span> sigint : int</span></code></div><div class="spec-doc"><p>Interactive interrupt (ctrl-C)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigkill" class="anchored"><a href="#val-sigkill" class="anchor"></a><code><span><span class="keyword">val</span> sigkill : int</span></code></div><div class="spec-doc"><p>Termination (cannot be ignored)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigpipe" class="anchored"><a href="#val-sigpipe" class="anchor"></a><code><span><span class="keyword">val</span> sigpipe : int</span></code></div><div class="spec-doc"><p>Broken pipe</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigquit" class="anchored"><a href="#val-sigquit" class="anchor"></a><code><span><span class="keyword">val</span> sigquit : int</span></code></div><div class="spec-doc"><p>Interactive termination</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigsegv" class="anchored"><a href="#val-sigsegv" class="anchor"></a><code><span><span class="keyword">val</span> sigsegv : int</span></code></div><div class="spec-doc"><p>Invalid memory reference</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigterm" class="anchored"><a href="#val-sigterm" class="anchor"></a><code><span><span class="keyword">val</span> sigterm : int</span></code></div><div class="spec-doc"><p>Termination</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigusr1" class="anchored"><a href="#val-sigusr1" class="anchor"></a><code><span><span class="keyword">val</span> sigusr1 : int</span></code></div><div class="spec-doc"><p>Application-defined signal 1</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigusr2" class="anchored"><a href="#val-sigusr2" class="anchor"></a><code><span><span class="keyword">val</span> sigusr2 : int</span></code></div><div class="spec-doc"><p>Application-defined signal 2</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigchld" class="anchored"><a href="#val-sigchld" class="anchor"></a><code><span><span class="keyword">val</span> sigchld : int</span></code></div><div class="spec-doc"><p>Child process terminated</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigcont" class="anchored"><a href="#val-sigcont" class="anchor"></a><code><span><span class="keyword">val</span> sigcont : int</span></code></div><div class="spec-doc"><p>Continue</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigstop" class="anchored"><a href="#val-sigstop" class="anchor"></a><code><span><span class="keyword">val</span> sigstop : int</span></code></div><div class="spec-doc"><p>Stop</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigtstp" class="anchored"><a href="#val-sigtstp" class="anchor"></a><code><span><span class="keyword">val</span> sigtstp : int</span></code></div><div class="spec-doc"><p>Interactive stop</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigttin" class="anchored"><a href="#val-sigttin" class="anchor"></a><code><span><span class="keyword">val</span> sigttin : int</span></code></div><div class="spec-doc"><p>Terminal read from background process</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigttou" class="anchored"><a href="#val-sigttou" class="anchor"></a><code><span><span class="keyword">val</span> sigttou : int</span></code></div><div class="spec-doc"><p>Terminal write from background process</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigvtalrm" class="anchored"><a href="#val-sigvtalrm" class="anchor"></a><code><span><span class="keyword">val</span> sigvtalrm : int</span></code></div><div class="spec-doc"><p>Timeout in virtual time</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigprof" class="anchored"><a href="#val-sigprof" class="anchor"></a><code><span><span class="keyword">val</span> sigprof : int</span></code></div><div class="spec-doc"><p>Profiling interrupt</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigbus" class="anchored"><a href="#val-sigbus" class="anchor"></a><code><span><span class="keyword">val</span> sigbus : int</span></code></div><div class="spec-doc"><p>Bus error</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-sigpoll" class="anchored"><a href="#val-sigpoll" class="anchor"></a><code><span><span class="keyword">val</span> sigpoll : int</span></code></div><div class="spec-doc"><p>Pollable event</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-sigsys" class="anchored"><a href="#val-sigsys" class="anchor"></a><code><span><span class="keyword">val</span> sigsys : int</span></code></div><div class="spec-doc"><p>Bad argument to routine</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-sigtrap" class="anchored"><a href="#val-sigtrap" class="anchor"></a><code><span><span class="keyword">val</span> sigtrap : int</span></code></div><div class="spec-doc"><p>Trace/breakpoint trap</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-sigurg" class="anchored"><a href="#val-sigurg" class="anchor"></a><code><span><span class="keyword">val</span> sigurg : int</span></code></div><div class="spec-doc"><p>Urgent condition on socket</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-sigxcpu" class="anchored"><a href="#val-sigxcpu" class="anchor"></a><code><span><span class="keyword">val</span> sigxcpu : int</span></code></div><div class="spec-doc"><p>Timeout in cpu time</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-sigxfsz" class="anchored"><a href="#val-sigxfsz" class="anchor"></a><code><span><span class="keyword">val</span> sigxfsz : int</span></code></div><div class="spec-doc"><p>File size limit exceeded</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0</li></ul></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Break" class="anchored"><a href="#exception-Break" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Break</span></span></code></div><div class="spec-doc"><p>Exception raised on interactive interrupt if <code>Sys</code>.catch_break is on.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-catch_break" class="anchored"><a href="#val-catch_break" class="anchor"></a><code><span><span class="keyword">val</span> catch_break : <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>catch_break</code> governs whether interactive interrupt (ctrl-C) terminates the program or raises <code>Break</code>. Call <code>catch_break true</code> to enable raising <code>Break</code>, and <code>catch_break false</code> to let the system terminate the program on user interrupt.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ocaml_version" class="anchored"><a href="#val-ocaml_version" class="anchor"></a><code><span><span class="keyword">val</span> ocaml_version : string</span></code></div><div class="spec-doc"><p><code>ocaml_version</code> is the version of OCaml. It is a string of the form <code>&quot;major.minor[.patchlevel][+additional-info]&quot;</code>, where <code>major</code>, <code>minor</code>, and <code>patchlevel</code> are integers, and <code>additional-info</code> is an arbitrary string. The <code>[.patchlevel]</code> and <code>[+additional-info]</code> parts may be absent.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-files_of" class="anchored"><a href="#val-files_of" class="anchor"></a><code><span><span class="keyword">val</span> files_of : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p>As <a href="#val-readdir"><code>readdir</code></a> but the results are presented as an enumeration of names.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-enable_runtime_warnings" class="anchored"><a href="#val-enable_runtime_warnings" class="anchor"></a><code><span><span class="keyword">val</span> enable_runtime_warnings : <span>bool <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Control whether the OCaml runtime system can emit warnings on stderr. Currently, the only supported warning is triggered when a channel created by <code>open_*</code> functions is finalized without being closed. Runtime warnings are enabled by default.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0 and OCaml 4.03</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-runtime_warnings_enabled" class="anchored"><a href="#val-runtime_warnings_enabled" class="anchor"></a><code><span><span class="keyword">val</span> runtime_warnings_enabled : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Return whether runtime warnings are currently enabled.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0 and OCaml 4.03</li></ul></div></div><h6 id="optimization"><a href="#optimization" class="anchor"></a>Optimization</h6><div class="odoc-spec"><div class="spec value external" id="val-opaque_identity" class="anchored"><a href="#val-opaque_identity" class="anchor"></a><code><span><span class="keyword">val</span> opaque_identity : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><p>For the purposes of optimization, <code>opaque_identity</code> behaves like an unknown (and thus possibly side-effecting) function.</p><p>At runtime, <code>opaque_identity</code> disappears altogether.</p><p>A typical use of this function is to prevent pure computations from being optimized away in benchmarking loops. For example:</p><pre><code>for _round = 1 to 100_000 do
  ignore (Sys.opaque_identity (my_pure_computation ()))
done</code></pre><p>The compiler primitive was added to OCaml 4.03, but we emulate it under 4.02 using the -opaque compilation flag. There is no easy way for Batteries to emulate it correctly under older OCaml versions.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.5.0 and OCaml 4.02</li></ul><div class="odoc-spec"><div class="spec module" id="module-Immediate64" class="anchored"><a href="#module-Immediate64" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>Immediate64</span><span> = <a href="../../ocaml/Stdlib/Sys/Immediate64/index.html">Sys.Immediate64</a></span></code></div></div><div class="odoc-spec"><div class="spec value external" id="val-mkdir" class="anchored"><a href="#val-mkdir" class="anchor"></a><code><span><span class="keyword">val</span> mkdir : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Create a directory with the given permissions.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.3.0 and 4.12.0</li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-rmdir" class="anchored"><a href="#val-rmdir" class="anchor"></a><code><span><span class="keyword">val</span> rmdir : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Remove an empty directory.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.3.0 and 4.12.0</li></ul></div></div></div></body></html>