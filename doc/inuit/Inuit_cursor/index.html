<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Inuit_cursor (inuit.Inuit_cursor)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">inuit</a> &#x00BB; Inuit_cursor</nav><h1>Module <code>Inuit_cursor</code></h1><nav class="toc"><ul><li><a href="#manipulating-flags">Manipulating flags</a></li><li><a href="#manipulating-indentation">Manipulating indentation</a></li><li><a href="#creating-content-(convenience-functions)">Creating content (convenience functions)</a></li></ul></nav></header><dl><dt class="spec type" id="type-cursor"><a href="#type-cursor" class="anchor"></a><code><span class="keyword">type</span> 'flags cursor</code></dt><dd><p>A <code>cursor</code> is very like an <code>Inuit_region.t</code> with a default set of flags. This is a convenient type to expose to higher-level code.</p><p>Since it is just a wrapper, you can refer to <code>Inuit_region.t</code> for the documentation of most functions.</p></dd></dl><dl><dt class="spec type" id="type-clickable"><a href="#type-clickable" class="anchor"></a><code><span class="keyword">type</span> 'flags clickable</code><code> = [&gt; `Clickable | `Clicked ] <span class="keyword">as</span> flags</code></dt><dd><p>The set of flags for buffers with the capability to mark areas as clickable and to receive clicks.</p></dd></dl><dl><dt class="spec value" id="val-null"><a href="#val-null" class="anchor"></a><code><span class="keyword">val</span> null : <span class="type-var">_</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>A dummy cursor that is always closed. Useful as a placeholder.</p></dd></dl><dl><dt class="spec value" id="val-text"><a href="#val-text" class="anchor"></a><code><span class="keyword">val</span> text : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> ?&#8288;flags:<span class="type-var">'flags</span> list <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt><dd><p><code>text cursor ?flags str</code> append the text <code>str</code> at the right of <code>cursor</code> while moving it to right. If <code>flags</code> is not provided, default set of flags is applied.</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>clear cursor</code> erase the content of the region containing the cursor. New content can still be added, using <code>text</code> for instance.</p></dd></dl><dl><dt class="spec value" id="val-kill"><a href="#val-kill" class="anchor"></a><code><span class="keyword">val</span> kill : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Erase the content and close the cursor. No content can be added anymore.</p></dd></dl><dl><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p><code>sub cursor</code> creates an empty sub-cursor at the right end of <code>cursor</code>. Clearing the sub-cursor will not affect other content, but clearing <code>cursor</code> will kill the sub-cursor.</p></dd></dl><dl><dt class="spec value" id="val-observe"><a href="#val-observe" class="anchor"></a><code><span class="keyword">val</span> observe : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> (<span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> [ `Local | `Remote ] <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="../Inuit_base/index.html#type-patch">Inuit_base.patch</a> <span>&#45;&gt;</span> <span class="type-var">'flags</span> list * (unit <span>&#45;&gt;</span> unit) option) <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>Create a sub-cursor and associate an observer call-back. See <code>Inuit_region.observer</code> and <code>Inuit_region.observe</code> for more information.</p></dd></dl><dl><dt class="spec value" id="val-is_closed"><a href="#val-is_closed" class="anchor"></a><code><span class="keyword">val</span> is_closed : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>A cursor is closed if it has no observers, all changes will be ignored. This can happen when using <code>kill</code>, or <code>clear</code> on a parent cursor, and when the root socket is closed.</p></dd></dl><dl><dt class="spec value" id="val-region"><a href="#val-region" class="anchor"></a><code><span class="keyword">val</span> region : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="../Inuit_region/index.html#type-t">Inuit_region.t</a></code></dt><dd><p>The region affected by this cursor</p></dd></dl><section><header><h2 id="manipulating-flags"><a href="#manipulating-flags" class="anchor"></a>Manipulating flags</h2></header><aside><p>A cursor is nothing but a region with a default set of flags. The following functions allow to manipulate this set.</p></aside><dl><dt class="spec value" id="val-add_flag"><a href="#val-add_flag" class="anchor"></a><code><span class="keyword">val</span> add_flag : <span class="type-var">'flags</span> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>Add a flag, <code>mem_flag flag (add_flag flag c) = true</code>.</p></dd></dl><dl><dt class="spec value" id="val-rem_flag"><a href="#val-rem_flag" class="anchor"></a><code><span class="keyword">val</span> rem_flag : <span class="type-var">'flags</span> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>Remove a flag, <code>mem_flag flag (rem_flag flag c) = false</code>.</p></dd></dl><dl><dt class="spec value" id="val-mem_flag"><a href="#val-mem_flag" class="anchor"></a><code><span class="keyword">val</span> mem_flag : <span class="type-var">'flags</span> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Check if a flag is in the set of flags of the cursor.</p></dd></dl><dl><dt class="spec value" id="val-get_flags"><a href="#val-get_flags" class="anchor"></a><code><span class="keyword">val</span> get_flags : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> <span class="type-var">'flags</span> list</code></dt><dd><p>Direct access to the list of flags.</p></dd></dl><dl><dt class="spec value" id="val-with_flags"><a href="#val-with_flags" class="anchor"></a><code><span class="keyword">val</span> with_flags : <span class="type-var">'flags</span> list <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>Replace the set of flags with a new one.</p></dd></dl></section><section><header><h2 id="manipulating-indentation"><a href="#manipulating-indentation" class="anchor"></a>Manipulating indentation</h2></header><dl><dt class="spec value" id="val-get_indent"><a href="#val-get_indent" class="anchor"></a><code><span class="keyword">val</span> get_indent : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Get indentation level of cursor</p></dd></dl><dl><dt class="spec value" id="val-with_indent"><a href="#val-with_indent" class="anchor"></a><code><span class="keyword">val</span> with_indent : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>Set indentation level of cursor</p></dd></dl><dl><dt class="spec value" id="val-shift_indent"><a href="#val-shift_indent" class="anchor"></a><code><span class="keyword">val</span> shift_indent : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>Add the argument to indentation level, clamp negative values to 0. <code>shift_ident t n = with_indent t (max 0 (get_indent t + n))</code></p></dd></dl></section><section><header><h2 id="creating-content-(convenience-functions)"><a href="#creating-content-(convenience-functions)" class="anchor"></a>Creating content (convenience functions)</h2></header><dl><dt class="spec value" id="val-clickable"><a href="#val-clickable" class="anchor"></a><code><span class="keyword">val</span> clickable : <span class="type-var">'flags</span> <a href="index.html#type-clickable">clickable</a> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> (<span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>Create a sub-cursor that can be clicked. The call-back provided as argument is invoked during a click.</p></dd></dl><dl><dt class="spec value" id="val-printf"><a href="#val-printf" class="anchor"></a><code><span class="keyword">val</span> printf : <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> ?&#8288;flags:<span class="type-var">'flags</span> list <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Append formatted text to the cursor</p></dd></dl><dl><dt class="spec value" id="val-link"><a href="#val-link" class="anchor"></a><code><span class="keyword">val</span> link : <span class="type-var">'flags</span> <a href="index.html#type-clickable">clickable</a> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> ?&#8288;flags:<span class="type-var">'flags</span> list <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, (<span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>A mix of <code>printf</code> and <code>clickable</code>: append formatted text that can be clicked. The callback is provided last, for instance: <code>link cursor &quot;Click to visit %s&quot; &quot;https://github.com&quot; (fun _ -&gt; ...)</code></p></dd></dl><dl><dt class="spec value" id="val-cursor_of_region"><a href="#val-cursor_of_region" class="anchor"></a><code><span class="keyword">val</span> cursor_of_region : ?&#8288;flags:<span class="type-var">'flags</span> list <span>&#45;&gt;</span> ?&#8288;indent:int <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="../Inuit_region/index.html#type-t">Inuit_region.t</a> <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a></code></dt><dd><p>Make a cursor from a region.</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : unit <span>&#45;&gt;</span> <span class="type-var">'flags</span> <a href="index.html#type-cursor">cursor</a> * <span class="type-var">'flags</span> <a href="../Inuit_base/index.html#type-patch">Inuit_base.patch</a> <a href="../Inuit_base/index.html#type-socket">Inuit_base.socket</a></code></dt><dd><p><code>Inuit_region.make</code> wrapper: return a root cursor and a pending socket. Socket must be connected prior to changing the cursor.</p></dd></dl></section></div></body></html>