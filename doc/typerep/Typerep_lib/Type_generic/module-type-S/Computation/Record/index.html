<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Record (typerep.Typerep_lib.Type_generic.S.Computation.Record)</title><link rel="stylesheet" href="../../../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../../../index.html">typerep</a> &#x00BB; <a href="../../../../index.html">Typerep_lib</a> &#x00BB; <a href="../../../index.html">Type_generic</a> &#x00BB; <a href="../../index.html">S</a> &#x00BB; <a href="../index.html">Computation</a> &#x00BB; Record</nav><header class="odoc-preamble"><h1>Module <code><span>Computation.Record</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-field" class="anchored"><a href="#type-field" class="anchor"></a><code><span><span class="keyword">type</span> <span>!_ field</span></span><span> = </span></code><table><tr id="type-field.Field" class="anchored"><td class="def variant constructor"><a href="#type-field.Field" class="anchor"></a><code><span>| </span><span><span class="constructor">Field</span> : <span><span>(<span class="type-var">'record</span>, <span class="type-var">'a</span>)</span> <a href="../Field/index.html#type-t">Field.t</a></span> <span class="arrow">&#45;&gt;</span> <span><span class="type-var">'record</span> <a href="#type-field">field</a></span></span></code></td></tr></table></div><div class="spec-doc"><p>An existential type used to gather all the fields constituing a record type. the <code>'record</code> parameter is the record type, it is the same for all the field of that record type. The type of the fields might be different for each field and is thus existential.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-fields" class="anchored"><a href="#type-fields" class="anchor"></a><code><span><span class="keyword">type</span> <span>!'record fields</span></span><span> = </span><span>{</span></code><table><tr id="type-fields.get" class="anchored"><td class="def record field"><a href="#type-fields.get" class="anchor"></a><code><span>get : field. <span><span><span>(<span class="type-var">'record</span>, <span class="type-var">'field</span>)</span> <a href="../Field/index.html#type-t">Field.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'field</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p><code>'record fields</code> is a type isomorphic to <code>'record</code>. This gives a way to get the field value for each field of the record. The advantage of this representation is that it is convenient for writing generic computations.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div><div class="spec-doc"><p>Witness of a record type. The parameter is the type of the record type witnessed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-typename_of_t" class="anchored"><a href="#val-typename_of_t" class="anchor"></a><code><span><span class="keyword">val</span> typename_of_t : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../../Typename/index.html#type-t">Typename.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Returns the number of fields of this record type definition.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-field" class="anchored"><a href="#val-field" class="anchor"></a><code><span><span class="keyword">val</span> field : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-field">field</a></span></span></code></div><div class="spec-doc"><p>Get the nth field of this record type, indexed from 0.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-has_double_array_tag" class="anchored"><a href="#val-has_double_array_tag" class="anchor"></a><code><span><span class="keyword">val</span> has_double_array_tag : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>This is a low level metadata regarding the way the ocaml compiler represent the array underneath that is the runtime value of a record of type <code>'a</code> given a witness of type <code>'a t</code>. <code>has_double_array_tag w</code> returns <code>true</code> if the array that represents runtime values of this type is an optimized ocaml float array. Typically, this will be true for record where all fields are statically known as to be <code>floats</code>.</p><p>Note that you can't get this information dynamically by inspecting the typerep once it is applied, because there is at this point no way to tell whether one of the field is polymorphic in the type definition.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-fields">fields</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Expose one direction of the isomorphism between a value of type <code>'a</code> and a value of type <code>'a fields</code>. Basically, given an encoding way of accessing the value of all the fields of a record, create that record and return it.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>init:<span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-field">field</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span></span></code></div><div class="spec-doc"><p>folding along the tags of the variant type</p></div></div><div class="odoc-spec"><div class="spec value" id="val-internal_use_only" class="anchored"><a href="#val-internal_use_only" class="anchor"></a><code><span><span class="keyword">val</span> internal_use_only : <span><span><span class="type-var">'a</span> <a href="../Record_internal/index.html#type-t">Record_internal.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div></div></div></body></html>