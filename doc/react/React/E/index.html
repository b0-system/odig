<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>E (react.React.E)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">react</a> &#x00BB; <a href="../index.html">React</a> &#x00BB; E</nav><header class="odoc-preamble"><h1>Module <code><span>React.E</span></code></h1><p>Event combinators.</p><p>Consult their <a href="../index.html#evsem">semantics.</a></p></header><nav class="odoc-toc"><ul><li><a href="#prim">Primitive and basics</a></li><li><a href="#transf">Transforming and filtering</a></li><li><a href="#accum">Accumulating</a></li><li><a href="#combine">Combining</a></li><li><a href="#lifting">Lifting</a></li><li><a href="#pervasives-support">Pervasives support</a></li></ul></nav><div class="odoc-content"><h2 id="prim"><a href="#prim" class="anchor"></a>Primitive and basics</h2><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p>The type for events with occurrences of type <code>'a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-never" class="anchored"><a href="#val-never" class="anchor"></a><code><span><span class="keyword">val</span> never : <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p>A never occuring event. For all t, [<code>never</code>]<sub>t</sub> <code>= None</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> * <span>(<span>?step:<a href="../index.html#type-step">step</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span></span></code></div><div class="spec-doc"><p><code>create ()</code> is a primitive event <code>e</code> and a <code>send</code> function. The function <code>send</code> is such that:</p><ul><li><code>send v</code> generates an occurrence <code>v</code> of <code>e</code> at the time it is called and triggers an <a href="../index.html#steps">update step</a>.</li><li><code>send ~step v</code> generates an occurence <code>v</code> of <code>e</code> on the step <code>step</code> when <code>step</code> is <a href="../Step/index.html#val-execute">executed</a>.</li><li><code>send ~step v</code> raises <code>Invalid_argument</code> if it was previously called with a step and this step has not executed yet or if the given <code>step</code> was already executed.</li></ul><p><b>Warning.</b> <code>send</code> must not be executed inside an update step.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-retain" class="anchored"><a href="#val-retain" class="anchor"></a><code><span><span class="keyword">val</span> retain : <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>[ <span>`R of <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span> ]</span></span></code></div><div class="spec-doc"><p><code>retain e c</code> keeps a reference to the closure <code>c</code> in <code>e</code> and returns the previously retained value. <code>c</code> will <em>never</em> be invoked.</p><p><b>Raises.</b> <code>Invalid_argument</code> on <a href="#val-never"><code>E.never</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-stop" class="anchored"><a href="#val-stop" class="anchor"></a><code><span><span class="keyword">val</span> stop : <span>?strong:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>stop e</code> stops <code>e</code> from occuring. It conceptually becomes <a href="#val-never"><code>never</code></a> and cannot be restarted. Allows to disable <a href="../index.html#sideeffects">effectful</a> events.</p><p>The <code>strong</code> argument should only be used on platforms where weak arrays have a strong semantics (i.e. JavaScript). See <a href="../index.html#strongstop">details</a>.</p><p><b>Note.</b> If executed in an <a href="../index.html#steps">update step</a> the event may still occur in the step.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>equal e e'</code> is <code>true</code> iff <code>e</code> and <code>e'</code> are equal. If both events are different from <a href="#val-never"><code>never</code></a>, physical equality is used.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-trace" class="anchored"><a href="#val-trace" class="anchor"></a><code><span><span class="keyword">val</span> trace : <span>?iff:<span>bool <a href="../index.html#type-signal">signal</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>trace iff tr e</code> is <code>e</code> except <code>tr</code> is invoked with e's occurence when <code>iff</code> is <code>true</code> (defaults to <code>S.const true</code>). For all t where [<code>e</code>]<sub>t</sub> <code>= Some v</code> and [<code>iff</code>]<sub>t</sub> = <code>true</code>, <code>tr</code> is invoked with <code>v</code>.</p></div></div><h2 id="transf"><a href="#transf" class="anchor"></a>Transforming and filtering</h2><div class="odoc-spec"><div class="spec value" id="val-once" class="anchored"><a href="#val-once" class="anchor"></a><code><span><span class="keyword">val</span> once : <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>once e</code> is <code>e</code> with only its next occurence.</p><ul><li>[<code>once e</code>]<sub>t</sub> <code>= Some v</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code> and [<code>e</code>]<sub>&lt;t</sub> <code>= None</code>.</li><li>[<code>once e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-drop_once" class="anchored"><a href="#val-drop_once" class="anchor"></a><code><span><span class="keyword">val</span> drop_once : <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>drop_once e</code> is <code>e</code> without its next occurrence.</p><ul><li>[<code>drop_once e</code>]<sub>t</sub> <code>= Some v</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code> and [<code>e</code>]<sub>&lt;t</sub> <code>= Some _</code>.</li><li>[<code>drop_once e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-app" class="anchored"><a href="#val-app" class="anchor"></a><code><span><span class="keyword">val</span> app : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>app ef e</code> occurs when both <code>ef</code> and <code>e</code> occur <a href="../index.html#simultaneity">simultaneously</a>. The value is <code>ef</code>'s occurence applied to <code>e</code>'s one.</p><ul><li>[<code>app ef e</code>]<sub>t</sub> <code>= Some v'</code> if [<code>ef</code>]<sub>t</sub> <code>= Some f</code> and [<code>e</code>]<sub>t</sub> <code>= Some v</code> and <code>f v = v'</code>.</li><li>[<code>app ef e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>map f e</code> applies <code>f</code> to <code>e</code>'s occurrences.</p><ul><li>[<code>map f e</code>]<sub>t</sub> <code>= Some (f v)</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code>.</li><li>[<code>map f e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-stamp" class="anchored"><a href="#val-stamp" class="anchor"></a><code><span><span class="keyword">val</span> stamp : <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>stamp e v</code> is <code>map (fun _ -&gt; v) e</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>filter p e</code> are <code>e</code>'s occurrences that satisfy <code>p</code>.</p><ul><li>[<code>filter p e</code>]<sub>t</sub> <code>= Some v</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code> and <code>p v = true</code></li><li>[<code>filter p e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fmap" class="anchored"><a href="#val-fmap" class="anchor"></a><code><span><span class="keyword">val</span> fmap : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>fmap fm e</code> are <code>e</code>'s occurrences filtered and mapped by <code>fm</code>.</p><ul><li>[<code>fmap fm e</code>]<sub>t</sub> <code>= Some v</code> if <code>fm</code> [<code>e</code>]<sub>t</sub> <code>= Some v</code></li><li>[<code>fmap fm e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-diff" class="anchored"><a href="#val-diff" class="anchor"></a><code><span><span class="keyword">val</span> diff : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>diff f e</code> occurs whenever <code>e</code> occurs except on the next occurence. Occurences are <code>f v v'</code> where <code>v</code> is <code>e</code>'s current occurrence and <code>v'</code> the previous one.</p><ul><li>[<code>diff f e</code>]<sub>t</sub> <code>= Some r</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code>, [<code>e</code>]<sub>&lt;t</sub> <code>= Some v'</code> and <code>f v v' = r</code>.</li><li>[<code>diff f e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-changes" class="anchored"><a href="#val-changes" class="anchor"></a><code><span><span class="keyword">val</span> changes : <span>?eq:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>changes eq e</code> is <code>e</code>'s occurrences with occurences equal to the previous one dropped. Equality is tested with <code>eq</code> (defaults to structural equality).</p><ul><li>[<code>changes eq e</code>]<sub>t</sub> <code>= Some v</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code> and either [<code>e</code>]<sub>&lt;t</sub> <code>= None</code> or [<code>e</code>]<sub>&lt;t</sub> <code>= Some v'</code> and <code>eq v v' = false</code>.</li><li>[<code>changes eq e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-on" class="anchored"><a href="#val-on" class="anchor"></a><code><span><span class="keyword">val</span> on : <span><span>bool <a href="../index.html#type-signal">signal</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>on c e</code> is the occurrences of <code>e</code> when <code>c</code> is <code>true</code>.</p><ul><li>[<code>on c e</code>]<sub>t</sub> <code>= Some v</code> if [<code>c</code>]<sub>t</sub> <code>= true</code> and [<code>e</code>]<sub>t</sub> <code>= Some v</code>.</li><li>[<code>on c e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-when_" class="anchored"><a href="#val-when_" class="anchor"></a><code><span><span class="keyword">val</span> when_ : <span><span>bool <a href="../index.html#type-signal">signal</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>Use <code>on</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-dismiss" class="anchored"><a href="#val-dismiss" class="anchor"></a><code><span><span class="keyword">val</span> dismiss : <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>dismiss c e</code> is the occurences of <code>e</code> except the ones when <code>c</code> occurs.</p><ul><li>[<code>dimiss c e</code>]<sub>t</sub> <code>= Some v</code> if [<code>c</code>]<sub>t</sub> <code>= None</code> and [<code>e</code>]<sub>t</sub> <code>= Some v</code>.</li><li>[<code>dimiss c e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-until" class="anchored"><a href="#val-until" class="anchor"></a><code><span><span class="keyword">val</span> until : <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>until c e</code> is <code>e</code>'s occurences until <code>c</code> occurs.</p><ul><li>[<code>until c e</code>]<sub>t</sub> <code>= Some v</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code> and [<code>c</code>]<sub>&lt;=t</sub> <code>= None</code></li><li>[<code>until c e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><h2 id="accum"><a href="#accum" class="anchor"></a>Accumulating</h2><div class="odoc-spec"><div class="spec value" id="val-accum" class="anchored"><a href="#val-accum" class="anchor"></a><code><span><span class="keyword">val</span> accum : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>accum ef i</code> accumulates a value, starting with <code>i</code>, using <code>e</code>'s functional occurrences.</p><ul><li>[<code>accum ef i</code>]<sub>t</sub> <code>= Some (f i)</code> if [<code>ef</code>]<sub>t</sub> <code>= Some f</code> and [<code>ef</code>]<sub>&lt;t</sub> <code>= None</code>.</li><li>[<code>accum ef i</code>]<sub>t</sub> <code>= Some (f acc)</code> if [<code>ef</code>]<sub>t</sub> <code>= Some f</code> and [<code>accum ef i</code>]<sub>&lt;t</sub> <code>= Some acc</code>.</li><li>[<code>accum ef i</code>] <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>fold f i e</code> accumulates <code>e</code>'s occurrences with <code>f</code> starting with <code>i</code>.</p><ul><li>[<code>fold f i e</code>]<sub>t</sub> <code>= Some (f i v)</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code> and [<code>e</code>]<sub>&lt;t</sub> <code>= None</code>.</li><li>[<code>fold f i e</code>]<sub>t</sub> <code>= Some (f acc v)</code> if [<code>e</code>]<sub>t</sub> <code>= Some v</code> and [<code>fold f i e</code>]<sub>&lt;t</sub> <code>= Some acc</code>.</li><li>[<code>fold f i e</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><h2 id="combine"><a href="#combine" class="anchor"></a>Combining</h2><div class="odoc-spec"><div class="spec value" id="val-select" class="anchored"><a href="#val-select" class="anchor"></a><code><span><span class="keyword">val</span> select : <span><span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>select el</code> is the occurrences of every event in <code>el</code>. If more than one event occurs <a href="../index.html#simultaneity">simultaneously</a> the leftmost is taken and the others are lost.</p><ul><li>[<code>select el</code>]<sub>t</sub> <code>=</code> [<code>List.find (fun e -&gt; </code>[<code>e</code>]<sub>t</sub> <code>&lt;&gt; None) el</code>]<sub>t</sub>.</li><li>[<code>select el</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-merge" class="anchored"><a href="#val-merge" class="anchor"></a><code><span><span class="keyword">val</span> merge : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>merge f a el</code> merges the <a href="../index.html#simultaneity">simultaneous</a> occurrences of every event in <code>el</code> using <code>f</code> and the accumulator <code>a</code>.</p><p>[<code>merge f a el</code>]<sub>t</sub> <code>= List.fold_left f a (List.filter (fun o -&gt; o &lt;&gt; None)
           (List.map</code> []<sub>t</sub><code> el))</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-switch" class="anchored"><a href="#val-switch" class="anchor"></a><code><span><span class="keyword">val</span> switch : <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span></span></code></div><div class="spec-doc"><p><code>switch e ee</code> is <code>e</code>'s occurrences until there is an occurrence <code>e'</code> on <code>ee</code>, the occurrences of <code>e'</code> are then used until there is a new occurrence on <code>ee</code>, etc..</p><ul><li>[<code>switch e ee</code>]<sub>t</sub> <code>=</code> [<code>e</code>]<sub>t</sub> if [<code>ee</code>]<sub>&lt;=t</sub> <code>= None</code>.</li><li>[<code>switch e ee</code>]<sub>t</sub> <code>=</code> [<code>e'</code>]<sub>t</sub> if [<code>ee</code>]<sub>&lt;=t</sub> <code>= Some e'</code>.</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fix" class="anchored"><a href="#val-fix" class="anchor"></a><code><span><span class="keyword">val</span> fix : <span><span>(<span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> * <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span></span></code></div><div class="spec-doc"><p><code>fix ef</code> allows to refer to the value an event had an infinitesimal amount of time before.</p><p>In <code>fix ef</code>, <code>ef</code> is called with an event <code>e</code> that represents the event returned by <code>ef</code> delayed by an infinitesimal amount of time. If <code>e', r = ef e</code> then <code>r</code> is returned by <code>fix</code> and <code>e</code> is such that :</p><ul><li>[<code>e</code>]<sub>t</sub> <code>=</code> <code>None</code> if t = 0</li><li>[<code>e</code>]<sub>t</sub> <code>=</code> [<code>e'</code>]<sub>t-dt</sub> otherwise</li></ul><p><b>Raises.</b> <code>Invalid_argument</code> if <code>e'</code> is directly a delayed event (i.e. an event given to a fixing function).</p></div></div><h2 id="lifting"><a href="#lifting" class="anchor"></a>Lifting</h2><p>Lifting combinators. For a given <code>n</code> the semantics is:</p><ul><li>[<code>ln f e1 ... en</code>]<sub>t</sub> <code>= Some (f v1 ... vn)</code> if for all i : [<code>ei</code>]<sub>t</sub> <code>= Some vi</code>.</li><li>[<code>ln f e1 ... en</code>]<sub>t</sub> <code>= None</code> otherwise.</li></ul><div class="odoc-spec"><div class="spec value" id="val-l1" class="anchored"><a href="#val-l1" class="anchor"></a><code><span><span class="keyword">val</span> l1 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-l2" class="anchored"><a href="#val-l2" class="anchor"></a><code><span><span class="keyword">val</span> l2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <a href="../index.html#type-event">event</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-l3" class="anchored"><a href="#val-l3" class="anchor"></a><code><span><span class="keyword">val</span> l3 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'d</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <a href="../index.html#type-event">event</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-l4" class="anchored"><a href="#val-l4" class="anchor"></a><code><span><span class="keyword">val</span> l4 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'e</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'e</span> <a href="../index.html#type-event">event</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-l5" class="anchored"><a href="#val-l5" class="anchor"></a><code><span><span class="keyword">val</span> l5 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'e</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'f</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'f</span> <a href="../index.html#type-event">event</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-l6" class="anchored"><a href="#val-l6" class="anchor"></a><code><span><span class="keyword">val</span> l6 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'d</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'e</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'f</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'g</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'d</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'e</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'f</span> <a href="../index.html#type-event">event</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'g</span> <a href="../index.html#type-event">event</a></span></span></code></div></div><h2 id="pervasives-support"><a href="#pervasives-support" class="anchor"></a>Pervasives support</h2><div class="odoc-spec"><div class="spec module" id="module-Option" class="anchored"><a href="#module-Option" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Option/index.html">Option</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Events with option occurences.</p></div></div></div></body></html>