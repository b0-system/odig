<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatArray (batteries.BatArray)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">batteries</a> &#x00BB; BatArray</nav><header class="odoc-preamble"><h1>Module <code><span>BatArray</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#array-operations">Array operations</a></li><li><a href="#sorting">Sorting</a></li><li><a href="#operations-on-two-arrays">Operations on two arrays</a></li><li><a href="#predicates">Predicates</a></li><li><a href="#array-transformations">Array transformations</a></li><li><a href="#conversions">Conversions</a></li><li><a href="#utilities">Utilities</a></li><li><a href="#boilerplate-code">Boilerplate code</a></li><li><a href="#override-modules">Override modules</a></li></ul></nav><div class="odoc-content"><h6 id="array-operations"><a href="#array-operations" class="anchor"></a>Array operations</h6><p>Arrays are mutable data structures with a fixed size, which support fast access and modification, and are used pervasively in imperative computing. While arrays are completely supported in OCaml, it is often a good idea to investigate persistent alternatives, such as lists or hash maps.</p><p>This module replaces Stdlib's <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Array.html">Array</a> module.</p><p>A variant of arrays, arrays with capabilities, is provided in module <a href="Cap/index.html"><code>BatArray.Cap</code></a>. This notion of capabilities permit the transformation of a mutable array into a read-only or a write-only arrays, without loss of speed and with the possibility of distributing different capabilities to different expressions.</p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Xavier Leroy</li></ul><ul class="at-tags"><li class="author"><span class="at-tag">author</span> Richard W.M. Jones</li></ul><ul class="at-tags"><li class="author"><span class="at-tag">author</span> David Teller</li></ul><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>The type of arrays.</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../BatEnum/module-type-Enumerable/index.html">BatEnum.Enumerable</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../BatEnum/module-type-Enumerable/index.html#type-enumerable">enumerable</a></span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-enumerable" class="anchored"><a href="#type-enumerable" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a enumerable</span></span><span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The data structure, e.g. <code>'a List.t</code></p></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../BatInterfaces/module-type-Mappable/index.html">BatInterfaces.Mappable</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../BatInterfaces/module-type-Mappable/index.html#type-mappable">mappable</a></span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-mappable" class="anchored"><a href="#type-mappable" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a mappable</span></span><span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The data structure, e.g. <code>'a List.t</code></p></div></div></details></div><div class="odoc-spec"><div class="spec value external" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Return the length (number of elements) of the given array.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>Array.get a n</code> returns the element number <code>n</code> of array <code>a</code>. The first element has number 0. The last element has number <code>Array.length a - 1</code>. You can also write <code>a.(n)</code> instead of <code>Array.get a n</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>n</code> is outside the range 0 to <code>(Array.length a - 1)</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Array.set a n x</code> modifies array <code>a</code> in place, replacing element number <code>n</code> with <code>x</code>. You can also write <code>a.(n) &lt;- x</code> instead of <code>Array.set a n x</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>n</code> is outside the range 0 to <code>Array.length a - 1</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.make n x</code> returns a fresh array of length <code>n</code>, initialized with <code>x</code>. All the elements of this new array are initially physically equal to <code>x</code> (in the sense of the <code>==</code> predicate). Consequently, if <code>x</code> is mutable, it is shared among all elements of the array, and modifying <code>x</code> through one of the array entries will modify all other entries at the same time.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>n &lt; 0</code> or <code>n &gt; Sys.max_array_length</code>. If the value of <code>x</code> is a floating-point number, then the maximum size is only <code>Sys.max_array_length / 2</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value external" id="val-create_float" class="anchored"><a href="#val-create_float" class="anchor"></a><code><span><span class="keyword">val</span> create_float : <span>int <span class="arrow">&#45;&gt;</span></span> <span>float array</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-make_float" class="anchored"><a href="#val-make_float" class="anchor"></a><code><span><span class="keyword">val</span> make_float : <span>int <span class="arrow">&#45;&gt;</span></span> <span>float array</span></span></code></div><div class="spec-doc"><p><code>Array.make_float n</code> returns a fresh float array of length <code>n</code>, with uninitialized data.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.3.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-of_seq" class="anchored"><a href="#val-of_seq" class="anchor"></a><code><span><span class="keyword">val</span> of_seq : <span><span><span class="type-var">'a</span> <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Seq.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_seq" class="anchored"><a href="#val-to_seq" class="anchor"></a><code><span><span class="keyword">val</span> to_seq : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Seq.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_seqi" class="anchored"><a href="#val-to_seqi" class="anchor"></a><code><span><span class="keyword">val</span> to_seqi : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * <span class="type-var">'a</span>)</span> <a href="../../ocaml/Stdlib/Seq/index.html#type-t">Seq.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value external" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p><code>Array.create</code> is an alias for <code>Array</code>.make.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-init" class="anchored"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.init n f</code> returns a fresh array of length <code>n</code>, with element number <code>i</code> initialized to the result of <code>f i</code>. In other terms, <code>Array.init n f</code> tabulates the results of <code>f</code> applied to the integers <code>0</code> to <code>n-1</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>n &lt; 0</code> or <code>n &gt; Sys.max_array_length</code>. If the return type of <code>f</code> is <code>float</code>, then the maximum size is only <code>Sys.max_array_length / 2</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-make_matrix" class="anchored"><a href="#val-make_matrix" class="anchor"></a><code><span><span class="keyword">val</span> make_matrix : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.make_matrix dimx dimy e</code> returns a two-dimensional array (an array of arrays) with first dimension <code>dimx</code> and second dimension <code>dimy</code>. All the elements of this new matrix are initially physically equal to <code>e</code>. The element (<code>x,y</code>) of a matrix <code>m</code> is accessed with the notation <code>m.(x).(y)</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>dimx</code> or <code>dimy</code> is negative or greater than <code>Sys.max_array_length</code>. If the value of <code>e</code> is a floating-point number, then the maximum size is only <code>Sys.max_array_length / 2</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-create_matrix" class="anchored"><a href="#val-create_matrix" class="anchor"></a><code><span><span class="keyword">val</span> create_matrix : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> array</span></span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p><code>Array.create_matrix</code> is an alias for <code>Array</code>.make_matrix.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-append" class="anchored"><a href="#val-append" class="anchor"></a><code><span><span class="keyword">val</span> append : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.append v1 v2</code> returns a fresh array containing the concatenation of the arrays <code>v1</code> and <code>v2</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-concat" class="anchored"><a href="#val-concat" class="anchor"></a><code><span><span class="keyword">val</span> concat : <span><span><span><span class="type-var">'a</span> array</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>Same as <code>Array.append</code>, but concatenates a list of arrays.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.sub a start len</code> returns a fresh array of length <code>len</code>, containing the elements number <code>start</code> to <code>start + len - 1</code> of array <code>a</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>start</code> and <code>len</code> do not designate a valid subarray of <code>a</code>; that is, if <code>start &lt; 0</code>, or <code>len &lt; 0</code>, or <code>start + len &gt; Array.length a</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.copy a</code> returns a copy of <code>a</code>, that is, a fresh array containing the same elements as <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fill" class="anchored"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Array.fill a ofs len x</code> modifies the array <code>a</code> in place, storing <code>x</code> in elements number <code>ofs</code> to <code>ofs + len - 1</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>ofs</code> and <code>len</code> do not designate a valid subarray of <code>a</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-blit" class="anchored"><a href="#val-blit" class="anchor"></a><code><span><span class="keyword">val</span> blit : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Array.blit v1 o1 v2 o2 len</code> copies <code>len</code> elements from array <code>v1</code>, starting at element number <code>o1</code>, to array <code>v2</code>, starting at element number <code>o2</code>. It works correctly even if <code>v1</code> and <code>v2</code> are the same array, and the source and destination chunks overlap.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>o1</code> and <code>len</code> do not designate a valid subarray of <code>v1</code>, or if <code>o2</code> and <code>len</code> do not designate a valid subarray of <code>v2</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-to_list" class="anchored"><a href="#val-to_list" class="anchor"></a><code><span><span class="keyword">val</span> to_list : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> list</span></span></code></div><div class="spec-doc"><p><code>Array.to_list a</code> returns the list of all the elements of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-split" class="anchored"><a href="#val-split" class="anchor"></a><code><span><span class="keyword">val</span> split : <span><span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span> * <span><span class="type-var">'b</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.split a</code> converts the array of pairs <code>a</code> into a pair of arrays.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_list" class="anchored"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.of_list l</code> returns a fresh array containing the elements of <code>l</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-max" class="anchored"><a href="#val-max" class="anchor"></a><code><span><span class="keyword">val</span> max : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>max a</code> returns the largest value in <code>a</code> as judged by <code>Pervasives.compare</code></p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>on empty input</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-min" class="anchored"><a href="#val-min" class="anchor"></a><code><span><span class="keyword">val</span> min : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>min a</code> returns the smallest value in <code>a</code> as judged by <code>Pervasives.compare</code></p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>on empty input</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-min_max" class="anchored"><a href="#val-min_max" class="anchor"></a><code><span><span class="keyword">val</span> min_max : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> * <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>min_max a</code> returns the (smallest, largest) pair of values from <code>a</code> as judged by <code>Pervasives.compare</code></p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>on empty input</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-sum" class="anchored"><a href="#val-sum" class="anchor"></a><code><span><span class="keyword">val</span> sum : <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>sum l</code> returns the sum of the integers of <code>l</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-fsum" class="anchored"><a href="#val-fsum" class="anchor"></a><code><span><span class="keyword">val</span> fsum : <span><span>float array</span> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>fsum l</code> returns the sum of the floats of <code>l</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-kahan_sum" class="anchored"><a href="#val-kahan_sum" class="anchor"></a><code><span><span class="keyword">val</span> kahan_sum : <span><span>float array</span> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>kahan_sum l</code> returns a numerically-accurate sum of the floats of <code>l</code>.</p><p>You should consider using Kahan summation when you really care about very small differences in the result, while the result or one of the intermediate sums can be very large (which usually results in loss of precision of floating-point addition).</p><p>The worst-case rounding error is constant, instead of growing with (the square root of) the length of the input array as with <a href="#val-fsum"><code>fsum</code></a>. On the other hand, processing each element requires four floating-point operations instead of one. See <a href="https://en.wikipedia.org/wiki/Kahan_summation_algorithm">the wikipedia article</a> on Kahan summation for more details.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-avg" class="anchored"><a href="#val-avg" class="anchor"></a><code><span><span class="keyword">val</span> avg : <span><span>int array</span> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>avg l</code> returns the average of <code>l</code></p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.1</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-favg" class="anchored"><a href="#val-favg" class="anchor"></a><code><span><span class="keyword">val</span> favg : <span><span>float array</span> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>favg l</code> returns the average of <code>l</code></p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.1</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-left" class="anchored"><a href="#val-left" class="anchor"></a><code><span><span class="keyword">val</span> left : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>left r len</code> returns the array containing the <code>len</code> first characters of <code>r</code>. If <code>r</code> contains less than <code>len</code> characters, it returns <code>r</code>.</p><p>Examples: <code>Array.left [|0;1;2;3;4;5;6|] 4 = [|0;1;2;3|]</code> <code>Array.left [|1;2;3|] 0 = [||]</code> <code>Array.left [|1;2;3|] 10 = [|1;2;3|]</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-right" class="anchored"><a href="#val-right" class="anchor"></a><code><span><span class="keyword">val</span> right : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>left r len</code> returns the array containing the <code>len</code> last characters of <code>r</code>. If <code>r</code> contains less than <code>len</code> characters, it returns <code>r</code>.</p><p>Example: <code>Array.right [|1;2;3;4;5;6|] 4 = [|3;4;5;6|]</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-head" class="anchored"><a href="#val-head" class="anchor"></a><code><span><span class="keyword">val</span> head : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>as <a href="#val-left"><code>left</code></a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-tail" class="anchored"><a href="#val-tail" class="anchor"></a><code><span><span class="keyword">val</span> tail : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>tail r pos</code> returns the array containing all but the <code>pos</code> first characters of <code>r</code></p><p>Example: <code>Array.tail [|1;2;3;4;5;6|] 4 = [|5;6|]</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Array.iter f a</code> applies function <code>f</code> in turn to all the elements of <code>a</code>. It is equivalent to <code>f a.(0); f a.(1); ...; f a.(Array.length a - 1); ()</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> array</span></span></code></div><div class="spec-doc"><p><code>Array.map f a</code> applies function <code>f</code> to all the elements of <code>a</code>, and builds an array with the results returned by <code>f</code>: <code>[| f a.(0); f a.(1); ...; f a.(Array.length a - 1) |]</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iteri" class="anchored"><a href="#val-iteri" class="anchor"></a><code><span><span class="keyword">val</span> iteri : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>Array</code>.iter, but the function is applied to the index of the element as first argument, and the element itself as second argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mapi" class="anchored"><a href="#val-mapi" class="anchor"></a><code><span><span class="keyword">val</span> mapi : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> array</span></span></code></div><div class="spec-doc"><p>Same as <code>Array</code>.map, but the function is applied to the index of the element as first argument, and the element itself as second argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_left" class="anchored"><a href="#val-fold_left" class="anchor"></a><code><span><span class="keyword">val</span> fold_left : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>Array.fold_left f x a</code> computes <code>f (... (f (f x a.(0)) a.(1)) ...) a.(n-1)</code>, where <code>n</code> is the length of the array <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_while" class="anchored"><a href="#val-fold_while" class="anchor"></a><code><span><span class="keyword">val</span> fold_while : <span><span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span> * int</span></code></div><div class="spec-doc"><p><code>fold_while p f init a</code>, accumulates elements <code>x</code> of array <code>a</code> using function <code>f</code>, as long as the predicate <code>p acc x</code> holds. At the end, the accumulated value along with the first index i where <code>p acc a.(i)</code> does not hold is returned. If the returned index is equal to <code>length a</code>, the whole array was folded.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Alias for <code>fold_left</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_right" class="anchored"><a href="#val-fold_right" class="anchor"></a><code><span><span class="keyword">val</span> fold_right : <span><span>(<span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>Array.fold_right f a x</code> computes <code>f a.(0) (f a.(1) ( ... (f a.(n-1) x) ...))</code>, where <code>n</code> is the length of the array <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-modify" class="anchored"><a href="#val-modify" class="anchor"></a><code><span><span class="keyword">val</span> modify : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>modify f a</code> replaces every element <code>x</code> of <code>a</code> with <code>f x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-modifyi" class="anchored"><a href="#val-modifyi" class="anchor"></a><code><span><span class="keyword">val</span> modifyi : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <a href="#val-modify"><code>modify</code></a>, but the function is applied to the index of the element as the first argument, and the element itself as the second argument.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_lefti" class="anchored"><a href="#val-fold_lefti" class="anchor"></a><code><span><span class="keyword">val</span> fold_lefti : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>As <code>fold_left</code>, but with the index of the element as additional argument</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_righti" class="anchored"><a href="#val-fold_righti" class="anchor"></a><code><span><span class="keyword">val</span> fold_righti : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>As <code>fold_right</code>, but with the index of the element as additional argument</p></div></div><div class="odoc-spec"><div class="spec value" id="val-reduce" class="anchored"><a href="#val-reduce" class="anchor"></a><code><span><span class="keyword">val</span> reduce : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>Array.reduce f a</code> is <code>fold_left f a.(0) [|a.(1); ..; a.(n-1)|]</code>. This is useful for merging a group of things that have no reasonable default value to return if the group is empty.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>on empty arrays.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-singleton" class="anchored"><a href="#val-singleton" class="anchor"></a><code><span><span class="keyword">val</span> singleton : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>Create an array consisting of exactly one element.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.1</li></ul></div></div><h6 id="sorting"><a href="#sorting" class="anchor"></a>Sorting</h6><div class="odoc-spec"><div class="spec value" id="val-sort" class="anchored"><a href="#val-sort" class="anchor"></a><code><span><span class="keyword">val</span> sort : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Sort an array in increasing order according to a comparison function. The comparison function must return 0 if its arguments compare as equal, a positive integer if the first is greater, and a negative integer if the first is smaller (see below for a complete specification). For example, <code>Pervasives</code>.compare is a suitable comparison function, provided there are no floating-point NaN values in the data. After calling <code>Array.sort</code>, the array is sorted in place in increasing order. <code>Array.sort</code> is guaranteed to run in constant heap space and (at most) logarithmic stack space.</p><p>The current implementation uses Heap Sort. It runs in constant stack space.</p><p>Specification of the comparison function: Let <code>a</code> be the array and <code>cmp</code> the comparison function. The following must be true for all x, y, z in a :</p><ul><li><code>cmp x y</code> &gt; 0 if and only if <code>cmp y x</code> &lt; 0</li><li>if <code>cmp x y</code> &gt;= 0 and <code>cmp y z</code> &gt;= 0 then <code>cmp x z</code> &gt;= 0</li></ul><p>When <code>Array.sort</code> returns, <code>a</code> contains the same elements as before, reordered in such a way that for all i and j valid indices of <code>a</code> :</p><ul><li><code>cmp a.(i) a.(j)</code> &gt;= 0 if and only if i &gt;= j</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-stable_sort" class="anchored"><a href="#val-stable_sort" class="anchor"></a><code><span><span class="keyword">val</span> stable_sort : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>Array</code>.sort, but the sorting algorithm is stable (i.e. elements that compare equal are kept in their original order) and not guaranteed to run in constant heap space.</p><p>The current implementation uses Merge Sort. It uses <code>n/2</code> words of heap space, where <code>n</code> is the length of the array. It is usually faster than the current implementation of <code>Array</code>.sort.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fast_sort" class="anchored"><a href="#val-fast_sort" class="anchor"></a><code><span><span class="keyword">val</span> fast_sort : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Same as <code>Array</code>.sort or <code>Array</code>.stable_sort, whichever is faster on typical input.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-decorate_stable_sort" class="anchored"><a href="#val-decorate_stable_sort" class="anchor"></a><code><span><span class="keyword">val</span> decorate_stable_sort : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>decorate_stable_sort f a</code> returns a sorted copy of <code>a</code> such that if <code>f
    x &lt; f y</code> then <code>x</code> is earlier in the result than <code>y</code>. This function is useful when <code>f</code> is expensive, as it only computes <code>f
    x</code> once for each element in the array. See <a href="http://en.wikipedia.org/wiki/Schwartzian_transform">Schwartzian Transform</a>.</p><p>It is unnecessary to have an additional comparison function as argument, as the builtin <code>Pervasives.compare</code> is used to compare the <code>'b</code> values. This is deemed sufficient.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-decorate_fast_sort" class="anchored"><a href="#val-decorate_fast_sort" class="anchor"></a><code><span><span class="keyword">val</span> decorate_fast_sort : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>As <code>Array</code>.decorate_stable_sort, but uses fast_sort internally.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bsearch" class="anchored"><a href="#val-bsearch" class="anchor"></a><code><span><span class="keyword">val</span> bsearch : <span><span><span class="type-var">'a</span> <a href="../BatOrd/index.html#type-ord">BatOrd.ord</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>[ `All_lower <span>| `All_bigger</span> <span><span>| `Just_after</span> of int</span> <span>| `Empty</span> <span><span>| `At</span> of int</span> ]</span></span></code></div><div class="spec-doc"><p><code>bsearch cmp arr x</code> finds the index of the object <code>x</code> in the array <code>arr</code>, provided <code>arr</code> is <b>sorted</b> using <code>cmp</code>. If the array is not sorted, the result is not specified (may raise Invalid_argument).</p><p>Complexity: O(log n) where n is the length of the array (dichotomic search).</p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <ul><li><code>`At i</code> if <code>cmp arr.(i) x = 0</code> (for some i)</li><li><code>`All_lower</code> if all elements of <code>arr</code> are lower than <code>x</code></li><li><code>`All_bigger</code> if all elements of <code>arr</code> are bigger than <code>x</code></li><li><code>`Just_after i</code> if <code>arr.(i) &lt; x &lt; arr.(i+1)</code></li><li><code>`Empty</code> if the array is empty</li></ul></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the array is found to be unsorted w.r.t <code>cmp</code></p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-pivot_split" class="anchored"><a href="#val-pivot_split" class="anchor"></a><code><span><span class="keyword">val</span> pivot_split : <span><span><span class="type-var">'a</span> <a href="../BatOrd/index.html#type-ord">BatOrd.ord</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int * int</span></code></div><div class="spec-doc"><p><code>pivot_split cmp arr x</code> assumes that <code>arr</code> is <b>sorted</b> w.r.t <code>cmp</code>. It splits an array <code>arr</code> of length <code>len</code> into three parts, by returning a couple (i,j) such as:</p><ul><li>all elements with indices 0..i-1 (<code>sub arr 0 i</code>) are lower than <code>x</code></li><li>all elements with indices i..j-1 (<code>sub arr i (j-i)</code>) are equal to <code>x</code></li><li>all elements with indices j..len-1 (<code>sub arr j (len-j)</code>) are bigger than <code>x</code></li></ul><p>In particular, it returns:</p><ul><li>(0, 0) if all elements of <code>arr</code> are bigger than <code>x</code></li><li>(len, len) if all elements are lower than <code>x</code></li><li>(0, len) if all elements are equal to <code>x</code></li></ul><p>Complexity: logarithmic in the size of the array</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the array is found not to be sorted</p></li></ul></div></div><h6 id="operations-on-two-arrays"><a href="#operations-on-two-arrays" class="anchor"></a>Operations on two arrays</h6><div class="odoc-spec"><div class="spec value" id="val-iter2" class="anchored"><a href="#val-iter2" class="anchor"></a><code><span><span class="keyword">val</span> iter2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Array.iter2 f [|a0; a1; ...; an|] [|b0; b1; ...; bn|]</code> performs calls <code>f a0 b0; f a1 b1; ...; f an bn</code> in that order.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the two arrays have different lengths.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-iter2i" class="anchored"><a href="#val-iter2i" class="anchor"></a><code><span><span class="keyword">val</span> iter2i : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Array.iter2i f [|a0; a1; ...; an|] [|b0; b1; ...; bn|]</code> performs calls <code>f 0 a0 b0; f 1 a1 b1; ...; f n an bn</code> in that order.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the two arrays have different lengths.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-for_all2" class="anchored"><a href="#val-for_all2" class="anchor"></a><code><span><span class="keyword">val</span> for_all2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>As <code>Array</code>.for_all but on two arrays.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the two arrays have different lengths.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-exists2" class="anchored"><a href="#val-exists2" class="anchor"></a><code><span><span class="keyword">val</span> exists2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>As <code>Array</code>.exists but on two arrays.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the two arrays have different lengths.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-map2" class="anchored"><a href="#val-map2" class="anchor"></a><code><span><span class="keyword">val</span> map2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'c</span> array</span></span></code></div><div class="spec-doc"><p>As <code>Array</code>.map but on two arrays.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the two arrays have different lengths.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-cartesian_product" class="anchored"><a href="#val-cartesian_product" class="anchor"></a><code><span><span class="keyword">val</span> cartesian_product : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> array</span></span></code></div><div class="spec-doc"><p>Cartesian product of the two arrays.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><h6 id="predicates"><a href="#predicates" class="anchor"></a>Predicates</h6><div class="odoc-spec"><div class="spec value" id="val-for_all" class="anchored"><a href="#val-for_all" class="anchor"></a><code><span><span class="keyword">val</span> for_all : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>for_all p [|a0; a1; ...; an|]</code> checks if all elements of the array satisfy the predicate <code>p</code>. That is, it returns <code> (p a0)
    &amp;&amp; (p a1) &amp;&amp; ... &amp;&amp; (p an)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exists" class="anchored"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>exists p [|a0; a1; ...; an|]</code> checks if at least one element of the array satisfies the predicate <code>p</code>. That is, it returns <code>(p
    a0) || (p a1) || ... || (p an)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>find p a</code> returns the first element of array <code>a</code> that satisfies the predicate <code>p</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if there is no value that satisfies <code>p</code> in the array <code>a</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-mem" class="anchored"><a href="#val-mem" class="anchor"></a><code><span><span class="keyword">val</span> mem : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>mem m a</code> is true if and only if <code>m</code> is equal to an element of <code>a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-memq" class="anchored"><a href="#val-memq" class="anchor"></a><code><span><span class="keyword">val</span> memq : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Same as <code>Array</code>.mem but uses physical equality instead of structural equality to compare array elements.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-findi" class="anchored"><a href="#val-findi" class="anchor"></a><code><span><span class="keyword">val</span> findi : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>findi p a</code> returns the index of the first element of array <code>a</code> that satisfies the predicate <code>p</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Not_found</span> <p>if there is no value that satisfies <code>p</code> in the array <code>a</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>filter p a</code> returns all the elements of the array <code>a</code> that satisfy the predicate <code>p</code>. The order of the elements in the input array is preserved.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filteri" class="anchored"><a href="#val-filteri" class="anchor"></a><code><span><span class="keyword">val</span> filteri : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>As <code>filter</code> but with the index passed to the predicate.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter_map" class="anchored"><a href="#val-filter_map" class="anchor"></a><code><span><span class="keyword">val</span> filter_map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> array</span></span></code></div><div class="spec-doc"><p><code>filter_map f e</code> returns an array consisting of all elements <code>x</code> such that <code>f y</code> returns <code>Some x</code> , where <code>y</code> is an element of <code>e</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-count_matching" class="anchored"><a href="#val-count_matching" class="anchor"></a><code><span><span class="keyword">val</span> count_matching : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>count_matching p a</code> returns the number of elements of <code>a</code> satisfying predicate <code>p</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_all" class="anchored"><a href="#val-find_all" class="anchor"></a><code><span><span class="keyword">val</span> find_all : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>find_all</code> is another name for <code>Array</code>.filter.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-partition" class="anchored"><a href="#val-partition" class="anchor"></a><code><span><span class="keyword">val</span> partition : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span> * <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>partition p a</code> returns a pair of arrays <code>(a1, a2)</code>, where <code>a1</code> is the array of all the elements of <code>a</code> that satisfy the predicate <code>p</code>, and <code>a2</code> is the array of all the elements of <code>a</code> that do not satisfy <code>p</code>. The order of the elements in the input array is preserved.</p></div></div><h6 id="array-transformations"><a href="#array-transformations" class="anchor"></a>Array transformations</h6><div class="odoc-spec"><div class="spec value" id="val-rev" class="anchored"><a href="#val-rev" class="anchor"></a><code><span><span class="keyword">val</span> rev : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>Array reversal.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rev_in_place" class="anchored"><a href="#val-rev_in_place" class="anchor"></a><code><span><span class="keyword">val</span> rev_in_place : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>In-place array reversal. The array argument is updated.</p></div></div><h6 id="conversions"><a href="#conversions" class="anchor"></a>Conversions</h6><div class="odoc-spec"><div class="spec value" id="val-enum" class="anchored"><a href="#val-enum" class="anchor"></a><code><span><span class="keyword">val</span> enum : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p>Returns an enumeration of the elements of an array. Behavior of the enumeration is undefined if the contents of the array changes afterwards.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_enum" class="anchored"><a href="#val-of_enum" class="anchor"></a><code><span><span class="keyword">val</span> of_enum : <span><span><span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>Build an array from an enumeration.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-backwards" class="anchored"><a href="#val-backwards" class="anchor"></a><code><span><span class="keyword">val</span> backwards : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p>Returns an enumeration of the elements of an array, from last to first.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_backwards" class="anchored"><a href="#val-of_backwards" class="anchor"></a><code><span><span class="keyword">val</span> of_backwards : <span><span><span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p>Build an array from an enumeration, with the first element of the enumeration as the last element of the array and vice versa.</p></div></div><h6 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h6><div class="odoc-spec"><div class="spec value" id="val-range" class="anchored"><a href="#val-range" class="anchor"></a><code><span><span class="keyword">val</span> range : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span>int <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p><code>range a</code> returns an enumeration of all valid indexes into the given array. For example, <code>range [|2;4;6;8|] = 0--3</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-insert" class="anchored"><a href="#val-insert" class="anchor"></a><code><span><span class="keyword">val</span> insert : <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>insert xs x i</code> returns a copy of <code>xs</code> except the value <code>x</code> is inserted in position <code>i</code> (and all later indices are shifted to the right).</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>i &lt; 0 || i &gt; Array.length xs</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-remove_at" class="anchored"><a href="#val-remove_at" class="anchor"></a><code><span><span class="keyword">val</span> remove_at : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>remove_at i a</code> returns the array <code>a</code> without the element at index <code>i</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>i</code> is outside of <code>a</code> bounds.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 3.3.0</li></ul></div></div><h6 id="boilerplate-code"><a href="#boilerplate-code" class="anchor"></a>Boilerplate code</h6><div class="odoc-spec"><div class="spec value" id="val-print" class="anchored"><a href="#val-print" class="anchor"></a><code><span><span class="keyword">val</span> print : <span>?first:string <span class="arrow">&#45;&gt;</span></span> <span>?last:string <span class="arrow">&#45;&gt;</span></span> <span>?sep:string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>,Â <span class="type-var">'b</span>)</span> <a href="../BatIO/index.html#type-printer">BatIO.printer</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <a href="#type-t">t</a></span>,Â <span class="type-var">'b</span>)</span> <a href="../BatIO/index.html#type-printer">BatIO.printer</a></span></span></code></div><div class="spec-doc"><p>Print the contents of an array, with <code>~first</code> preceding the first item (default: &quot;[|&quot;), <code>~last</code> following the last item (default: &quot;|]&quot;) and <code>~sep</code> separating items (default: &quot;; &quot;). A printing function must be provided to print the items in the array.</p><p>Example: IO.to_string (Array.print Int.print) <code>|2;4;66|</code> = &quot;<code>|2; 4; 66|</code>&quot;</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><span><span class="type-var">'a</span> <a href="../BatOrd/index.html#type-comp">BatOrd.comp</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <a href="../BatOrd/index.html#type-comp">BatOrd.comp</a></span></span></code></div><div class="spec-doc"><p><code>compare c</code> generates the lexicographical order on arrays induced by <code>c</code>. That is, given a comparison function for the elements of an array, this will return a comparison function for arrays of that type.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ord" class="anchored"><a href="#val-ord" class="anchor"></a><code><span><span class="keyword">val</span> ord : <span><span><span class="type-var">'a</span> <a href="../BatOrd/index.html#type-ord">BatOrd.ord</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <a href="../BatOrd/index.html#type-ord">BatOrd.ord</a></span></span></code></div><div class="spec-doc"><p>Hoist an element comparison function to compare arrays of those elements, with shorter arrays less than longer ones, and lexicographically for arrays of the same size. This is a different ordering than <code>compare</code>, but is often faster.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-shuffle" class="anchored"><a href="#val-shuffle" class="anchor"></a><code><span><span class="keyword">val</span> shuffle : <span>?state:<a href="../../ocaml/Stdlib/Random/State/index.html#type-t">Random.State.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>shuffle ~state:rs a</code> randomly shuffles in place the elements of <code>a</code>. The optional random state <code>rs</code> allows to control the random numbers being used during shuffling (for reproducibility).</p><p>Shuffling is implemented using the Fisher-Yates algorithm and works in O(n), where n is the number of elements of <code>a</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.6.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><span><span class="type-var">'a</span> <a href="../BatOrd/index.html#type-eq">BatOrd.eq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <a href="../BatOrd/index.html#type-eq">BatOrd.eq</a></span></span></code></div><div class="spec-doc"><p>Hoist a equality test for elements to arrays. Arrays are only equal if their lengths are the same and corresponding elements test equal.</p></div></div><h6 id="override-modules"><a href="#override-modules" class="anchor"></a>Override modules</h6><p>The following modules replace functions defined in <code>Array</code> with functions behaving slightly differently but having the same name. This is by design: the functions are meant to override the corresponding functions of <code>Array</code>.</p><div class="odoc-spec"><div class="spec module" id="module-Exceptionless" class="anchored"><a href="#module-Exceptionless" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Exceptionless/index.html">Exceptionless</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Operations on <code>Array</code> without exceptions.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Labels" class="anchored"><a href="#module-Labels" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Labels/index.html">Labels</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Operations on <code>Array</code> with labels.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Cap" class="anchored"><a href="#module-Cap" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Cap/index.html">Cap</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Incubator" class="anchored"><a href="#module-Incubator" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Incubator/index.html">Incubator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>