<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>String (bos.Bos_setup.String)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">bos</a> &#x00BB; <a href="../index.html">Bos_setup</a> &#x00BB; String</nav><header class="odoc-preamble"><h1>Module <code><span>Bos_setup.String</span></code></h1></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">struct</span> <span class="keyword">include</span> <a href="../../../astring/Astring/String/index.html">Astring.String</a> <span class="keyword">end</span></span></code></summary><p>Strings, <a href="../../../astring/Astring/String/Sub/index.html">substrings</a>, string <a href="../../../astring/Astring/String/Set/index.html">sets</a> and <a href="../../../astring/Astring/String/Map/index.html">maps</a>.</p><p>A string <code>s</code> of length <code>l</code> is a zero-based indexed sequence of <code>l</code> bytes. An index <code>i</code> of <code>s</code> is an integer in the range [<code>0</code>;<code>l-1</code>], it represents the <code>i</code>th byte of <code>s</code> which can be accessed using the string indexing operator <code>s.[i]</code>.</p><p><b>Important.</b> OCaml's <code>string</code>s became immutable since 4.02. Whenever possible compile your code with the <code>-safe-string</code> option. This module does not expose any mutable operation on strings and <b>assumes</b> strings are immutable. See the <span class="xref-unresolved">porting guide</span>.</p><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = string</span></code></div><div class="spec-doc"><p>The type for strings. Finite sequences of immutable bytes.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : string</span></code></div><div class="spec-doc"><p><code>empty</code> is an empty string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-v" class="anchored"><a href="#val-v" class="anchor"></a><code><span><span class="keyword">val</span> v : <span>len:int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> char)</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>v len f</code> is a string <code>s</code> of length <code>len</code> with <code>s.[i] = f
      i</code> for all indices <code>i</code> of <code>s</code>. <code>f</code> is invoked in increasing index order.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>len</code> is not in the range [<code>0</code>; <code>Sys</code>.max_string_length].</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-length" class="anchored"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span>string <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>length s</code> is the number of bytes in <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> char</span></code></div><div class="spec-doc"><p><code>get s i</code> is the byte of <code>s</code>' at index <code>i</code>. This is equivalent to the <code>s.[i]</code> notation.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>i</code> is not an index of <code>s</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-get_byte" class="anchored"><a href="#val-get_byte" class="anchor"></a><code><span><span class="keyword">val</span> get_byte : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>get_byte s i</code> is <code>Char.to_int (get s i)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-head" class="anchored"><a href="#val-head" class="anchor"></a><code><span><span class="keyword">val</span> head : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>char option</span></span></code></div><div class="spec-doc"><p><code>head s</code> is <code>Some (get s h)</code> with <code>h = 0</code> if <code>rev = false</code> (default) or <code>h = length s - 1</code> if <code>rev = true</code>. <code>None</code> is returned if <code>s</code> is empty.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_head" class="anchored"><a href="#val-get_head" class="anchor"></a><code><span><span class="keyword">val</span> get_head : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> char</span></code></div><div class="spec-doc"><p><code>get_head s</code> is like <a href="#val-head"><code>head</code></a> but </p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>s</code> is empty.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-hash" class="anchored"><a href="#val-hash" class="anchor"></a><code><span><span class="keyword">val</span> hash : <span>string <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>hash s</code> is <code>Hashtbl</code>.hash<code> s</code>.</p></div></div><h2 id="append"><a href="#append" class="anchor"></a>Appending strings</h2><div class="odoc-spec"><div class="spec value" id="val-append" class="anchored"><a href="#val-append" class="anchor"></a><code><span><span class="keyword">val</span> append : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>append s s'</code> appends <code>s'</code> to <code>s</code>. This is equivalent to <code>s ^ s'</code>.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the result is longer than <code>Sys</code>.max_string_length.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-concat" class="anchored"><a href="#val-concat" class="anchor"></a><code><span><span class="keyword">val</span> concat : <span>?sep:string <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>concat ~sep ss</code> concatenates the list of strings <code>ss</code>, separating each consecutive elements in the list <code>ss</code> with <code>sep</code> (defaults to <a href="#val-empty"><code>empty</code></a>).</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if the result is longer than <code>Sys</code>.max_string_length.</p></li></ul></div></div><h2 id="predicates"><a href="#predicates" class="anchor"></a>Predicates</h2><div class="odoc-spec"><div class="spec value" id="val-is_empty" class="anchored"><a href="#val-is_empty" class="anchor"></a><code><span><span class="keyword">val</span> is_empty : <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_empty s</code> is <code>length s = 0</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_prefix" class="anchored"><a href="#val-is_prefix" class="anchor"></a><code><span><span class="keyword">val</span> is_prefix : <span>affix:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_prefix ~affix s</code> is <code>true</code> iff <code>affix.[i] = s.[i]</code> for all indices <code>i</code> of <code>affix</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_infix" class="anchored"><a href="#val-is_infix" class="anchor"></a><code><span><span class="keyword">val</span> is_infix : <span>affix:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_infix ~affix s</code> is <code>true</code> iff there exists an index <code>j</code> in <code>s</code> such that for all indices <code>i</code> of <code>affix</code> we have <code>affix.[i] = s.[j + i]</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_suffix" class="anchored"><a href="#val-is_suffix" class="anchor"></a><code><span><span class="keyword">val</span> is_suffix : <span>affix:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_suffix ~affix s</code> is true iff <code>affix.[n - i] = s.[m - i]</code> for all indices <code>i</code> of <code>affix</code> with <code>n = String.length affix - 1</code> and <code>m =
      String.length s - 1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-for_all" class="anchored"><a href="#val-for_all" class="anchor"></a><code><span><span class="keyword">val</span> for_all : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>for_all p s</code> is <code>true</code> iff for all indices <code>i</code> of <code>s</code>, <code>p s.[i]
      = true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exists" class="anchored"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>exists p s</code> is <code>true</code> iff there exists an index <code>i</code> of <code>s</code> with <code>p s.[i] = true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>equal s s'</code> is <code>s = s'</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare s s'</code> is <code>Stdlib.compare s s'</code>, it compares the byte sequences of <code>s</code> and <code>s'</code> in lexicographical order.</p></div></div><h2 id="extract"><a href="#extract" class="anchor"></a>Extracting substrings</h2><p><b>Tip.</b> These functions extract substrings as new strings. Using <a href="../../../astring/Astring/String/Sub/index.html">substrings</a> may be less wasteful and more flexible.</p><div class="odoc-spec"><div class="spec value" id="val-with_range" class="anchored"><a href="#val-with_range" class="anchor"></a><code><span><span class="keyword">val</span> with_range : <span>?first:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>with_range ~first ~len s</code> are the consecutive bytes of <code>s</code> whose indices exist in the range [<code>first</code>;<code>first + len - 1</code>].</p><p><code>first</code> defaults to <code>0</code> and <code>len</code> to <code>max_int</code>. Note that <code>first</code> can be any integer and <code>len</code> any positive integer.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>len</code> is negative.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-with_index_range" class="anchored"><a href="#val-with_index_range" class="anchor"></a><code><span><span class="keyword">val</span> with_index_range : <span>?first:int <span class="arrow">&#45;&gt;</span></span> <span>?last:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>with_index_range ~first ~last s</code> are the consecutive bytes of <code>s</code> whose indices exist in the range [<code>first</code>;<code>last</code>].</p><p><code>first</code> defaults to <code>0</code> and <code>last</code> to <code>String.length s - 1</code>.</p><p>Note that both <code>first</code> and <code>last</code> can be any integer. If <code>first &gt; last</code> the interval is empty and the empty string is returned.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-trim" class="anchored"><a href="#val-trim" class="anchor"></a><code><span><span class="keyword">val</span> trim : <span>?drop:<span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>trim ~drop s</code> is <code>s</code> with prefix and suffix bytes satisfying <code>drop</code> in <code>s</code> removed. <code>drop</code> defaults to <a href="../../../astring/Astring/Char/Ascii/index.html#val-is_white"><code>Char.Ascii.is_white</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-span" class="anchored"><a href="#val-span" class="anchor"></a><code><span><span class="keyword">val</span> span : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>?min:int <span class="arrow">&#45;&gt;</span></span> <span>?max:int <span class="arrow">&#45;&gt;</span></span> <span>?sat:<span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span>
<span>string <span class="arrow">&#45;&gt;</span></span> string * string</span></code></div><div class="spec-doc"><p><code>span ~rev ~min ~max ~sat s</code> is <code>(l, r)</code> where:</p><ul><li>if <code>rev</code> is <code>false</code> (default), <code>l</code> is at least <code>min</code> and at most <code>max</code> consecutive <code>sat</code> satisfying initial bytes of <code>s</code> or <a href="#val-empty"><code>empty</code></a> if there are no such bytes. <code>r</code> are the remaining bytes of <code>s</code>.</li><li>if <code>rev</code> is <code>true</code>, <code>r</code> is at least <code>min</code> and at most <code>max</code> consecutive <code>sat</code> satisfying final bytes of <code>s</code> or <a href="#val-empty"><code>empty</code></a> if there are no such bytes. <code>l</code> are the remaining the bytes of <code>s</code>.</li></ul><p>If <code>max</code> is unspecified the span is unlimited. If <code>min</code> is unspecified it defaults to <code>0</code>. If <code>min &gt; max</code> the condition can't be satisfied and the left or right span, depending on <code>rev</code>, is always empty. <code>sat</code> defaults to <code>(fun _ -&gt; true)</code>.</p><p>The invariant <code>l ^ r = s</code> holds.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>max</code> or <code>min</code> is negative.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-take" class="anchored"><a href="#val-take" class="anchor"></a><code><span><span class="keyword">val</span> take : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>?min:int <span class="arrow">&#45;&gt;</span></span> <span>?max:int <span class="arrow">&#45;&gt;</span></span> <span>?sat:<span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>take ~rev ~min ~max ~sat s</code> is the matching span of <a href="#val-span"><code>span</code></a> without the remaining one. In other words:</p><pre><code>(if rev then snd else fst) @@ span ~rev ~min ~max ~sat s</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-drop" class="anchored"><a href="#val-drop" class="anchor"></a><code><span><span class="keyword">val</span> drop : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>?min:int <span class="arrow">&#45;&gt;</span></span> <span>?max:int <span class="arrow">&#45;&gt;</span></span> <span>?sat:<span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>drop ~rev ~min ~max ~sat s</code> is the remaining span of <a href="#val-span"><code>span</code></a> without the matching span. In other words:</p><pre><code>(if rev then fst else snd) @@ span ~rev ~min ~max ~sat s</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-cut" class="anchored"><a href="#val-cut" class="anchor"></a><code><span><span class="keyword">val</span> cut : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>sep:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(string * string)</span> option</span></span></code></div><div class="spec-doc"><p><code>cut ~sep s</code> is either the pair <code>Some (l,r)</code> of the two (possibly empty) substrings of <code>s</code> that are delimited by the first match of the non empty separator string <code>sep</code> or <code>None</code> if <code>sep</code> can't be matched in <code>s</code>. Matching starts from the beginning of <code>s</code> (<code>rev</code> is <code>false</code>, default) or the end (<code>rev</code> is <code>true</code>).</p><p>The invariant <code>l ^ sep ^ r = s</code> holds.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>sep</code> is the empty string.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-cuts" class="anchored"><a href="#val-cuts" class="anchor"></a><code><span><span class="keyword">val</span> cuts : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>?empty:bool <span class="arrow">&#45;&gt;</span></span> <span>sep:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>cuts sep s</code> is the list of all substrings of <code>s</code> that are delimited by matches of the non empty separator string <code>sep</code>. Empty substrings are omitted in the list if <code>empty</code> is <code>false</code> (defaults to <code>true</code>).</p><p>Matching separators in <code>s</code> starts from the beginning of <code>s</code> (<code>rev</code> is <code>false</code>, default) or the end (<code>rev</code> is <code>true</code>). Once one is found, the separator is skipped and matching starts again, that is separator matches can't overlap. If there is no separator match in <code>s</code>, the list <code>[s]</code> is returned.</p><p>The following invariants hold:</p><ul><li><code>concat ~sep (cuts ~empty:true ~sep s) = s</code></li><li><code>cuts ~empty:true ~sep s &lt;&gt; []</code></li></ul><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>sep</code> is the empty string.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fields" class="anchored"><a href="#val-fields" class="anchor"></a><code><span><span class="keyword">val</span> fields : <span>?empty:bool <span class="arrow">&#45;&gt;</span></span> <span>?is_sep:<span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>fields ~empty ~is_sep s</code> is the list of (possibly empty) substrings that are delimited by bytes for which <code>is_sep</code> is <code>true</code>. Empty substrings are omitted in the list if <code>empty</code> is <code>false</code> (defaults to <code>true</code>). <code>is_sep</code> defaults to <a href="../../../astring/Astring/Char/Ascii/index.html#val-is_white"><code>Char.Ascii.is_white</code></a>.</p></div></div><h2 id="subs"><a href="#subs" class="anchor"></a>Substrings</h2><div class="odoc-spec"><div class="spec type" id="type-sub" class="anchored"><a href="#type-sub" class="anchor"></a><code><span><span class="keyword">type</span> sub</span><span> = <a href="../../../astring/Astring/String/index.html#type-sub">Astring.String.sub</a></span></code></div><div class="spec-doc"><p>The type for <a href="../../../astring/Astring/String/Sub/index.html">substrings</a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span>?start:int <span class="arrow">&#45;&gt;</span></span> <span>?stop:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-sub">sub</a></span></code></div><div class="spec-doc"><p><code>sub</code> is <a href="../../../astring/Astring/String/Sub/index.html#val-v"><code>Sub.v</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub_with_range" class="anchored"><a href="#val-sub_with_range" class="anchor"></a><code><span><span class="keyword">val</span> sub_with_range : <span>?first:int <span class="arrow">&#45;&gt;</span></span> <span>?len:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-sub">sub</a></span></code></div><div class="spec-doc"><p><code>sub_with_range</code> is like <a href="#val-with_range"><code>with_range</code></a> but returns a substring value. If <code>first</code> is smaller than <code>0</code> the empty string at the start of <code>s</code> is returned. If <code>first</code> is greater than the last index of <code>s</code> the empty string at the end of <code>s</code> is returned.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub_with_index_range" class="anchored"><a href="#val-sub_with_index_range" class="anchor"></a><code><span><span class="keyword">val</span> sub_with_index_range : <span>?first:int <span class="arrow">&#45;&gt;</span></span> <span>?last:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-sub">sub</a></span></code></div><div class="spec-doc"><p><code>sub_with_index_range</code> is like <a href="#val-with_index_range"><code>with_index_range</code></a> but returns a substring value. If <code>first</code> and <code>last</code> are smaller than <code>0</code> the empty string at the start of <code>s</code> is returned. If <code>first</code> and is greater than the last index of <code>s</code> the empty string at the end of <code>s</code> is returned. If <code>first &gt; last</code> and <code>first</code> is an index of <code>s</code> the empty string at <code>first</code> is returned.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Sub" class="anchored"><a href="#module-Sub" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>Sub</span><span> = <a href="../../../astring/Astring/String/Sub/index.html">Astring.String.Sub</a></span></code></div><div class="spec-doc"><p>Substrings.</p></div></div><h2 id="traverse"><a href="#traverse" class="anchor"></a>Traversing strings</h2><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>?start:int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>find ~rev ~start sat s</code> is:</p><ul><li>If <code>rev</code> is <code>false</code> (default). The smallest index <code>i</code>, if any, greater or equal to <code>start</code> such that <code>sat s.[i]</code> is <code>true</code>. <code>start</code> defaults to <code>0</code>.</li><li>If <code>rev</code> is <code>true</code>. The greatest index <code>i</code>, if any, smaller or equal to <code>start</code> such that <code>sat s.[i]</code> is <code>true</code>. <code>start</code> defaults to <code>String.length s - 1</code>.</li></ul><p>Note that <code>start</code> can be any integer.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_sub" class="anchored"><a href="#val-find_sub" class="anchor"></a><code><span><span class="keyword">val</span> find_sub : <span>?rev:bool <span class="arrow">&#45;&gt;</span></span> <span>?start:int <span class="arrow">&#45;&gt;</span></span> <span>sub:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>find_sub ~rev ~start ~sub s</code> is:</p><ul><li>If <code>rev</code> is <code>false</code> (default). The smallest index <code>i</code>, if any, greater or equal to <code>start</code> such that <code>sub</code> can be found starting at <code>i</code> in <code>s</code> that is <code>s.[i] = sub.[0]</code>, <code>s.[i+1] = sub.[1]</code>, ... <code>start</code> defaults to <code>0</code>.</li><li>If <code>rev</code> is <code>true</code>. The greatest index <code>i</code>, if any, smaller or equal to <code>start</code> such that <code>sub</code> can be found starting at <code>i</code> in <code>s</code> that is <code>s.[i] = sub.[0]</code>, <code>s.[i+1] = sub.[1]</code>, ... <code>start</code> defaults to <code>String.length s - 1</code>.</li></ul><p>Note that <code>start</code> can be any integer.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter" class="anchored"><a href="#val-filter" class="anchor"></a><code><span><span class="keyword">val</span> filter : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>filter sat s</code> is the string made of the bytes of <code>s</code> that satisfy <code>sat</code>, in the same order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-filter_map" class="anchored"><a href="#val-filter_map" class="anchor"></a><code><span><span class="keyword">val</span> filter_map : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> <span>char option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>filter_map f s</code> is the string made of the bytes of <code>s</code> as mapped by <code>f</code>, in the same order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> char)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>map f s</code> is <code>s'</code> with <code>s'.[i] = f s.[i]</code> for all indices <code>i</code> of <code>s</code>. <code>f</code> is invoked in increasing index order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mapi" class="anchored"><a href="#val-mapi" class="anchor"></a><code><span><span class="keyword">val</span> mapi : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> char)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>mapi f s</code> is <code>s'</code> with <code>s'.[i] = f i s.[i]</code> for all indices <code>i</code> of <code>s</code>. <code>f</code> is invoked in increasing index order.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_left" class="anchored"><a href="#val-fold_left" class="anchor"></a><code><span><span class="keyword">val</span> fold_left : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>fold_left f acc s</code> is <code>f (</code>...<code>(f (f acc s.[0]) s.[1])</code>...<code>) s.[m]</code> with <code>m = String.length s - 1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_right" class="anchored"><a href="#val-fold_right" class="anchor"></a><code><span><span class="keyword">val</span> fold_right : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>fold_right f s acc</code> is <code>f s.[0] (f s.[1] (</code>...<code>(f s.[m] acc) )</code>...<code>)</code> with <code>m = String.length s - 1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span>char <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f s</code> is <code>f s.[0]; f s.[1];</code> ... <code>f s.[m]</code> with <code>m = String.length s - 1</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iteri" class="anchored"><a href="#val-iteri" class="anchor"></a><code><span><span class="keyword">val</span> iteri : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iteri f s</code> is <code>f 0 s.[0]; f 1 s.[1];</code> ... <code>f m s.[m]</code> with <code>m = String.length s - 1</code>.</p></div></div><h2 id="unique"><a href="#unique" class="anchor"></a>Uniqueness</h2><div class="odoc-spec"><div class="spec value" id="val-uniquify" class="anchored"><a href="#val-uniquify" class="anchor"></a><code><span><span class="keyword">val</span> uniquify : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>uniquify ss</code> is <code>ss</code> without duplicates, the list order is preserved.</p></div></div><h2 id="ascii"><a href="#ascii" class="anchor"></a>Strings as US-ASCII character sequences</h2><div class="odoc-spec"><div class="spec module" id="module-Ascii" class="anchored"><a href="#module-Ascii" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>Ascii</span><span> = <a href="../../../astring/Astring/String/Ascii/index.html">Astring.String.Ascii</a></span></code></div><div class="spec-doc"><p>US-ASCII string support.</p></div></div><h2 id="pp"><a href="#pp" class="anchor"></a>Pretty printing</h2><div class="odoc-spec"><div class="spec value" id="val-pp" class="anchored"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>pp ppf s</code> prints <code>s</code>'s bytes on <code>ppf</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dump" class="anchored"><a href="#val-dump" class="anchor"></a><code><span><span class="keyword">val</span> dump : <span><a href="../../../ocaml/Stdlib/Format/index.html#type-formatter">Format.formatter</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>dump ppf s</code> prints <code>s</code> as a syntactically valid OCaml string on <code>ppf</code> using <a href="../../../astring/Astring/String/Ascii/index.html#val-escape_string"><code>Ascii.escape_string</code></a>.</p></div></div><h2 id="string-sets-and-maps"><a href="#string-sets-and-maps" class="anchor"></a>String sets and maps</h2><div class="odoc-spec"><div class="spec type" id="type-set" class="anchored"><a href="#type-set" class="anchor"></a><code><span><span class="keyword">type</span> set</span><span> = <a href="../../../astring/Astring/String/index.html#type-set">Astring.String.set</a></span></code></div><div class="spec-doc"><p>The type for string sets.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Set" class="anchored"><a href="#module-Set" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>Set</span><span> = <a href="../../../astring/Astring/String/Set/index.html">Astring.String.Set</a></span></code></div><div class="spec-doc"><p>String sets.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Map" class="anchored"><a href="#module-Map" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>Map</span><span> = <a href="../../../astring/Astring/String/Map/index.html">Astring.String.Map</a></span></code></div><div class="spec-doc"><p>String maps.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-map" class="anchored"><a href="#type-map" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a map</span></span><span> = <span><span class="type-var">'a</span> <a href="../../../astring/Astring/String/Map/index.html#type-t">Map.t</a></span></span></code></div><div class="spec-doc"><p>The type for maps from strings to values of type 'a.</p></div></div><h2 id="convert"><a href="#convert" class="anchor"></a>OCaml base type conversions</h2><div class="odoc-spec"><div class="spec value" id="val-of_char" class="anchored"><a href="#val-of_char" class="anchor"></a><code><span><span class="keyword">val</span> of_char : <span>char <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>of_char c</code> is a string that contains the byte <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_char" class="anchored"><a href="#val-to_char" class="anchor"></a><code><span><span class="keyword">val</span> to_char : <span>string <span class="arrow">&#45;&gt;</span></span> <span>char option</span></span></code></div><div class="spec-doc"><p><code>to_char s</code> is the single byte in <code>s</code> or <code>None</code> if there is no byte or more than one in <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_bool" class="anchored"><a href="#val-of_bool" class="anchor"></a><code><span><span class="keyword">val</span> of_bool : <span>bool <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>of_bool b</code> is a string representation for <code>b</code>. Relies on <a href="../../../ocaml/Stdlib/index.html#val-string_of_bool"><code>Stdlib.string_of_bool</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_bool" class="anchored"><a href="#val-to_bool" class="anchor"></a><code><span><span class="keyword">val</span> to_bool : <span>string <span class="arrow">&#45;&gt;</span></span> <span>bool option</span></span></code></div><div class="spec-doc"><p><code>to_bool s</code> is a <code>bool</code> from <code>s</code>, if any. Relies on <a href="../../../ocaml/Stdlib/index.html#val-bool_of_string"><code>Stdlib.bool_of_string</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_int" class="anchored"><a href="#val-of_int" class="anchor"></a><code><span><span class="keyword">val</span> of_int : <span>int <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>of_int i</code> is a string representation for <code>i</code>. Relies on <a href="../../../ocaml/Stdlib/index.html#val-string_of_int"><code>Stdlib.string_of_int</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_int" class="anchored"><a href="#val-to_int" class="anchor"></a><code><span><span class="keyword">val</span> to_int : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p><code>to_int</code> is an <code>int</code> from <code>s</code>, if any. Relies on <a href="../../../ocaml/Stdlib/index.html#val-int_of_string"><code>Stdlib.int_of_string</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_nativeint" class="anchored"><a href="#val-of_nativeint" class="anchor"></a><code><span><span class="keyword">val</span> of_nativeint : <span>nativeint <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>of_nativeint i</code> is a string representation for <code>i</code>. Relies on <code>Nativeint</code>.of_string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_nativeint" class="anchored"><a href="#val-to_nativeint" class="anchor"></a><code><span><span class="keyword">val</span> to_nativeint : <span>string <span class="arrow">&#45;&gt;</span></span> <span>nativeint option</span></span></code></div><div class="spec-doc"><p><code>to_nativeint</code> is an <code>nativeint</code> from <code>s</code>, if any. Relies on <code>Nativeint</code>.to_string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_int32" class="anchored"><a href="#val-of_int32" class="anchor"></a><code><span><span class="keyword">val</span> of_int32 : <span>int32 <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>of_int32 i</code> is a string representation for <code>i</code>. Relies on <code>Int32</code>.of_string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_int32" class="anchored"><a href="#val-to_int32" class="anchor"></a><code><span><span class="keyword">val</span> to_int32 : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int32 option</span></span></code></div><div class="spec-doc"><p><code>to_int32</code> is an <code>int32</code> from <code>s</code>, if any. Relies on <code>Int32</code>.to_string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_int64" class="anchored"><a href="#val-of_int64" class="anchor"></a><code><span><span class="keyword">val</span> of_int64 : <span>int64 <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>of_int64 i</code> is a string representation for <code>i</code>. Relies on <code>Int64</code>.of_string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_int64" class="anchored"><a href="#val-to_int64" class="anchor"></a><code><span><span class="keyword">val</span> to_int64 : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int64 option</span></span></code></div><div class="spec-doc"><p><code>to_int64</code> is an <code>int64</code> from <code>s</code>, if any. Relies on <code>Int64</code>.to_string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_float" class="anchored"><a href="#val-of_float" class="anchor"></a><code><span><span class="keyword">val</span> of_float : <span>float <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>of_float f</code> is a string representation for <code>f</code>. Relies on <a href="../../../ocaml/Stdlib/index.html#val-string_of_float"><code>Stdlib.string_of_float</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_float" class="anchored"><a href="#val-to_float" class="anchor"></a><code><span><span class="keyword">val</span> to_float : <span>string <span class="arrow">&#45;&gt;</span></span> <span>float option</span></span></code></div><div class="spec-doc"><p><code>to_float s</code> is a <code>float</code> from <code>s</code>, if any. Relies on <a href="../../../ocaml/Stdlib/index.html#val-float_of_string"><code>Stdlib.float_of_string</code></a>.</p></div></div></details></div></div></body></html>