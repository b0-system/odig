<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Type_generic (typerep.Typerep_lib.Type_generic)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">typerep</a> &#x00BB; <a href="../index.html">Typerep_lib</a> &#x00BB; Type_generic</nav><header class="odoc-preamble"><h1>Module <code><span>Typerep_lib.Type_generic</span></code></h1><p>A computation is the type of an operation that can be applied to various different kind of types. It is expressed as a type with one parameter:</p><p>type 'a computation</p><p>Examples of computation:</p><p>type sexp_of_t = ('a -&gt; Sexp.t) computation</p><p>The term <code>generic</code> is used to refer to a specific implementation of a computation whose concrete implementation is programmed using the type representation of values.</p><p>For example, when one uses <code>with sexp</code> as a way to implement the <code>sexp_of_t</code> computation, the technique used is code generation at compile time. Another approach is to define a generic function <code>sexp_of_t</code> that inspects the representation of the type at runtime.</p><p>This module offers an abstraction over type rep in order to implement generics in a efficient way.</p><p>Provided from a user enough pieces of implementation regarding a particular computation, this module returns essentially the following function:</p><p>(** main function : get the computation from the typerep *) val of_typerep : 'a Typerep.t -&gt; <code> `generic of 'a computation </code></p><p>that allows one to get the generic computation operating on a given type <code>'a</code>.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-Variant_and_record_intf" class="anchored"><a href="#module-Variant_and_record_intf" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Variant_and_record_intf/index.html">Variant_and_record_intf</a></span><span> : <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../Variant_and_record_intf/index.html">Variant_and_record_intf</a></span></code></div><div class="spec-doc"><p>Place holder for common Variants and Fields interface</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Helper" class="anchored"><a href="#module-Helper" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Helper/index.html">Helper</a></span><span> (<a href="Helper/argument-1-A/index.html">A</a> : <a href="Variant_and_record_intf/module-type-S/index.html">Variant_and_record_intf.S</a>) (<a href="Helper/argument-2-B/index.html">B</a> : <a href="Variant_and_record_intf/module-type-S/index.html">Variant_and_record_intf.S</a>) : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Named" class="anchored"><a href="#module-type-Named" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Named/index.html">Named</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Computation" class="anchored"><a href="#module-type-Computation" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Computation/index.html">Computation</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Make_named_for_closure" class="anchored"><a href="#module-Make_named_for_closure" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Make_named_for_closure/index.html">Make_named_for_closure</a></span><span> (<a href="Make_named_for_closure/argument-1-X/index.html">X</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : <a href="module-type-Named/index.html">Named</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-Named/index.html#type-computation">computation</a></span> := <span><span class="type-var">'a</span> <a href="Make_named_for_closure/argument-1-X/index.html#type-t">X.t</a></span></span></span></code></div><div class="spec-doc"><p>Not all computations are arrow types. For example:</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Ident" class="anchored"><a href="#module-Ident" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Ident/index.html">Ident</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-S" class="anchored"><a href="#module-type-S" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-S/index.html">S</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Make" class="anchored"><a href="#module-Make" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Make/index.html">Make</a></span><span> (<a href="Make/argument-1-X/index.html">X</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span>) : <a href="module-type-S/index.html">S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="module-type-S/index.html#type-t">t</a></span> = <span><span class="type-var">'a</span> <a href="Make/argument-1-X/index.html#type-t">X.t</a></span></span></span></code></div><div class="spec-doc"><p>The <code>name</code> is used for debug information only in case of Broken_dependency. The <code>required</code> is to handle dependencies between generics at runtime. Example: if <code>X</code> is the module given to build a generic computation <code>G</code> that depends on three other computation <code>A,B,C</code> then X.required shall be <code> A.ident ; B.ident ; C.ident </code></p></div></div></div></body></html>