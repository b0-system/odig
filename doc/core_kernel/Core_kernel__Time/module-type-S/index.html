<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>S (core_kernel.Core_kernel__Time.S)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">core_kernel</a> &#x00BB; <a href="../index.html">Core_kernel__Time</a> &#x00BB; S</nav><h1>Module type <code>Core_kernel__Time.S</code></h1><nav class="toc"><ul><li><a href="#basic-operations-on-times">Basic operations on times</a></li><li><a href="#comparisons">Comparisons</a></li><li><a href="#conversions">Conversions</a></li><li><a href="#other-string-conversions">Other string conversions</a></li></ul></nav></header><div class="spec module" id="module-Time"><a href="#module-Time" class="anchor"></a><code><span class="keyword">module</span> <a href="Time/index.html">Time</a> : <a href="../../Core_kernel__/Time0_intf/index.html#module-type-S">Core_kernel__.Time0_intf.S</a></code></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec type" id="type-underlying"><a href="#type-underlying" class="anchor"></a><code><span class="keyword">type</span> underlying</code><code> = <a href="Time/index.html#type-underlying">Time.underlying</a></code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="Time/index.html#type-t">Time.t</a></code></dt></dl><dl><dt class="spec value" id="val-bin_t"><a href="#val-bin_t" class="anchor"></a><code><span class="keyword">val</span> bin_t : <a href="index.html#type-t">t</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></code></dt><dt class="spec value" id="val-bin_read_t"><a href="#val-bin_read_t" class="anchor"></a><code><span class="keyword">val</span> bin_read_t : <a href="index.html#type-t">t</a> <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></code></dt><dt class="spec value" id="val-__bin_read_t__"><a href="#val-__bin_read_t__" class="anchor"></a><code><span class="keyword">val</span> __bin_read_t__ : (<a href="../../Core_kernel__/Import/index.html#type-int">Core_kernel__.Import.int</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>) <a href="../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></code></dt><dt class="spec value" id="val-bin_reader_t"><a href="#val-bin_reader_t" class="anchor"></a><code><span class="keyword">val</span> bin_reader_t : <a href="index.html#type-t">t</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></code></dt><dt class="spec value" id="val-bin_size_t"><a href="#val-bin_size_t" class="anchor"></a><code><span class="keyword">val</span> bin_size_t : <a href="index.html#type-t">t</a> <a href="../../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></code></dt><dt class="spec value" id="val-bin_write_t"><a href="#val-bin_write_t" class="anchor"></a><code><span class="keyword">val</span> bin_write_t : <a href="index.html#type-t">t</a> <a href="../../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></code></dt><dt class="spec value" id="val-bin_writer_t"><a href="#val-bin_writer_t" class="anchor"></a><code><span class="keyword">val</span> bin_writer_t : <a href="index.html#type-t">t</a> <a href="../../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></code></dt><dt class="spec value" id="val-bin_shape_t"><a href="#val-bin_shape_t" class="anchor"></a><code><span class="keyword">val</span> bin_shape_t : <a href="../../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></code></dt><dt class="spec value" id="val-hash_fold_t"><a href="#val-hash_fold_t" class="anchor"></a><code><span class="keyword">val</span> hash_fold_t : <a href="../../../base/Base/Hash/index.html#type-state">Base.Hash.state</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../base/Base/Hash/index.html#type-state">Base.Hash.state</a></code></dt><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../base/Base/Hash/index.html#type-hash_value">Base.Hash.hash_value</a></code></dt><dt class="spec value" id="val-typerep_of_t"><a href="#val-typerep_of_t" class="anchor"></a><code><span class="keyword">val</span> typerep_of_t : <a href="index.html#type-t">t</a> <a href="../../../typerep/Typerep_lib/Std/Typerep/index.html#type-t">Typerep_lib.Std.Typerep.t</a></code></dt><dt class="spec value" id="val-typename_of_t"><a href="#val-typename_of_t" class="anchor"></a><code><span class="keyword">val</span> typename_of_t : <a href="index.html#type-t">t</a> <a href="../../../typerep/Typerep_lib/Typename/index.html#type-t">Typerep_lib.Std.Typename.t</a></code></dt></dl><div class="spec module" id="module-Span"><a href="#module-Span" class="anchor"></a><code><span class="keyword">module</span> Span = <a href="Time/index.html#module-Span">Time.Span</a></code></div><div class="spec module" id="module-Ofday"><a href="#module-Ofday" class="anchor"></a><code><span class="keyword">module</span> Ofday = <a href="Time/index.html#module-Ofday">Time.Ofday</a></code></div><div class="spec module" id="module-Replace_polymorphic_compare"><a href="#module-Replace_polymorphic_compare" class="anchor"></a><code><span class="keyword">module</span> Replace_polymorphic_compare = <a href="Time/index.html#module-Replace_polymorphic_compare">Time.Replace_polymorphic_compare</a></code></div><dl><dt class="spec value" id="val-(&gt;=.)"><a href="#val-(&gt;=.)" class="anchor"></a><code><span class="keyword">val</span> (&gt;=.) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&lt;=.)"><a href="#val-(&lt;=.)" class="anchor"></a><code><span class="keyword">val</span> (&lt;=.) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(=.)"><a href="#val-(=.)" class="anchor"></a><code><span class="keyword">val</span> (=.) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&gt;.)"><a href="#val-(&gt;.)" class="anchor"></a><code><span class="keyword">val</span> (&gt;.) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&lt;.)"><a href="#val-(&lt;.)" class="anchor"></a><code><span class="keyword">val</span> (&lt;.) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&lt;&gt;.)"><a href="#val-(&lt;&gt;.)" class="anchor"></a><code><span class="keyword">val</span> (&lt;&gt;.) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-robustly_compare"><a href="#val-robustly_compare" class="anchor"></a><code><span class="keyword">val</span> robustly_compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-diff"><a href="#val-diff" class="anchor"></a><code><span class="keyword">val</span> diff : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a></code></dt><dt class="spec value" id="val-next"><a href="#val-next" class="anchor"></a><code><span class="keyword">val</span> next : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-prev"><a href="#val-prev" class="anchor"></a><code><span class="keyword">val</span> prev : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-to_span_since_epoch"><a href="#val-to_span_since_epoch" class="anchor"></a><code><span class="keyword">val</span> to_span_since_epoch : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a></code></dt><dt class="spec value" id="val-of_span_since_epoch"><a href="#val-of_span_since_epoch" class="anchor"></a><code><span class="keyword">val</span> of_span_since_epoch : <a href="Time/Span/index.html#type-t">Span.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-(&gt;=)"><a href="#val-(&gt;=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;=) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&lt;=)"><a href="#val-(&lt;=)" class="anchor"></a><code><span class="keyword">val</span> (&lt;=) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(=)"><a href="#val-(=)" class="anchor"></a><code><span class="keyword">val</span> (=) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&gt;)"><a href="#val-(&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&gt;) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&lt;)"><a href="#val-(&lt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-(&lt;&gt;)"><a href="#val-(&lt;&gt;)" class="anchor"></a><code><span class="keyword">val</span> (&lt;&gt;) : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-min"><a href="#val-min" class="anchor"></a><code><span class="keyword">val</span> min : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-max"><a href="#val-max" class="anchor"></a><code><span class="keyword">val</span> max : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-ascending"><a href="#val-ascending" class="anchor"></a><code><span class="keyword">val</span> ascending : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-descending"><a href="#val-descending" class="anchor"></a><code><span class="keyword">val</span> descending : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-between"><a href="#val-between" class="anchor"></a><code><span class="keyword">val</span> between : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> low:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> high:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-clamp_exn"><a href="#val-clamp_exn" class="anchor"></a><code><span class="keyword">val</span> clamp_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> min:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> max:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-clamp"><a href="#val-clamp" class="anchor"></a><code><span class="keyword">val</span> clamp : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> min:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> max:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../../base/Base/Or_error/index.html#type-t">Base.Or_error.t</a></code></dt></dl><dl><dt class="spec type" id="type-comparator_witness"><a href="#type-comparator_witness" class="anchor"></a><code><span class="keyword">type</span> comparator_witness</code><code> = <a href="Time/index.html#type-comparator_witness">Time.comparator_witness</a></code></dt></dl><dl><dt class="spec value" id="val-comparator"><a href="#val-comparator" class="anchor"></a><code><span class="keyword">val</span> comparator : (<a href="index.html#type-t">t</a>, <a href="index.html#type-comparator_witness">comparator_witness</a>) <a href="../../../base/Base/Comparator/index.html#type-comparator">Base.Comparator.comparator</a></code></dt><dt class="spec value" id="val-validate_lbound"><a href="#val-validate_lbound" class="anchor"></a><code><span class="keyword">val</span> validate_lbound : min:<a href="index.html#type-t">t</a> <a href="../../../base/Base/Maybe_bound/index.html#type-t">Base.Maybe_bound.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../../base/Base/Validate/index.html#type-check">Base.Validate.check</a></code></dt><dt class="spec value" id="val-validate_ubound"><a href="#val-validate_ubound" class="anchor"></a><code><span class="keyword">val</span> validate_ubound : max:<a href="index.html#type-t">t</a> <a href="../../../base/Base/Maybe_bound/index.html#type-t">Base.Maybe_bound.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../../base/Base/Validate/index.html#type-check">Base.Validate.check</a></code></dt><dt class="spec value" id="val-validate_bound"><a href="#val-validate_bound" class="anchor"></a><code><span class="keyword">val</span> validate_bound : min:<a href="index.html#type-t">t</a> <a href="../../../base/Base/Maybe_bound/index.html#type-t">Base.Maybe_bound.t</a> <span>&#45;&gt;</span> max:<a href="index.html#type-t">t</a> <a href="../../../base/Base/Maybe_bound/index.html#type-t">Base.Maybe_bound.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <a href="../../../base/Base/Validate/index.html#type-check">Base.Validate.check</a></code></dt></dl><div class="spec module" id="module-Relative_to_unspecified_zone"><a href="#module-Relative_to_unspecified_zone" class="anchor"></a><code><span class="keyword">module</span> Relative_to_unspecified_zone = <a href="Time/index.html#module-Relative_to_unspecified_zone">Time.Relative_to_unspecified_zone</a></code></div><dl><dt class="spec value" id="val-now"><a href="#val-now" class="anchor"></a><code><span class="keyword">val</span> now : <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-now"><a href="#val-now" class="anchor"></a><code><span class="keyword">val</span> now : <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>now ()</code> returns a <code>t</code> representing the current time</p></dd></dl><div class="spec module" id="module-Zone"><a href="#module-Zone" class="anchor"></a><code><span class="keyword">module</span> <a href="Zone/index.html">Zone</a> : <a href="../../Core_kernel__/Time_intf/index.html#module-type-Zone">Core_kernel__.Time_intf.Zone</a> <span class="keyword">with</span> <span class="keyword">module</span> <a href="../../Core_kernel__/Time_intf/module-type-Zone/Time/index.html">Time</a> := <a href="index.html#module-Time">Time</a></code></div><section><header><h6 id="basic-operations-on-times"><a href="#basic-operations-on-times" class="anchor"></a>Basic operations on times</h6></header><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>add t s</code> adds the span <code>s</code> to time <code>t</code> and returns the resulting time.</p><p>NOTE: adding spans as a means of adding days is not accurate, and may run into trouble due to shifts in daylight savings time, float arithmetic issues, and leap seconds. See the comment at the top of Zone.mli for a more complete discussion of some of the issues of time-keeping. For spans that cross date boundaries, use date functions instead.</p></dd></dl><dl><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>sub t s</code> subtracts the span <code>s</code> from time <code>t</code> and returns the resulting time. See important note for <code>add</code>.</p></dd></dl><dl><dt class="spec value" id="val-diff"><a href="#val-diff" class="anchor"></a><code><span class="keyword">val</span> diff : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a></code></dt><dd><p><code>diff t1 t2</code> returns time <code>t1</code> minus time <code>t2</code>.</p></dd></dl><dl><dt class="spec value" id="val-abs_diff"><a href="#val-abs_diff" class="anchor"></a><code><span class="keyword">val</span> abs_diff : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a></code></dt><dd><p><code>abs_diff t1 t2</code> returns the absolute span of time <code>t1</code> minus time <code>t2</code>.</p></dd></dl></section><section><header><h6 id="comparisons"><a href="#comparisons" class="anchor"></a>Comparisons</h6></header><dl><dt class="spec value" id="val-is_earlier"><a href="#val-is_earlier" class="anchor"></a><code><span class="keyword">val</span> is_earlier : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> than:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a></code></dt><dt class="spec value" id="val-is_later"><a href="#val-is_later" class="anchor"></a><code><span class="keyword">val</span> is_later : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> than:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a></code></dt></dl></section><section><header><h6 id="conversions"><a href="#conversions" class="anchor"></a>Conversions</h6></header><dl><dt class="spec value" id="val-of_date_ofday"><a href="#val-of_date_ofday" class="anchor"></a><code><span class="keyword">val</span> of_date_ofday : zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Date0/index.html#type-t">Core_kernel__.Time_intf.Date.t</a> <span>&#45;&gt;</span> <a href="Time/Ofday/index.html#type-t">Ofday.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-of_date_ofday_precise"><a href="#val-of_date_ofday_precise" class="anchor"></a><code><span class="keyword">val</span> of_date_ofday_precise : <a href="../../Core_kernel__/Date0/index.html#type-t">Core_kernel__.Time_intf.Date.t</a> <span>&#45;&gt;</span> <a href="Time/Ofday/index.html#type-t">Ofday.t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> [ `Once of <a href="index.html#type-t">t</a> | `Twice of <a href="index.html#type-t">t</a> * <a href="index.html#type-t">t</a> | `Never of <a href="index.html#type-t">t</a> ]</code></dt><dd><p>Because timezone offsets change throughout the year (clocks go forward or back) some local times can occur twice or not at all. In the case that they occur twice, this function gives <code>`Twice</code> with both occurrences in order; if they do not occur at all, this function gives <code>`Never</code> with the time at which the local clock skips over the desired time of day.</p><p>Note that this is really only intended to work with DST transitions and not unusual or dramatic changes, like the calendar change in 1752 (run &quot;cal 9 1752&quot; in a shell to see). In particular it makes the assumption that midnight of each day is unambiguous.</p><p>Most callers should use <a href="index.html#val-of_date_ofday"><code>of_date_ofday</code></a> rather than this function. In the <code>`Twice</code> and <code>`Never</code> cases, <a href="index.html#val-of_date_ofday"><code>of_date_ofday</code></a> will return reasonable times for most uses.</p></dd></dl><dl><dt class="spec value" id="val-to_date_ofday"><a href="#val-to_date_ofday" class="anchor"></a><code><span class="keyword">val</span> to_date_ofday : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Date0/index.html#type-t">Core_kernel__.Time_intf.Date.t</a> * <a href="Time/Ofday/index.html#type-t">Ofday.t</a></code></dt><dt class="spec value" id="val-to_date_ofday_precise"><a href="#val-to_date_ofday_precise" class="anchor"></a><code><span class="keyword">val</span> to_date_ofday_precise : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Date0/index.html#type-t">Core_kernel__.Time_intf.Date.t</a> * <a href="Time/Ofday/index.html#type-t">Ofday.t</a> * [ `Only | `Also_at of <a href="index.html#type-t">t</a> | `Also_skipped of <a href="../../Core_kernel__/Date0/index.html#type-t">Core_kernel__.Time_intf.Date.t</a> * <a href="Time/Ofday/index.html#type-t">Ofday.t</a> ]</code></dt><dd><p>Always returns the <code>Date.t * Ofday.t</code> that <code>to_date_ofday</code> would have returned, and in addition returns a variant indicating whether the time is associated with a time zone transition.</p><pre>      - `Only         -&gt; there is a one-to-one mapping between [t]'s and
                         [Date.t * Ofday.t] pairs
      - `Also_at      -&gt; there is another [t] that maps to the same [Date.t * Ofday.t]
                         (this date/time pair happened twice because the clock fell back)
      - `Also_skipped -&gt; there is another [Date.t * Ofday.t] pair that never happened (due
                         to a jump forward) that [of_date_ofday] would map to the same
                         [t].</pre></dd></dl><dl><dt class="spec value" id="val-to_date"><a href="#val-to_date" class="anchor"></a><code><span class="keyword">val</span> to_date : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Date0/index.html#type-t">Core_kernel__.Time_intf.Date.t</a></code></dt><dt class="spec value" id="val-to_ofday"><a href="#val-to_ofday" class="anchor"></a><code><span class="keyword">val</span> to_ofday : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="Time/Ofday/index.html#type-t">Ofday.t</a></code></dt><dt class="spec value" id="val-reset_date_cache"><a href="#val-reset_date_cache" class="anchor"></a><code><span class="keyword">val</span> reset_date_cache : <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dd><p>For performance testing only; <code>reset_date_cache ()</code> resets an internal cache used to speed up <code>to_date</code> and related functions when called repeatedly on times that fall within the same day.</p></dd></dl><aside><p>Unlike <code>Time_ns</code>, this module purposely omits <code>max_value</code> and <code>min_value</code>: 1. They produce unintuitive corner cases because most people's mental models of time do not include +/- infinity as concrete values 2. In practice, when people ask for these values, it is for questionable uses, e.g., as null values to use in place of explicit options.</p></aside><dl><dt class="spec value" id="val-epoch"><a href="#val-epoch" class="anchor"></a><code><span class="keyword">val</span> epoch : <a href="index.html#type-t">t</a></code></dt><dd><p>midnight, Jan 1, 1970 in UTC</p></dd></dl><dl><dt class="spec value" id="val-convert"><a href="#val-convert" class="anchor"></a><code><span class="keyword">val</span> convert : from_tz:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> to_tz:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Date0/index.html#type-t">Core_kernel__.Time_intf.Date.t</a> <span>&#45;&gt;</span> <a href="Time/Ofday/index.html#type-t">Ofday.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Date0/index.html#type-t">Core_kernel__.Time_intf.Date.t</a> * <a href="Time/Ofday/index.html#type-t">Ofday.t</a></code></dt><dd><p>It's unspecified what happens if the given date/ofday/zone correspond to more than one date/ofday pair in the other zone.</p></dd></dl><dl><dt class="spec value" id="val-utc_offset"><a href="#val-utc_offset" class="anchor"></a><code><span class="keyword">val</span> utc_offset : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="Time/Span/index.html#type-t">Span.t</a></code></dt></dl></section><section><header><h6 id="other-string-conversions"><a href="#other-string-conversions" class="anchor"></a>Other string conversions</h6></header><div><div class="spec include"><div class="doc"><p>The <code>{to,of}_string</code> functions in <code>Time</code> convert to UTC time, because a local time zone is not necessarily available. They are generous in what they will read in.</p><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../Core_kernel__/Std_internal/index.html#module-type-Stringable">Core_kernel__.Std_internal.Stringable</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Core_kernel__/Std_internal/module-type-Stringable/index.html#type-t">t</a> := <a href="index.html#type-t">t</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-of_string"><a href="#val-of_string" class="anchor"></a><code><span class="keyword">val</span> of_string : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-to_filename_string"><a href="#val-to_filename_string" class="anchor"></a><code><span class="keyword">val</span> to_filename_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dd><p><code>to_filename_string t ~zone</code> converts <code>t</code> to string with format YYYY-MM-DD_HH-MM-SS.mmm which is suitable for using in filenames.</p></dd></dl><dl><dt class="spec value" id="val-of_filename_string"><a href="#val-of_filename_string" class="anchor"></a><code><span class="keyword">val</span> of_filename_string : <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>of_filename_string s ~zone</code> converts <code>s</code> that has format YYYY-MM-DD_HH-MM-SS.mmm into time.</p></dd></dl><dl><dt class="spec value" id="val-to_string_trimmed"><a href="#val-to_string_trimmed" class="anchor"></a><code><span class="keyword">val</span> to_string_trimmed : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dd><p>Same as <code>to_string_abs</code>, but removes trailing seconds and milliseconds if they are 0</p></dd></dl><dl><dt class="spec value" id="val-to_sec_string"><a href="#val-to_sec_string" class="anchor"></a><code><span class="keyword">val</span> to_sec_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dd><p>Same as <code>to_string_abs</code>, but without milliseconds</p></dd></dl><dl><dt class="spec value" id="val-of_localized_string"><a href="#val-of_localized_string" class="anchor"></a><code><span class="keyword">val</span> of_localized_string : zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>of_localized_string ~zone str</code> read in the given string assuming that it represents a time in zone and return the appropriate Time.t</p></dd></dl><dl><dt class="spec value" id="val-of_string_gen"><a href="#val-of_string_gen" class="anchor"></a><code><span class="keyword">val</span> of_string_gen : default_zone:(<a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a> <span>&#45;&gt;</span> <a href="Zone/index.html#type-t">Zone.t</a>) <span>&#45;&gt;</span> find_zone:(<a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a> <span>&#45;&gt;</span> <a href="Zone/index.html#type-t">Zone.t</a>) <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>of_string_gen ~default_zone ~find_zone s</code> attempts to parse <code>s</code> as a <code>t</code>, calling out to <code>default_zone</code> and <code>find_zone</code> as needed.</p></dd></dl><dl><dt class="spec value" id="val-to_string_abs"><a href="#val-to_string_abs" class="anchor"></a><code><span class="keyword">val</span> to_string_abs : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dd><p><code>to_string_abs ~zone t</code> returns a string that represents an absolute time, rather than a local time with an assumed time zone. This string can be round-tripped, even on a machine in a different time zone than the machine that wrote the string.</p><p>The string will display the date and of-day of <code>zone</code> together with <code>zone</code> as an offset from UTC.</p><p><code>to_string_abs_trimmed</code> is the same as <code>to_string_abs</code>, but drops trailing seconds and milliseconds if they are 0.</p><p>Note that the difference between <code>to_string</code> and <code>to_string_abs</code> is not that one returns an absolute time and one doesn't, but that <code>to_string_abs</code> lets you specify the time zone, while <code>to_string</code> takes it to be the local time zone.</p></dd></dl><dl><dt class="spec value" id="val-to_string_abs_trimmed"><a href="#val-to_string_abs_trimmed" class="anchor"></a><code><span class="keyword">val</span> to_string_abs_trimmed : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dt class="spec value" id="val-to_string_abs_parts"><a href="#val-to_string_abs_parts" class="anchor"></a><code><span class="keyword">val</span> to_string_abs_parts : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a> <a href="../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a></code></dt><dt class="spec value" id="val-to_string_iso8601_basic"><a href="#val-to_string_iso8601_basic" class="anchor"></a><code><span class="keyword">val</span> to_string_iso8601_basic : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dd><p><code>to_string_iso8601_basic</code> return a string representation of the following form: %Y-%m-%dT%H:%M:%S.%s%Z e.g. <code> to_string_iso8601_basic ~zone:Time.Zone.utc epoch = &quot;1970-01-01T00:00:00.000000Z&quot; </code></p></dd></dl><dl><dt class="spec value" id="val-occurrence"><a href="#val-occurrence" class="anchor"></a><code><span class="keyword">val</span> occurrence : [ `First_after_or_at | `Last_before_or_at ] <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> ofday:<a href="Time/Ofday/index.html#type-t">Ofday.t</a> <span>&#45;&gt;</span> zone:<a href="Zone/index.html#type-t">Zone.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>occurrence side time ~ofday ~zone</code> returns a <code>Time.t</code> that is the occurrence of ofday (in the given <code>zone</code>) that is the latest occurrence (&lt;=) <code>time</code> or the earliest occurrence (&gt;=) <code>time</code>, according to <code>side</code>.</p><p>NOTE: If the given time converted to wall clock time in the given zone is equal to ofday then the t returned will be equal to the t given.</p></dd></dl><dl><dt class="spec value" id="val-next_multiple"><a href="#val-next_multiple" class="anchor"></a><code><span class="keyword">val</span> next_multiple : ?&#8288;can_equal_after:<a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a> <span>&#45;&gt;</span> base:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> after:<a href="index.html#type-t">t</a> <span>&#45;&gt;</span> interval:<a href="Time/Span/index.html#type-t">Span.t</a> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>next_multiple ~base ~after ~interval</code> returns the smallest <code>time</code> of the form:</p><pre><code class="ml">time = base + k * interval</code></pre><p>where <code>k &gt;= 0</code> and <code>time &gt; after</code>. It is an error if <code>interval &lt;= 0</code>.</p><p>Supplying <code>~can_equal_after:true</code> allows the result to satisfy <code>time &gt;= after</code>.</p></dd></dl></section></div></body></html>