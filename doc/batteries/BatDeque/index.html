<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatDeque (batteries.BatDeque)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">batteries</a> &#x00BB; BatDeque</nav><header class="odoc-preamble"><h1>Module <code><span>BatDeque</span></code></h1><p>Functional double-ended queues</p></header><nav class="odoc-toc"><ul><li><a href="#construction">Construction</a></li><li><a href="#deconstruction">Deconstruction</a></li><li><a href="#basic-operations">Basic operations</a></li><li><a href="#transformation">Transformation</a></li><li><a href="#printing">Printing</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-dq" class="anchored"><a href="#type-dq" class="anchor"></a><code><span><span class="keyword">type</span> <span>+'a dq</span></span></code></div><div class="spec-doc"><p>The type of double-ended queues</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p>A synonym for convenience</p></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../BatEnum/module-type-Enumerable/index.html">BatEnum.Enumerable</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../BatEnum/module-type-Enumerable/index.html#type-enumerable">enumerable</a></span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-enumerable" class="anchored"><a href="#type-enumerable" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a enumerable</span></span><span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The data structure, e.g. <code>'a List.t</code></p></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../BatInterfaces/module-type-Mappable/index.html">BatInterfaces.Mappable</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <span>'a <a href="../BatInterfaces/module-type-Mappable/index.html#type-mappable">mappable</a></span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec type" id="type-mappable" class="anchored"><a href="#type-mappable" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a mappable</span></span><span> = <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>The data structure, e.g. <code>'a List.t</code></p></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-size" class="anchored"><a href="#val-size" class="anchor"></a><code><span><span class="keyword">val</span> size : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>size dq</code> is the number of elements in the <code>dq</code>. O(1)</p></div></div><h6 id="construction"><a href="#construction" class="anchor"></a>Construction</h6><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p>The empty deque.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cons" class="anchored"><a href="#val-cons" class="anchor"></a><code><span><span class="keyword">val</span> cons : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>cons x dq</code> adds <code>x</code> to the front of <code>dq</code>. O(1)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-snoc" class="anchored"><a href="#val-snoc" class="anchor"></a><code><span><span class="keyword">val</span> snoc : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>snoc x dq</code> adds <code>x</code> to the rear of <code>dq</code>. O(1)</p></div></div><h6 id="deconstruction"><a href="#deconstruction" class="anchor"></a>Deconstruction</h6><div class="odoc-spec"><div class="spec value" id="val-front" class="anchored"><a href="#val-front" class="anchor"></a><code><span><span class="keyword">val</span> front : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span> * <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span>)</span> option</span></span></code></div><div class="spec-doc"><p><code>front dq</code> returns <code>Some (x, dq')</code> iff <code>x</code> is at the front of <code>dq</code> and <code>dq'</code> is the rest of <code>dq</code> excluding <code>x</code>, and <code>None</code> if <code>dq</code> has no elements. O(1) amortized, O(n) worst case</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rear" class="anchored"><a href="#val-rear" class="anchor"></a><code><span><span class="keyword">val</span> rear : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> * <span class="type-var">'a</span>)</span> option</span></span></code></div><div class="spec-doc"><p><code>rear dq</code> returns <code>Some (dq', x)</code> iff <code>x</code> is at the rear of <code>dq</code> and <code>dq'</code> is the rest of <code>dq</code> excluding <code>x</code>, and <code>None</code> if <code>dq</code> has no elements. O(1) amortized, O(n) worst case</p></div></div><h6 id="basic-operations"><a href="#basic-operations" class="anchor"></a>Basic operations</h6><div class="odoc-spec"><div class="spec value" id="val-eq" class="anchored"><a href="#val-eq" class="anchor"></a><code><span><span class="keyword">val</span> eq : <span>?eq:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>eq dq1 dq2</code> is true if <code>dq1</code> and <code>dq2</code> have the same sequence of elements. A custom function can be optionally provided with the <code>eq</code> parameter (default is <code>Pervasives</code>.(=)).</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-rev" class="anchored"><a href="#val-rev" class="anchor"></a><code><span><span class="keyword">val</span> rev : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>rev dq</code> reverses <code>dq</code>. O(1)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_empty" class="anchored"><a href="#val-is_empty" class="anchor"></a><code><span><span class="keyword">val</span> is_empty : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_empty dq</code> returns <code>true</code> iff <code>dq</code> has no elements. O(1)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-at" class="anchored"><a href="#val-at" class="anchor"></a><code><span><span class="keyword">val</span> at : <span>?backwards:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>at ~backwards dq k</code> returns the <code>k</code>th element of <code>dq</code>, from the front if <code>backwards</code> is false, and from the rear if <code>backwards</code> is true. By default, <code>backwards = false</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-map" class="anchored"><a href="#val-map" class="anchor"></a><code><span><span class="keyword">val</span> map : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>map f dq</code> returns a deque where every element <code>x</code> of <code>dq</code> has been replaced with <code>f x</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mapi" class="anchored"><a href="#val-mapi" class="anchor"></a><code><span><span class="keyword">val</span> mapi : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>mapi f dq</code> returns a deque where every element <code>x</code> of <code>dq</code> has been replaced with <code>f n x</code>, where <code>n</code> is the position of <code>x</code> from the front of <code>dq</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iter f dq</code> calls <code>f x</code> on each element <code>x</code> of <code>dq</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iteri" class="anchored"><a href="#val-iteri" class="anchor"></a><code><span><span class="keyword">val</span> iteri : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>iteri f dq</code> calls <code>f n x</code> on each element <code>x</code> of <code>dq</code>. The first argument to <code>f</code> is the position of the element from the front of <code>dq</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span>?backwards:bool <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(int * <span class="type-var">'a</span>)</span> option</span></span></code></div><div class="spec-doc"><p><code>find ~backwards f dq</code> returns <code>Some (n, x)</code> if <code>x</code> at position <code>n</code> is such that <code>f x</code> is true, or <code>None</code> if there is no such element. The position <code>n</code> is from the rear if <code>backwards</code> is true, and from the front if <code>backwards</code> is <code>false</code>. By default, <code>backwards</code> is <code>false</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_left" class="anchored"><a href="#val-fold_left" class="anchor"></a><code><span><span class="keyword">val</span> fold_left : <span><span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span></span></code></div><div class="spec-doc"><p><code>fold_left f acc dq</code> is equivalent to <code>List.fold_left f acc
    (to_list dq)</code>, but more efficient. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold_right" class="anchored"><a href="#val-fold_right" class="anchor"></a><code><span><span class="keyword">val</span> fold_right : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span></span></code></div><div class="spec-doc"><p><code>fold_right f dq acc</code> is equivalent to <code>List.fold_right f
    (to_list dq) acc</code>, but more efficient. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-append" class="anchored"><a href="#val-append" class="anchor"></a><code><span><span class="keyword">val</span> append : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>append dq1 dq2</code> represents the concatenateion of <code>dq1</code> and <code>dq2</code>. O(min(m, n))</p></div></div><div class="odoc-spec"><div class="spec value" id="val-append_list" class="anchored"><a href="#val-append_list" class="anchor"></a><code><span><span class="keyword">val</span> append_list : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>append_list dq l</code> is equivalent to <code>append dq (of_list l)</code>, but more efficient. O(min(m, n))</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prepend_list" class="anchored"><a href="#val-prepend_list" class="anchor"></a><code><span><span class="keyword">val</span> prepend_list : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>prepend_list l dq</code> is equivalent to <code>append (of_list l) dq</code>, but more efficient. O(min(m, n))</p></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate_forward" class="anchored"><a href="#val-rotate_forward" class="anchor"></a><code><span><span class="keyword">val</span> rotate_forward : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p>A cyclic shift of deque elements from rear to front by one position. As a result, the front element becomes the rear element. Time: O(1) amortized, O(n) worst-case.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.3.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-rotate_backward" class="anchored"><a href="#val-rotate_backward" class="anchor"></a><code><span><span class="keyword">val</span> rotate_backward : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p>A cyclic shift of deque elements from front to rear by one position. As a result, the rear element becomes the front element. Time: O(1) amortized, O(n) worst-case.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.3.0</li></ul></div></div><h6 id="transformation"><a href="#transformation" class="anchor"></a>Transformation</h6><div class="odoc-spec"><div class="spec value" id="val-of_list" class="anchored"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>of_list l</code> is a deque representation of the elements of <code>l</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_list" class="anchored"><a href="#val-to_list" class="anchor"></a><code><span><span class="keyword">val</span> to_list : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> list</span></span></code></div><div class="spec-doc"><p><code>to_list dq</code> is a list representation of the elements of <code>dq</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_enum" class="anchored"><a href="#val-of_enum" class="anchor"></a><code><span><span class="keyword">val</span> of_enum : <span><span><span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span></span></code></div><div class="spec-doc"><p><code>of_enum e</code> is a deque representation of the elements of <code>e</code>. Consumes the enumeration <code>e</code>. O(n)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-enum" class="anchored"><a href="#val-enum" class="anchor"></a><code><span><span class="keyword">val</span> enum : <span><span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span></span></code></div><div class="spec-doc"><p><code>enum dq</code> is an enumeration of the elements of <code>dq</code> from the front to the rear. This function is O(1), but generating each element of the enumeration is amortized O(1), and O(n) worst case.</p></div></div><h6 id="printing"><a href="#printing" class="anchor"></a>Printing</h6><div class="odoc-spec"><div class="spec value" id="val-print" class="anchored"><a href="#val-print" class="anchor"></a><code><span><span class="keyword">val</span> print : <span>?first:string <span class="arrow">&#45;&gt;</span></span> <span>?last:string <span class="arrow">&#45;&gt;</span></span> <span>?sep:string <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="../BatIO/index.html#type-printer">BatIO.printer</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <a href="#type-dq">dq</a></span>, <span class="type-var">'b</span>)</span> <a href="../BatIO/index.html#type-printer">BatIO.printer</a></span></span></code></div><div class="spec-doc"><p>Print the contents of the deque. O(n)</p></div></div></div></body></html>