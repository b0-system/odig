<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Thread (ocaml.Thread)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">ocaml</a> &#x00BB; Thread</nav><h1>Module <code>Thread</code></h1><p>Lightweight threads.</p><nav class="toc"><ul><li><a href="#thread-creation-and-termination">Thread creation and termination</a></li><li><a href="#suspending-threads">Suspending threads</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The type of thread handles.</p></dd></dl><section><header><h2 id="thread-creation-and-termination"><a href="#thread-creation-and-termination" class="anchor"></a>Thread creation and termination</h2></header><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>Thread.create funct arg</code> creates a new thread of control, in which the function application <code>funct arg</code> is executed concurrently with the other threads of the program. The application of <code>Thread.create</code> returns the handle of the newly created thread. The new thread terminates when the application <code>funct arg</code> returns, either normally or by raising an uncaught exception. In the latter case, the exception is printed on standard error, but not propagated back to the parent thread. Similarly, the result of the application <code>funct arg</code> is discarded and not directly accessible to the parent thread.</p></dd></dl><dl><dt class="spec value" id="val-self"><a href="#val-self" class="anchor"></a><code><span class="keyword">val</span> self : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Return the thread currently executing.</p></dd></dl><dl><dt class="spec value" id="val-id"><a href="#val-id" class="anchor"></a><code><span class="keyword">val</span> id : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Return the identifier of the given thread. A thread identifier is an integer that identifies uniquely the thread. It can be used to build data structures indexed by threads.</p></dd></dl><dl><dt class="spec value" id="val-exit"><a href="#val-exit" class="anchor"></a><code><span class="keyword">val</span> exit : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Terminate prematurely the currently executing thread.</p></dd></dl><dl><dt class="spec value" id="val-kill"><a href="#val-kill" class="anchor"></a><code><span class="keyword">val</span> kill : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Terminate prematurely the thread whose handle is given. This functionality is available only with bytecode-level threads.</p></dd></dl></section><section><header><h2 id="suspending-threads"><a href="#suspending-threads" class="anchor"></a>Suspending threads</h2></header><dl><dt class="spec value" id="val-delay"><a href="#val-delay" class="anchor"></a><code><span class="keyword">val</span> delay : float <span>&#45;&gt;</span> unit</code></dt><dd><p><code>delay d</code> suspends the execution of the calling thread for <code>d</code> seconds. The other program threads continue to run during this time.</p></dd></dl><dl><dt class="spec value" id="val-join"><a href="#val-join" class="anchor"></a><code><span class="keyword">val</span> join : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>join th</code> suspends the execution of the calling thread until the thread <code>th</code> has terminated.</p></dd></dl><dl><dt class="spec value" id="val-wait_read"><a href="#val-wait_read" class="anchor"></a><code><span class="keyword">val</span> wait_read : <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>See <a href="index.html#val-wait_write"><code>Thread.wait_write</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-wait_write"><a href="#val-wait_write" class="anchor"></a><code><span class="keyword">val</span> wait_write : <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Suspend the execution of the calling thread until at least one character or EOF is available for reading (<a href="index.html#val-wait_read"><code>Thread.wait_read</code></a>) or one character can be written without blocking (<code>wait_write</code>) on the given Unix file descriptor.</p></dd></dl><dl><dt class="spec value" id="val-wait_timed_read"><a href="#val-wait_timed_read" class="anchor"></a><code><span class="keyword">val</span> wait_timed_read : <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> bool</code></dt><dd><p>See <a href="index.html#val-wait_timed_write"><code>Thread.wait_timed_write</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-wait_timed_write"><a href="#val-wait_timed_write" class="anchor"></a><code><span class="keyword">val</span> wait_timed_write : <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> <span>&#45;&gt;</span> float <span>&#45;&gt;</span> bool</code></dt><dd><p>Same as <a href="index.html#val-wait_read"><code>Thread.wait_read</code></a> and <a href="index.html#val-wait_write"><code>Thread.wait_write</code></a>, but wait for at most the amount of time given as second argument (in seconds). Return <code>true</code> if the file descriptor is ready for input/output and <code>false</code> if the timeout expired.</p></dd></dl><dl><dt class="spec value" id="val-select"><a href="#val-select" class="anchor"></a><code><span class="keyword">val</span> select : <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> list <span>&#45;&gt;</span> <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> list <span>&#45;&gt;</span> <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> list <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> list * <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> list * <a href="../Unix/index.html#type-file_descr">Unix.file_descr</a> list</code></dt><dd><p>Suspend the execution of the calling thread until input/output becomes possible on the given Unix file descriptors. The arguments and results have the same meaning as for <a href="../Unix/index.html#val-select"><code>Unix.select</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-wait_pid"><a href="#val-wait_pid" class="anchor"></a><code><span class="keyword">val</span> wait_pid : int <span>&#45;&gt;</span> int * <a href="../Unix/index.html#type-process_status">Unix.process_status</a></code></dt><dd><p><code>wait_pid p</code> suspends the execution of the calling thread until the Unix process specified by the process identifier <code>p</code> terminates. A pid <code>p</code> of <code>-1</code> means wait for any child. A pid of <code>0</code> means wait for any child in the same process group as the current process. Negative pid arguments represent process groups. Returns the pid of the child caught and its termination status, as per <a href="../Unix/index.html#val-wait"><code>Unix.wait</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-wait_signal"><a href="#val-wait_signal" class="anchor"></a><code><span class="keyword">val</span> wait_signal : int list <span>&#45;&gt;</span> int</code></dt><dd><p><code>wait_signal sigs</code> suspends the execution of the calling thread until the process receives one of the signals specified in the list <code>sigs</code>. It then returns the number of the signal received. Signal handlers attached to the signals in <code>sigs</code> will not be invoked. Do not call <code>wait_signal</code> concurrently from several threads on the same signals.</p></dd></dl><dl><dt class="spec value" id="val-yield"><a href="#val-yield" class="anchor"></a><code><span class="keyword">val</span> yield : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Re-schedule the calling thread without suspending it. This function can be used to give scheduling hints, telling the scheduler that now is a good time to switch to other threads.</p></dd></dl></section></div></body></html>