<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lbfgs (lbfgs.Lbfgs)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">lbfgs</a> &#x00BB; Lbfgs</nav><h1>Module <code>Lbfgs</code></h1><p>Binding to <a href="http://users.eecs.northwestern.edu/~nocedal/lbfgsb.html">L-BFGS-B</a>. These is a limited-memory quasi-Newton code for unconstrained and for bound-constrained optimization.</p><p>The authors of the original FORTRAN code expect that if you use their software in a publication, you quote one of these references:</p><ul><li>R. H. Byrd, P. Lu and J. Nocedal. A Limited Memory Algorithm for Bound Constrained Optimization, (1995), SIAM Journal on Scientific and Statistical Computing , 16, 5, pp. 1190-1208.</li><li>C. Zhu, R. H. Byrd and J. Nocedal. L-BFGS-B: Algorithm 778: L-BFGS-B, FORTRAN routines for large scale bound constrained optimization (1997), ACM Transactions on Mathematical Software, Vol 23, Num. 4, pp. 550-560.</li><li>J.L. Morales and J. Nocedal. L-BFGS-B: Remark on Algorithm 778: L-BFGS-B, FORTRAN routines for large scale bound constrained optimization (2011), to appear in ACM Transactions on Mathematical Software.</li></ul><dl><dt>version</dt><dd>0.9.2</dd></dl><nav class="toc"><ul><li><a href="#accessing-the-state">Accessing the state</a></li></ul></nav></header><dl><dt class="spec type" id="type-work"><a href="#type-work" class="anchor"></a><code><span class="keyword">type</span> work</code></dt><dd><p>Represent the memory space needed to solve a minimization problem. It is usually allocated automatically but it is possible to do it manually to, say, allocate it once only before a loop.</p></dd></dl><dl><dt class="spec exception" id="exception-Abnormal"><a href="#exception-Abnormal" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Abnormal</span> <span class="keyword">of</span> float * string</code></dt><dd><p><code>Abnormal(f, msg)</code> is raised if the routine terminated abnormally without being able to satisfy the termination conditions. In such an event, the variable <code>x</code> (see <a href="F/index.html#val-min"><code>F.min</code></a>) will contain the current best approximation found and <code>f</code> is the value of the target function at <code>x</code>. <code>msg</code> is a message containing additional information (returned by the original FORTRAN code).</p><p>If the error message is not precise enough, it is recommended to turn printing on to understand what is the problem.</p></dd></dl><dl><dt class="spec type" id="type-print"><a href="#type-print" class="anchor"></a><code><span class="keyword">type</span> print</code><code> = </code><table class="variant"><tr id="type-print.No" class="anchored"><td class="def constructor"><a href="#type-print.No" class="anchor"></a><code>| </code><code><span class="constructor">No</span></code></td><td class="doc"><p>No output is generated.</p></td></tr><tr id="type-print.Last" class="anchored"><td class="def constructor"><a href="#type-print.Last" class="anchor"></a><code>| </code><code><span class="constructor">Last</span></code></td><td class="doc"><p>Print one line at the last iteration.</p></td></tr><tr id="type-print.Every" class="anchored"><td class="def constructor"><a href="#type-print.Every" class="anchor"></a><code>| </code><code><span class="constructor">Every</span> <span class="keyword">of</span> int</code></td><td class="doc"><p><code>Every k</code> prints the value of the function and |proj gradient| every <code>k</code> iterations. Valid values are <code>0 &lt;= k &lt;= 98</code>, otherwise the closer value in that interval is used.</p></td></tr><tr id="type-print.Details" class="anchored"><td class="def constructor"><a href="#type-print.Details" class="anchor"></a><code>| </code><code><span class="constructor">Details</span></code></td><td class="doc"><p>Print details of every iteration (except vectors).</p></td></tr><tr id="type-print.All" class="anchored"><td class="def constructor"><a href="#type-print.All" class="anchor"></a><code>| </code><code><span class="constructor">All</span></code></td><td class="doc"><p>Print details of every iteration (except vectors) including changes of active set and final x.</p></td></tr><tr id="type-print.Full" class="anchored"><td class="def constructor"><a href="#type-print.Full" class="anchor"></a><code>| </code><code><span class="constructor">Full</span></code></td><td class="doc"><p>Print details of every iteration including x and g.</p></td></tr></table></dt><dd><p>Control of the frequency at which information is outputted.</p></dd></dl><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type</span> state</code></dt><dd><p>Holds informations on the current state of the computation that can help to decide whether to stop.</p></dd></dl><dl><dt class="spec module" id="module-F"><a href="#module-F" class="anchor"></a><code><span class="keyword">module</span> <a href="F/index.html">F</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Fortran Layout.</p></dd></dl><dl><dt class="spec module" id="module-C"><a href="#module-C" class="anchor"></a><code><span class="keyword">module</span> <a href="C/index.html">C</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>C layout.</p></dd></dl><dl><dt class="spec value" id="val-work"><a href="#val-work" class="anchor"></a><code><span class="keyword">val</span> work : ?&#8288;corrections:int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-work">work</a></code></dt><dd><p><code>work n</code> allocate the work space for a problem of size at most <code>n</code>.</p><dl><dt>parameter corrections</dt><dd><p>See <a href="F/index.html#val-min"><code>F.min</code></a>.</p></dd></dl></dd></dl><section><header><h3 id="accessing-the-state"><a href="#accessing-the-state" class="anchor"></a>Accessing the state</h3></header><dl><dt class="spec value" id="val-is_constrained"><a href="#val-is_constrained" class="anchor"></a><code><span class="keyword">val</span> is_constrained : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Tells whether the problem is constrained.</p></dd></dl><dl><dt class="spec value" id="val-nintervals"><a href="#val-nintervals" class="anchor"></a><code><span class="keyword">val</span> nintervals : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The total number of intervals explored in the search of Cauchy points.</p></dd></dl><dl><dt class="spec value" id="val-nskipped_updates"><a href="#val-nskipped_updates" class="anchor"></a><code><span class="keyword">val</span> nskipped_updates : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The total number of skipped BFGS updates before the current iteration.</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The number of current iteration.</p></dd></dl><dl><dt class="spec value" id="val-nupdates"><a href="#val-nupdates" class="anchor"></a><code><span class="keyword">val</span> nupdates : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The total number of BFGS updates prior the current iteration.</p></dd></dl><dl><dt class="spec value" id="val-nintervals_current"><a href="#val-nintervals_current" class="anchor"></a><code><span class="keyword">val</span> nintervals_current : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The number of intervals explored in the search of Cauchy point in the current iteration.</p></dd></dl><dl><dt class="spec value" id="val-neval"><a href="#val-neval" class="anchor"></a><code><span class="keyword">val</span> neval : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The total number of function and gradient evaluations.</p></dd></dl><dl><dt class="spec value" id="val-neval_current"><a href="#val-neval_current" class="anchor"></a><code><span class="keyword">val</span> neval_current : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int</code></dt><dd><p>The number of function value or gradient evaluations in the current iteration.</p></dd></dl><dl><dt class="spec value" id="val-previous_f"><a href="#val-previous_f" class="anchor"></a><code><span class="keyword">val</span> previous_f : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>Returns f(x) in the previous iteration.</p></dd></dl><dl><dt class="spec value" id="val-norm_dir"><a href="#val-norm_dir" class="anchor"></a><code><span class="keyword">val</span> norm_dir : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>2-norm of the line search direction vector.</p></dd></dl><dl><dt class="spec value" id="val-eps"><a href="#val-eps" class="anchor"></a><code><span class="keyword">val</span> eps : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>The machine precision epsmch generated by the code.</p></dd></dl><dl><dt class="spec value" id="val-time_cauchy"><a href="#val-time_cauchy" class="anchor"></a><code><span class="keyword">val</span> time_cauchy : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>The accumulated time spent on searching for Cauchy points.</p></dd></dl><dl><dt class="spec value" id="val-time_subspace_min"><a href="#val-time_subspace_min" class="anchor"></a><code><span class="keyword">val</span> time_subspace_min : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>The accumulated time spent on subspace minimization.</p></dd></dl><dl><dt class="spec value" id="val-time_line_search"><a href="#val-time_line_search" class="anchor"></a><code><span class="keyword">val</span> time_line_search : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>The accumulated time spent on line search.</p></dd></dl><dl><dt class="spec value" id="val-slope"><a href="#val-slope" class="anchor"></a><code><span class="keyword">val</span> slope : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>The slope of the line search function at the current point of line search.</p></dd></dl><dl><dt class="spec value" id="val-slope_init"><a href="#val-slope_init" class="anchor"></a><code><span class="keyword">val</span> slope_init : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>The slope of the line search function at the starting point of the line search.</p></dd></dl><dl><dt class="spec value" id="val-normi_grad"><a href="#val-normi_grad" class="anchor"></a><code><span class="keyword">val</span> normi_grad : <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> float</code></dt><dd><p>The infinity norm of the projected gradient</p></dd></dl></section></div></body></html>