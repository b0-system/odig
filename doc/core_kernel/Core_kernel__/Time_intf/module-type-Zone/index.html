<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Zone (core_kernel.Core_kernel__.Time_intf.Zone)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">core_kernel</a> &#x00BB; <a href="../../index.html">Core_kernel__</a> &#x00BB; <a href="../index.html">Time_intf</a> &#x00BB; Zone</nav><h1>Module type <code>Time_intf.Zone</code></h1></header><div class="spec module" id="module-Time"><a href="#module-Time" class="anchor"></a><code><span class="keyword">module</span> <a href="Time/index.html">Time</a> : <a href="../../Time0_intf/index.html#module-type-S">Core_kernel__.Time0_intf.S</a></code></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../Zone/index.html#module-type-S">Core_kernel__.Zone.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../Zone/module-type-S/index.html#type-t">t</a> = <a href="../../Zone/index.html#type-t">Core_kernel__.Zone.t</a> <span class="keyword">and</span> <span class="keyword">module</span> <a href="../../Zone/module-type-S/Time_in_seconds/index.html">Time_in_seconds</a> := <a href="index.html#module-Time">Time</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../../Zone/index.html#type-t">Core_kernel__.Zone.t</a></code></dt><dd><p>The type of a time-zone.</p><p>bin_io and sexp representations of Zone.t are the name of the zone, and not the full data that is read from disk when Zone.find is called. The full Zone.t is reconstructed on the receiving/reading side by reloading the zone file from disk. Any zone name that is accepted by <code>find</code> is acceptable in the bin_io and sexp representations.</p></dd></dl><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec value" id="val-sexp_of_t"><a href="#val-sexp_of_t" class="anchor"></a><code><span class="keyword">val</span> sexp_of_t : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a></code></dt><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Import/index.html#type-int">Core_kernel__.Import.int</a></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-input_tz_file"><a href="#val-input_tz_file" class="anchor"></a><code><span class="keyword">val</span> input_tz_file : zonename:<a href="../../Import/index.html#type-string">Core_kernel__.Import.string</a> <span>&#45;&gt;</span> filename:<a href="../../Import/index.html#type-string">Core_kernel__.Import.string</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>input_tz_file ~zonename ~filename</code> read in <code>filename</code> and return <code>t</code> with <code>name t</code> = <code>zonename</code></p></dd></dl><dl><dt class="spec value" id="val-likely_machine_zones"><a href="#val-likely_machine_zones" class="anchor"></a><code><span class="keyword">val</span> likely_machine_zones : <a href="../../Import/index.html#type-string">Core_kernel__.Import.string</a> <a href="../../Import/index.html#type-list">Core_kernel__.Import.list</a> <a href="../../Import/index.html#type-ref">Core_kernel__.Import.ref</a></code></dt><dd><p><code>likely_machine_zones</code> is a list of zone names that will be searched first when trying to determine the machine zone of a box. Setting this to a likely set of zones for your application will speed the very first use of the local timezone.</p></dd></dl><dl><dt class="spec value" id="val-of_utc_offset"><a href="#val-of_utc_offset" class="anchor"></a><code><span class="keyword">val</span> of_utc_offset : hours:<a href="../../Import/index.html#type-int">Core_kernel__.Import.int</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>of_utc_offset offset</code> returns a timezone with a static UTC offset (given in hours).</p></dd></dl><dl><dt class="spec value" id="val-utc"><a href="#val-utc" class="anchor"></a><code><span class="keyword">val</span> utc : <a href="index.html#type-t">t</a></code></dt><dd><p><code>utc</code> the UTC time zone. Included for convenience</p></dd></dl><dl><dt class="spec value" id="val-name"><a href="#val-name" class="anchor"></a><code><span class="keyword">val</span> name : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dt class="spec value" id="val-original_filename"><a href="#val-original_filename" class="anchor"></a><code><span class="keyword">val</span> original_filename : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Import/index.html#type-string">Core_kernel__.Import.string</a> <a href="../../Import/index.html#type-option">Core_kernel__.Import.option</a></code></dt><dd><p><code>original_filename t</code> return the filename <code>t</code> was loaded from (if any)</p></dd></dl><dl><dt class="spec value" id="val-digest"><a href="#val-digest" class="anchor"></a><code><span class="keyword">val</span> digest : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../Core_kernel/Md5/index.html#type-t">Core_kernel.Md5.t</a> <a href="../../Import/index.html#type-option">Core_kernel__.Import.option</a></code></dt><dd><p><code>digest t</code> return the MD5 digest of the file the t was created from (if any)</p></dd></dl><div class="spec module" id="module-Time_in_seconds"><a href="#module-Time_in_seconds" class="anchor"></a><code><span class="keyword">module</span> <a href="Time_in_seconds/index.html">Time_in_seconds</a> : <a href="../../Zone_intf/index.html#module-type-Time_in_seconds">Core_kernel__.Zone_intf.Time_in_seconds</a></code></div><dl><dt class="spec value" id="val-reset_transition_cache"><a href="#val-reset_transition_cache" class="anchor"></a><code><span class="keyword">val</span> reset_transition_cache : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dd><p>For performance testing only; <code>reset_transition_cache t</code> resets an internal cache in <code>t</code> used to speed up repeated lookups of the same clock shift transition.</p></dd></dl><dl><dt class="spec module" id="module-Index"><a href="#module-Index" class="anchor"></a><code><span class="keyword">module</span> <a href="Index/index.html">Index</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>A time zone index refers to a range of times delimited by DST transitions at one or both ends. Every time belongs to exactly one such range. The times of DST transitions themselves belong to the range for which they are the lower bound.</p></dd></dl><dl><dt class="spec value" id="val-index"><a href="#val-index" class="anchor"></a><code><span class="keyword">val</span> index : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time_in_seconds/index.html#type-t">Time_in_seconds.t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a></code></dt><dd><p>Gets the index of a time.</p></dd></dl><dl><dt class="spec value" id="val-index_of_relative"><a href="#val-index_of_relative" class="anchor"></a><code><span class="keyword">val</span> index_of_relative : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time_in_seconds/Relative_to_unspecified_zone/index.html#type-t">Time_in_seconds.Relative_to_unspecified_zone.t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a></code></dt><dt class="spec value" id="val-index_offset_from_utc_exn"><a href="#val-index_offset_from_utc_exn" class="anchor"></a><code><span class="keyword">val</span> index_offset_from_utc_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a> <span>&#45;&gt;</span> <a href="Time_in_seconds/Span/index.html#type-t">Time_in_seconds.Span.t</a></code></dt><dd><p>Gets the UTC offset of times in a specific range.</p><p>This can raise if you use an <code>Index.t</code> that is out of bounds for this <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-index_abbreviation_exn"><a href="#val-index_abbreviation_exn" class="anchor"></a><code><span class="keyword">val</span> index_abbreviation_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a> <span>&#45;&gt;</span> <a href="../../Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dd><p><code>index_abbreviation_exn t index</code> returns the abbreviation name (such as EDT, EST, JST) of given zone <code>t</code> for the range of <code>index</code>. This string conversion is one-way only, and cannot reliably be turned back into a <code>t</code>. This function reads and writes the zone's cached index. Raises if <code>index</code> is out of bounds for <code>t</code>.</p></dd></dl><dl><dt class="spec value" id="val-index_has_prev_clock_shift"><a href="#val-index_has_prev_clock_shift" class="anchor"></a><code><span class="keyword">val</span> index_has_prev_clock_shift : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a> <span>&#45;&gt;</span> <a href="../../Import/index.html#type-bool">Core_kernel__.Import.bool</a></code></dt><dd><p>Accessors for the DST transitions delimiting the start and end of a range, if any. The <code>_exn</code> accessors raise if there is no such transition. These accessors are split up to increase performance and improve allocation; they are intended as a low-level back-end for commonly-used time conversion functions. See <code>Time.Zone</code> and <code>Time_ns.Zone</code> for higher-level accessors that return an optional tuple for clock shifts in either direction.</p></dd></dl><dl><dt class="spec value" id="val-index_prev_clock_shift_time_exn"><a href="#val-index_prev_clock_shift_time_exn" class="anchor"></a><code><span class="keyword">val</span> index_prev_clock_shift_time_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a> <span>&#45;&gt;</span> <a href="Time_in_seconds/index.html#type-t">Time_in_seconds.t</a></code></dt><dt class="spec value" id="val-index_prev_clock_shift_amount_exn"><a href="#val-index_prev_clock_shift_amount_exn" class="anchor"></a><code><span class="keyword">val</span> index_prev_clock_shift_amount_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a> <span>&#45;&gt;</span> <a href="Time_in_seconds/Span/index.html#type-t">Time_in_seconds.Span.t</a></code></dt><dt class="spec value" id="val-index_has_next_clock_shift"><a href="#val-index_has_next_clock_shift" class="anchor"></a><code><span class="keyword">val</span> index_has_next_clock_shift : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a> <span>&#45;&gt;</span> <a href="../../Import/index.html#type-bool">Core_kernel__.Import.bool</a></code></dt><dt class="spec value" id="val-index_next_clock_shift_time_exn"><a href="#val-index_next_clock_shift_time_exn" class="anchor"></a><code><span class="keyword">val</span> index_next_clock_shift_time_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a> <span>&#45;&gt;</span> <a href="Time_in_seconds/index.html#type-t">Time_in_seconds.t</a></code></dt><dt class="spec value" id="val-index_next_clock_shift_amount_exn"><a href="#val-index_next_clock_shift_amount_exn" class="anchor"></a><code><span class="keyword">val</span> index_next_clock_shift_amount_exn : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Index/index.html#type-t">Index.t</a> <span>&#45;&gt;</span> <a href="Time_in_seconds/Span/index.html#type-t">Time_in_seconds.Span.t</a></code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-abbreviation"><a href="#val-abbreviation" class="anchor"></a><code><span class="keyword">val</span> abbreviation : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/index.html#type-t">Time.t</a> <span>&#45;&gt;</span> <a href="../../Import/index.html#type-string">Core_kernel__.Import.string</a></code></dt><dd><p><code>abbreviation t time</code> returns the abbreviation name (such as EDT, EST, JST) of given zone <code>t</code> at <code>time</code>. This string conversion is one-way only, and cannot reliably be turned back into a <code>t</code>. This function reads and writes the zone's cached index.</p></dd></dl><dl><dt class="spec value" id="val-absolute_time_of_relative_time"><a href="#val-absolute_time_of_relative_time" class="anchor"></a><code><span class="keyword">val</span> absolute_time_of_relative_time : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/Relative_to_unspecified_zone/index.html#type-t">Time.Relative_to_unspecified_zone.t</a> <span>&#45;&gt;</span> <a href="Time/index.html#type-t">Time.t</a></code></dt><dd><p><code>absolute_time_of_relative_time</code> and <code>relative_time_of_absolute_time</code> convert times between absolute (time from epoch in UTC) and relative (shifted according to time zone and daylight savings) forms. These are low level functions not intended for most clients. These functions read and write the zone's cached index.</p></dd></dl><dl><dt class="spec value" id="val-relative_time_of_absolute_time"><a href="#val-relative_time_of_absolute_time" class="anchor"></a><code><span class="keyword">val</span> relative_time_of_absolute_time : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Time/index.html#type-t">Time.t</a> <span>&#45;&gt;</span> <a href="Time/Relative_to_unspecified_zone/index.html#type-t">Time.Relative_to_unspecified_zone.t</a></code></dt><dt class="spec value" id="val-next_clock_shift"><a href="#val-next_clock_shift" class="anchor"></a><code><span class="keyword">val</span> next_clock_shift : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> strictly_after:<a href="Time/index.html#type-t">Time.t</a> <span>&#45;&gt;</span> (<a href="Time/index.html#type-t">Time.t</a> * <a href="Time/Span/index.html#type-t">Time.Span.t</a>) <a href="../../Import/index.html#type-option">Core_kernel__.Import.option</a></code></dt><dd><p>Takes a <code>Time.t</code> and returns the next <code>Time.t</code> strictly after it, if any, that the time zone UTC offset changes, and by how much it does so.</p></dd></dl><dl><dt class="spec value" id="val-prev_clock_shift"><a href="#val-prev_clock_shift" class="anchor"></a><code><span class="keyword">val</span> prev_clock_shift : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> at_or_before:<a href="Time/index.html#type-t">Time.t</a> <span>&#45;&gt;</span> (<a href="Time/index.html#type-t">Time.t</a> * <a href="Time/Span/index.html#type-t">Time.Span.t</a>) <a href="../../Import/index.html#type-option">Core_kernel__.Import.option</a></code></dt><dd><p>As <code>next_clock_shift</code>, but *at or before* the given time.</p></dd></dl></div></body></html>