<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>1-I (distributed.Distributed.Make.1-I)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">distributed</a> &#x00BB; <a href="../../index.html">Distributed</a> &#x00BB; <a href="../index.html">Make</a> &#x00BB; 1-I</nav><h1>Parameter <code>Make.1-I</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> 'a t</code></dt><dd><p>The monadic light weight thread type returning value <code>'a</code>.</p></dd></dl><dl><dt class="spec type" id="type-stream"><a href="#type-stream" class="anchor"></a><code><span class="keyword">type</span> 'a stream</code></dt><dd><p>An unbounded stream holding values of <code>'a</code>.</p></dd></dl><dl><dt class="spec type" id="type-input_channel"><a href="#type-input_channel" class="anchor"></a><code><span class="keyword">type</span> input_channel</code></dt><dd><p>A type to represent a non-blocking input channel</p></dd></dl><dl><dt class="spec type" id="type-output_channel"><a href="#type-output_channel" class="anchor"></a><code><span class="keyword">type</span> output_channel</code></dt><dd><p>A type to represent a non-blocking output channel</p></dd></dl><dl><dt class="spec type" id="type-server"><a href="#type-server" class="anchor"></a><code><span class="keyword">type</span> server</code></dt><dd><p>A type to represent a server</p></dd></dl><dl><dt class="spec exception" id="exception-Timeout"><a href="#exception-Timeout" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Timeout</span></code></dt><dd><p>Exception raised by <a href="index.html#val-timeout"><code>timeout</code></a> operation</p></dd></dl><dl><dt class="spec type" id="type-level"><a href="#type-level" class="anchor"></a><code><span class="keyword">type</span> level</code><code> = </code><table class="variant"><tr id="type-level.Debug" class="anchored"><td class="def constructor"><a href="#type-level.Debug" class="anchor"></a><code>| </code><code><span class="constructor">Debug</span></code></td></tr><tr id="type-level.Info" class="anchored"><td class="def constructor"><a href="#type-level.Info" class="anchor"></a><code>| </code><code><span class="constructor">Info</span></code></td></tr><tr id="type-level.Warning" class="anchored"><td class="def constructor"><a href="#type-level.Warning" class="anchor"></a><code>| </code><code><span class="constructor">Warning</span></code></td></tr><tr id="type-level.Error" class="anchored"><td class="def constructor"><a href="#type-level.Error" class="anchor"></a><code>| </code><code><span class="constructor">Error</span></code></td><td class="doc"><p>Type to represent levels of a log message.</p></td></tr></table></dt></dl><dl><dt class="spec value" id="val-lib_name"><a href="#val-lib_name" class="anchor"></a><code><span class="keyword">val</span> lib_name : string</code></dt><dd><p>The name of the implementation, for logging purposes.</p></dd></dl><dl><dt class="spec value" id="val-lib_version"><a href="#val-lib_version" class="anchor"></a><code><span class="keyword">val</span> lib_version : string</code></dt><dd><p>The version implementation, for logging purposes.</p></dd></dl><dl><dt class="spec value" id="val-lib_description"><a href="#val-lib_description" class="anchor"></a><code><span class="keyword">val</span> lib_description : string</code></dt><dd><p>A description of the implementation (e.g., the url of the code repository ), for logging purposes.</p></dd></dl><dl><dt class="spec value" id="val-return"><a href="#val-return" class="anchor"></a><code><span class="keyword">val</span> return : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>return v</code> creates a light weight thread returning <code>v</code>.</p></dd></dl><dl><dt class="spec value" id="val-(&gt;&gt;=)"><a href="#val-(&gt;&gt;=)" class="anchor"></a><code><span class="keyword">val</span> (&gt;&gt;=) : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>bind t f</code> is a thread which first waits for the thread <code>t</code> to terminate and then, if the thread succeeds, behaves as the application of function <code>f</code> to the return value of <code>t</code>. If the thread <code>t</code> fails, <code>bind t f</code> also fails, with the same exception.</p></dd></dl><dl><dt class="spec value" id="val-fail"><a href="#val-fail" class="anchor"></a><code><span class="keyword">val</span> fail : exn <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>fail e</code> is a thread that fails with the exception <code>e</code>.</p></dd></dl><dl><dt class="spec value" id="val-catch"><a href="#val-catch" class="anchor"></a><code><span class="keyword">val</span> catch : (unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> (exn <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>catch t f</code> is a thread that behaves as the thread <code>t ()</code> if this thread succeeds. If the thread <code>t ()</code> fails with some exception, <code>catch t f</code> behaves as the application of <code>f</code> to this exception.</p></dd></dl><dl><dt class="spec value" id="val-async"><a href="#val-async" class="anchor"></a><code><span class="keyword">val</span> async : (unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>async f starts</code> a thread without waiting for the result.</p></dd></dl><dl><dt class="spec value" id="val-create_stream"><a href="#val-create_stream" class="anchor"></a><code><span class="keyword">val</span> create_stream : unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-stream">stream</a> * (<span class="type-var">'a</span> option <span>&#45;&gt;</span> unit)</code></dt><dd><p><code>create ()</code> returns a new stream and a push function.</p></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <span class="type-var">'a</span> <a href="index.html#type-stream">stream</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> option <a href="index.html#type-t">t</a></code></dt><dd><p><code>get st</code> removes and returns the first element of the stream, if any. Will block if the stream is empty.</p></dd></dl><dl><dt class="spec value" id="val-stream_append"><a href="#val-stream_append" class="anchor"></a><code><span class="keyword">val</span> stream_append : <span class="type-var">'a</span> <a href="index.html#type-stream">stream</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-stream">stream</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-stream">stream</a></code></dt><dd><p><code>stream_append s1 s2</code> returns a <code>stream</code> which returns all elements of <code>s1</code>, then all elements of <code>s2</code>.</p></dd></dl><dl><dt class="spec value" id="val-close_input"><a href="#val-close_input" class="anchor"></a><code><span class="keyword">val</span> close_input : <a href="index.html#type-input_channel">input_channel</a> <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>close ch</code> closes the given channel immediately.</p></dd></dl><dl><dt class="spec value" id="val-close_output"><a href="#val-close_output" class="anchor"></a><code><span class="keyword">val</span> close_output : <a href="index.html#type-output_channel">output_channel</a> <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>close ch</code> closes the given channel. It performs all pending actions, flushes it and closes it.</p></dd></dl><dl><dt class="spec value" id="val-read_value"><a href="#val-read_value" class="anchor"></a><code><span class="keyword">val</span> read_value : <a href="index.html#type-input_channel">input_channel</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>read_value ic</code> reads a marshalled value from <code>ic</code>.</p></dd></dl><dl><dt class="spec value" id="val-write_value"><a href="#val-write_value" class="anchor"></a><code><span class="keyword">val</span> write_value : <a href="index.html#type-output_channel">output_channel</a> <span>&#45;&gt;</span> ?&#8288;flags:<a href="../../../../ocaml/Stdlib/Marshal/index.html#type-extern_flags">Stdlib.Marshal.extern_flags</a> list <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>write_value oc ?flags x</code> marshals the value <code>x</code> to <code>oc</code>.</p></dd></dl><dl><dt class="spec value" id="val-open_connection"><a href="#val-open_connection" class="anchor"></a><code><span class="keyword">val</span> open_connection : <a href="../../../../ocaml/Unix/index.html#type-sockaddr">Unix.sockaddr</a> <span>&#45;&gt;</span> (<a href="index.html#type-input_channel">input_channel</a> * <a href="index.html#type-output_channel">output_channel</a>) <a href="index.html#type-t">t</a></code></dt><dd><p><code>open_connection addr</code> opens a connection to the given address and returns two channels for using it.</p></dd></dl><dl><dt class="spec value" id="val-establish_server"><a href="#val-establish_server" class="anchor"></a><code><span class="keyword">val</span> establish_server : ?&#8288;backlog:int <span>&#45;&gt;</span> <a href="../../../../ocaml/Unix/index.html#type-sockaddr">Unix.sockaddr</a> <span>&#45;&gt;</span> (<a href="../../../../ocaml/Unix/index.html#type-sockaddr">Unix.sockaddr</a> <span>&#45;&gt;</span> (<a href="index.html#type-input_channel">input_channel</a> * <a href="index.html#type-output_channel">output_channel</a>) <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> <a href="index.html#type-server">server</a> <a href="index.html#type-t">t</a></code></dt><dd><p><code>establish_server ?backlog sockaddr f</code> creates a server which will listen for incoming connections. New connections are passed to <code>f</code>. Note that <code>f</code> must not raise any exception. Backlog is the argument passed to Lwt_unix.listen.</p></dd></dl><dl><dt class="spec value" id="val-shutdown_server"><a href="#val-shutdown_server" class="anchor"></a><code><span class="keyword">val</span> shutdown_server : <a href="index.html#type-server">server</a> <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>shutdown_server server</code> will shutdown <code>server</code>.</p></dd></dl><dl><dt class="spec value" id="val-log"><a href="#val-log" class="anchor"></a><code><span class="keyword">val</span> log : <a href="index.html#type-level">level</a> <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>log level message_formatter</code> logs a message at the specified level using the formatter provided.</p></dd></dl><dl><dt class="spec value" id="val-sleep"><a href="#val-sleep" class="anchor"></a><code><span class="keyword">val</span> sleep : float <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a></code></dt><dd><p><code>sleep d</code> is a thread that remains suspended for <code>d</code> seconds and then terminates.</p></dd></dl><dl><dt class="spec value" id="val-timeout"><a href="#val-timeout" class="anchor"></a><code><span class="keyword">val</span> timeout : float <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>timeout d</code> is a thread that remains suspended for <code>d</code> seconds and then fails with ​<em>xception:Timeout</em>.</p></dd></dl><dl><dt class="spec value" id="val-pick"><a href="#val-pick" class="anchor"></a><code><span class="keyword">val</span> pick : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> list <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>pick l</code> behaves as the first thread in l to terminate. If several threads are already terminated, one is chosen at random. Cancels all sleeping threads when one terminates.</p></dd></dl><dl><dt class="spec value" id="val-at_exit"><a href="#val-at_exit" class="anchor"></a><code><span class="keyword">val</span> at_exit : (unit <span>&#45;&gt;</span> unit <a href="index.html#type-t">t</a>) <span>&#45;&gt;</span> unit</code></dt><dd><p><code>at_exit fn</code> will call fn on program exit.</p></dd></dl></div></body></html>