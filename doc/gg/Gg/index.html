<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Gg (gg.Gg)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">gg</a> &#x00BB; Gg</nav><header class="odoc-preamble"><h1>Module <code><span>Gg</span></code></h1><p>Basic types for computer graphics.</p><p><code>Gg</code> defines types and functions for <a href="Float/index.html">floats</a>, <a href="#vectors">vectors</a>, <a href="#points">points</a>, <a href="#matrices">matrices</a>, <a href="#quaternions">quaternions</a>, <a href="#sizes">sizes</a>, <a href="#aboxes">axis aligned boxes</a>, <a href="#colors">colors</a>, <a href="Color/index.html#colorprofiles">color profiles</a>, <a href="#type-bigarray">linear bigarrays</a> and <a href="#type-raster">raster data</a>.</p><p>Consult the <a href="#basics">basics</a>. Open the module to use it, this defines only modules and types in your scope.</p><p><em>v0.9.3 - <a href="http://erratique.ch/software/gg">homepage</a></em></p></header><nav class="odoc-toc"><ul><li><a href="#float">Floats</a></li><li><a href="#vectors">Vectors</a></li><li><a href="#points">Points</a></li><li><a href="#quaternions">Quaternions</a></li><li><a href="#matrices">Matrices</a></li><li><a href="#sizes">Sizes</a></li><li><a href="#aboxes">Axis-aligned boxes</a></li><li><a href="#colors">Colors</a></li><li><a href="#bigarray">Linear bigarrays and bigarray buffers</a></li><li><a href="#raster">Raster data</a></li><li><a href="#basics">Basics</a><ul><li><a href="#conventions">Conventions</a></li><li><a href="#mathconv">Mathematical conventions</a></li><li><a href="#colornote">Note on colors</a></li><li><a href="#tipsremarks">Remarks and Tips</a></li></ul></li></ul></nav><div class="odoc-content"><h2 id="float"><a href="#float" class="anchor"></a>Floats</h2><div class="odoc-spec"><div class="spec module" id="module-Float" class="anchored"><a href="#module-Float" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Float/index.html">Float</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Floating point number utilities.</p></div></div><p>The following type are defined so that they can be used in vector modules. The matrix modules are <a href="#matrices">here</a>.</p><div class="odoc-spec"><div class="spec type" id="type-m2" class="anchored"><a href="#type-m2" class="anchor"></a><code><span><span class="keyword">type</span> m2</span></code></div><div class="spec-doc"><p>The type for 2x2 matrices.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-m3" class="anchored"><a href="#type-m3" class="anchor"></a><code><span><span class="keyword">type</span> m3</span></code></div><div class="spec-doc"><p>The type for 3x3 matrices.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-m4" class="anchored"><a href="#type-m4" class="anchor"></a><code><span><span class="keyword">type</span> m4</span></code></div><div class="spec-doc"><p>The type for 4x4 matrices.</p></div></div><h2 id="vectors"><a href="#vectors" class="anchor"></a>Vectors</h2><p>An n-dimensional <em>vector</em> <code>v</code> is a sequence of n, zero indexed, floating point <em>components</em>. We write <code>v</code><sub>i</sub> the ith component of a vector.</p><div class="odoc-spec"><div class="spec type" id="type-v2" class="anchored"><a href="#type-v2" class="anchor"></a><code><span><span class="keyword">type</span> v2</span></code></div><div class="spec-doc"><p>The type for 2D vectors.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-v3" class="anchored"><a href="#type-v3" class="anchor"></a><code><span><span class="keyword">type</span> v3</span></code></div><div class="spec-doc"><p>The type for 3D vectors.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-v4" class="anchored"><a href="#type-v4" class="anchor"></a><code><span><span class="keyword">type</span> v4</span></code></div><div class="spec-doc"><p>The type for 4D vectors.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-V" class="anchored"><a href="#module-type-V" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-V/index.html">V</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Implemented by all vector types.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-V2" class="anchored"><a href="#module-V2" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="V2/index.html">V2</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-V3" class="anchored"><a href="#module-V3" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="V3/index.html">V3</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-V4" class="anchored"><a href="#module-V4" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="V4/index.html">V4</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="points"><a href="#points" class="anchor"></a>Points</h2><p>An n-dimensional <em>point</em> <code>p</code> is a vector of the corresponding dimension. The components of the vector are the point's <em>coordinates</em>.</p><div class="odoc-spec"><div class="spec type" id="type-p2" class="anchored"><a href="#type-p2" class="anchor"></a><code><span><span class="keyword">type</span> p2</span><span> = <a href="#type-v2">v2</a></span></code></div><div class="spec-doc"><p>The type for 2D points.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-p3" class="anchored"><a href="#type-p3" class="anchor"></a><code><span><span class="keyword">type</span> p3</span><span> = <a href="#type-v3">v3</a></span></code></div><div class="spec-doc"><p>The type for 3D points.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-P" class="anchored"><a href="#module-type-P" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-P/index.html">P</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Implemented by all point types.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-P2" class="anchored"><a href="#module-P2" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="P2/index.html">P2</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-P3" class="anchored"><a href="#module-P3" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="P3/index.html">P3</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="quaternions"><a href="#quaternions" class="anchor"></a>Quaternions</h2><p>Unit <a href="http://mathworld.wolfram.com/Quaternion.html">quaternions</a> represent rotations in 3D space. They allow to smoothly interpolate between orientations. A quaternion is a 4D vector, whose components <code>x</code>, <code>y</code>, <code>z</code>, <code>w</code> represents the quaternion <code>x</code>i+ <code>y</code>j + <code>z</code>k + <code>w</code>.</p><div class="odoc-spec"><div class="spec type" id="type-quat" class="anchored"><a href="#type-quat" class="anchor"></a><code><span><span class="keyword">type</span> quat</span><span> = <a href="#type-v4">v4</a></span></code></div><div class="spec-doc"><p>The type for quaternions.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Quat" class="anchored"><a href="#module-Quat" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Quat/index.html">Quat</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="matrices"><a href="#matrices" class="anchor"></a>Matrices</h2><p>An <em>m</em>x<em>n</em> matrix <code>a</code> is an array of <em>m</em> rows and <em>n</em> columns of floating point <em>elements</em>. We write <code>a</code><sub>ij</sub> the element of <code>a</code> located at the ith row and jth column.</p><p>Matrix constructors specify matrix elements in <a href="http://en.wikipedia.org/wiki/Row-major_order">row-major order</a> so that matrix definitions look mathematically natural with proper code indentation. However elements are <em>stored</em> and <em>iterated</em> over in <a href="http://en.wikipedia.org/wiki/Column-major_order">column-major order</a>.</p><div class="odoc-spec"><div class="spec module-type" id="module-type-M" class="anchored"><a href="#module-type-M" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-M/index.html">M</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Implemented by all (square) matrix types.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-M2" class="anchored"><a href="#module-M2" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="M2/index.html">M2</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-M3" class="anchored"><a href="#module-M3" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="M3/index.html">M3</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-M4" class="anchored"><a href="#module-M4" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="M4/index.html">M4</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="sizes"><a href="#sizes" class="anchor"></a>Sizes</h2><p>An n-dimensional <em>size</em> <code>s</code> represents extents in n-dimensional space.</p><div class="odoc-spec"><div class="spec type" id="type-size1" class="anchored"><a href="#type-size1" class="anchor"></a><code><span><span class="keyword">type</span> size1</span><span> = float</span></code></div><div class="spec-doc"><p>The type for sizes in 1D space.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-size2" class="anchored"><a href="#type-size2" class="anchor"></a><code><span><span class="keyword">type</span> size2</span><span> = <a href="#type-v2">v2</a></span></code></div><div class="spec-doc"><p>The type for sizes in 2D space.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-size3" class="anchored"><a href="#type-size3" class="anchor"></a><code><span><span class="keyword">type</span> size3</span><span> = <a href="#type-v3">v3</a></span></code></div><div class="spec-doc"><p>The type for sizes in 3D space.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Size" class="anchored"><a href="#module-type-Size" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Size/index.html">Size</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Implemented by all size types.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Size1" class="anchored"><a href="#module-Size1" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Size1/index.html">Size1</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>In 1D space, <em>width</em> is the extent along the x-axis.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Size2" class="anchored"><a href="#module-Size2" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Size2/index.html">Size2</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>In 2D space, <em>width</em> is the extent along the x-axis and <em>height</em> the extent along the y-axis.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Size3" class="anchored"><a href="#module-Size3" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Size3/index.html">Size3</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>In 3D space, <em>width</em> is the extent along the x-axis, <em>height</em> the extent along the y-axis and <em>depth</em> the extent along the z-axis.</p></div></div><h2 id="aboxes"><a href="#aboxes" class="anchor"></a>Axis-aligned boxes</h2><p>An n-dimensional axis-aligned box <code>b</code> is defined by an n-dimensional point <code>o</code>, its <em>origin</em>, and an n-dimensional size <code>s</code>. Operations on boxes with negative sizes are undefined.</p><p>The space S(<code>b</code>) spanned by <code>b</code> is [<code>o</code><sub>0</sub>; <code>o</code><sub>0</sub> + <code>s</code><sub>0</sub>] x ... x [<code>o</code><sub>n-1</sub>; <code>o</code><sub>n-1</sub> + <code>s</code><sub>n-1</sub>]. The extremum points of this space are the box's <em>corners</em>. There is a distinguished n-dimensional <code>empty</code> box such that S(<code>empty</code>) is empty.</p><div class="odoc-spec"><div class="spec type" id="type-box1" class="anchored"><a href="#type-box1" class="anchor"></a><code><span><span class="keyword">type</span> box1</span></code></div><div class="spec-doc"><p>The type for 1D axis-aligned boxes (<a href="http://mathworld.wolfram.com/Interval.html">closed intervals</a>).</p></div></div><div class="odoc-spec"><div class="spec type" id="type-box2" class="anchored"><a href="#type-box2" class="anchor"></a><code><span><span class="keyword">type</span> box2</span></code></div><div class="spec-doc"><p>The type for 2D axis-aligned boxes (<a href="http://mathworld.wolfram.com/Rectangle.html">rectangles</a>).</p></div></div><div class="odoc-spec"><div class="spec type" id="type-box3" class="anchored"><a href="#type-box3" class="anchor"></a><code><span><span class="keyword">type</span> box3</span></code></div><div class="spec-doc"><p>The type for 3D axis-aligned boxes (<a href="http://mathworld.wolfram.com/Cuboid.html">cuboids</a>).</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-Box" class="anchored"><a href="#module-type-Box" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-Box/index.html">Box</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Implemented by all axis-aligned box types.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Box1" class="anchored"><a href="#module-Box1" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Box1/index.html">Box1</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Box2" class="anchored"><a href="#module-Box2" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Box2/index.html">Box2</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Box3" class="anchored"><a href="#module-Box3" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Box3/index.html">Box3</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="colors"><a href="#colors" class="anchor"></a>Colors</h2><div class="odoc-spec"><div class="spec type" id="type-color" class="anchored"><a href="#type-color" class="anchor"></a><code><span><span class="keyword">type</span> color</span><span> = <a href="#type-v4">v4</a></span></code></div><div class="spec-doc"><p>The type for colors, see <a href="Color/index.html#type-t">details</a>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Color" class="anchored"><a href="#module-Color" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Color/index.html">Color</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Colors and color profiles.</p></div></div><h2 id="bigarray"><a href="#bigarray" class="anchor"></a>Linear bigarrays and bigarray buffers</h2><div class="odoc-spec"><div class="spec type" id="type-bigarray" class="anchored"><a href="#type-bigarray" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) bigarray</span></span><span> = <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-c_layout">Bigarray.c_layout</a>)</span> <a href="../../ocaml/Stdlib/Bigarray/Array1/index.html#type-t">Bigarray.Array1.t</a></span></span></code></div><div class="spec-doc"><p>The type for linear bigarrays.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-buffer" class="anchored"><a href="#type-buffer" class="anchor"></a><code><span><span class="keyword">type</span> buffer</span><span> = </span><span>[ </span></code><table><tr id="type-buffer.Int8" class="anchored"><td class="def constructor"><a href="#type-buffer.Int8" class="anchor"></a><code><span>| </span></code><code><span>`Int8 <span class="keyword">of</span> <span><span>(int, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int8_signed_elt">Bigarray.int8_signed_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.Int16" class="anchored"><td class="def constructor"><a href="#type-buffer.Int16" class="anchor"></a><code><span>| </span></code><code><span>`Int16 <span class="keyword">of</span> <span><span>(int, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int16_signed_elt">Bigarray.int16_signed_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.Int32" class="anchored"><td class="def constructor"><a href="#type-buffer.Int32" class="anchor"></a><code><span>| </span></code><code><span>`Int32 <span class="keyword">of</span> <span><span>(int32, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int32_elt">Bigarray.int32_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.Int64" class="anchored"><td class="def constructor"><a href="#type-buffer.Int64" class="anchor"></a><code><span>| </span></code><code><span>`Int64 <span class="keyword">of</span> <span><span>(int64, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int64_elt">Bigarray.int64_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.UInt8" class="anchored"><td class="def constructor"><a href="#type-buffer.UInt8" class="anchor"></a><code><span>| </span></code><code><span>`UInt8 <span class="keyword">of</span> <span><span>(int, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int8_unsigned_elt">Bigarray.int8_unsigned_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.UInt16" class="anchored"><td class="def constructor"><a href="#type-buffer.UInt16" class="anchor"></a><code><span>| </span></code><code><span>`UInt16 <span class="keyword">of</span> <span><span>(int, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int16_unsigned_elt">Bigarray.int16_unsigned_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.UInt32" class="anchored"><td class="def constructor"><a href="#type-buffer.UInt32" class="anchor"></a><code><span>| </span></code><code><span>`UInt32 <span class="keyword">of</span> <span><span>(int32, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int32_elt">Bigarray.int32_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.UInt64" class="anchored"><td class="def constructor"><a href="#type-buffer.UInt64" class="anchor"></a><code><span>| </span></code><code><span>`UInt64 <span class="keyword">of</span> <span><span>(int64, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int64_elt">Bigarray.int64_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.Float16" class="anchored"><td class="def constructor"><a href="#type-buffer.Float16" class="anchor"></a><code><span>| </span></code><code><span>`Float16 <span class="keyword">of</span> <span><span>(int, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-int16_unsigned_elt">Bigarray.int16_unsigned_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.Float32" class="anchored"><td class="def constructor"><a href="#type-buffer.Float32" class="anchor"></a><code><span>| </span></code><code><span>`Float32 <span class="keyword">of</span> <span><span>(float, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-float32_elt">Bigarray.float32_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr><tr id="type-buffer.Float64" class="anchored"><td class="def constructor"><a href="#type-buffer.Float64" class="anchor"></a><code><span>| </span></code><code><span>`Float64 <span class="keyword">of</span> <span><span>(float, <a href="../../ocaml/Stdlib/Bigarray/index.html#type-float64_elt">Bigarray.float64_elt</a>)</span> <a href="#type-bigarray">bigarray</a></span></span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>The type for linear bigarray buffers.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Ba" class="anchored"><a href="#module-Ba" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Ba/index.html">Ba</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Linear bigarrays and bigarray buffers.</p></div></div><h2 id="raster"><a href="#raster" class="anchor"></a>Raster data</h2><div class="odoc-spec"><div class="spec type" id="type-raster" class="anchored"><a href="#type-raster" class="anchor"></a><code><span><span class="keyword">type</span> raster</span></code></div><div class="spec-doc"><p>The type for raster data.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Raster" class="anchored"><a href="#module-Raster" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Raster/index.html">Raster</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Raster data.</p></div></div><h2 id="basics"><a href="#basics" class="anchor"></a>Basics</h2><p><code>Gg</code> is designed to be opened in your module. This defines only types and modules in your scope, no values. Thus to use <code>Gg</code> start with : </p><pre><code>open Gg</code></pre><p>In the toplevel enter:</p><pre><code>&gt; #require &quot;gg.top&quot;;;</code></pre><p>to automatically open <code>Gg</code> and install printers for the types.</p><h3 id="conventions"><a href="#conventions" class="anchor"></a>Conventions</h3><p>Most types and their functions are defined with the following conventions. The type is first defined in <code>Gg</code>, like <a href="#type-v2"><code>v2</code></a> for 2D vectors, a module for it follows. The name of the module is the type name capitalized, e.g. <a href="V2/index.html"><code>V2</code></a> for 2D vectors and it has the following definitions:</p><ul><li>a type <code>t</code> equal to the original toplevel type (<a href="V2/index.html#type-t"><code>V2.t</code></a>).</li><li><code>dim</code>, an <code>int</code> value that indicates the dimensionality of the type (<a href="V2/index.html#val-dim"><code>V2.dim</code></a>).</li><li><code>v</code>, a constructor for the type (<a href="V2/index.html#val-v"><code>V2.v</code></a>).</li><li><code>pp</code> to convert values to a textual representation for debugging purposes and toplevel interaction <a href="V2/index.html#val-pp"><code>V2.pp</code></a>).</li><li><code>equal</code> and <code>compare</code> the standard functions that make a module a good functor argument (<a href="V2/index.html#val-equal"><code>V2.equal</code></a>, <a href="V2/index.html#val-compare"><code>V2.compare</code></a>).</li><li><code>equal_f</code> and <code>compare_f</code> which compare like <code>equal</code> and <code>compare</code> but allow to use a client provided function to compare floats (<a href="V2/index.html#val-equal_f"><code>V2.equal_f</code></a>, <a href="V2/index.html#val-compare_f"><code>V2.compare_f</code></a>).</li><li><code>ltr</code> and <code>tr</code> to apply linear and affine transforms on the type (<a href="V2/index.html#val-ltr"><code>V2.ltr</code></a>, <a href="V2/index.html#val-tr"><code>V2.tr</code></a>).</li><li>Other accessors (e.g. <a href="V2/index.html#val-x"><code>V2.x</code></a>), constants (e.g. <a href="V2/index.html#val-zero"><code>V2.zero</code></a>), functions (e.g. <a href="V2/index.html#val-dot"><code>V2.dot</code></a>) and predicates (e.g. <a href="V2/index.html#val-exists"><code>V2.exists</code></a>) specific to the type.</li><li>Modules that represent the same object but for different dimensions, like <a href="V2/index.html"><code>V2</code></a>, <a href="V3/index.html"><code>V3</code></a>, <a href="V4/index.html"><code>V4</code></a> for vectors, usually share a common signature. This common signature is collected in a module type defined in <code>Gg</code>, this signature is <a href="module-type-V/index.html"><code>V</code></a> for vectors.</li></ul><p>Some types are defined as simple abreviations. For example the type <a href="#type-p2"><code>p2</code></a> for 2D points is equal to <a href="#type-v2"><code>v2</code></a>. These types also have a module whose name is the type name capitalized, <a href="P2/index.html"><code>P2</code></a> in our example. However this module only provides alternate constructors, constants and accessors and the extended functionality specific to the type. You should fallback on the module of the abreviated type (<a href="V2/index.html"><code>V2</code></a> in our example) for other operations. The aim of these types is to make your code and signatures semantically clearer without the burden of explicit conversions.</p><p>Finally there are some types and modules like <a href="Color/index.html"><code>Color</code></a> whose structure is different because they provide specific functionality.</p><p>Here are a few other conventions :</p><ul><li>Numbers in names indicate dimensionality. For example <a href="M4/index.html#val-scale3"><code>M4.scale3</code></a> indicates scale in 3D space while <a href="M4/index.html#val-scale4"><code>M4.scale4</code></a> scale in 4D space.</li><li>Most functions take the value they act upon first. But exceptions abound, to match OCaml conventions, to have your curry or to match mathematical notation (e.g. <a href="V2/index.html#val-tr"><code>V2.tr</code></a>).</li><li>Conversion functions follow the <code>of_</code> conventions. Thus to convert a value of type <code>t'</code> to a value of type <code>t</code> look for the function named <code>T.of_t'</code>.</li></ul><p>To conclude note that it is sometimes hard to find the right place for a function. If you cannot find a function look into each of the modules of the types you want to act upon.</p><h3 id="mathconv"><a href="#mathconv" class="anchor"></a>Mathematical conventions</h3><ul><li>In 3D space we assume a <a href="http://mathworld.wolfram.com/Right-HandedCoordinateSystem.html">right-handed</a> coordinate system.</li><li>Angles are always given in radians (except in <a href="Float/index.html#val-rad_of_deg">this</a> function...).</li><li>In 2D space positive angles determine counter clockwise rotations.</li><li>In 3D space positive angles determine rotations directed according to the right hand rule.</li></ul><h3 id="colornote"><a href="#colornote" class="anchor"></a>Note on colors</h3><p>Values of type <a href="#type-color"><code>color</code></a> are in a <em>linear</em> sRGB space as this is the space to work in if you want to process colors correctly (e.g. for blending). The constructor <a href="Color/index.html#val-v_srgb"><code>Color.v_srgb</code></a> takes its parameters from a <em>non-linear</em> sRGB space and converts them to <em>linear</em> sRGB.</p><pre><code># let c = Color.v_srgb 0.5 0.5 0.5 1.0;;
- : Gg.color = (0.214041 0.214041 0.214041 1)</code></pre><p>This is the constructor you are likely to use when you specify color constants (e.g. to specify a color value matching a CSS color). If you need an sRGB color back from a <a href="#type-color"><code>color</code></a> value use <a href="Color/index.html#val-to_srgb"><code>Color.to_srgb</code></a>:</p><pre><code># Color.to_srgba c;;
- : Gg.Color.srgba = (0.5 0.5 0.5 1)</code></pre><h3 id="tipsremarks"><a href="#tipsremarks" class="anchor"></a>Remarks and Tips</h3><ul><li>Everything is tail-recursive.</li><li>Do not rely on the output of printer functions, they are subject to change. The only exception is the function <a href="Float/index.html#val-pp"><code>Float.pp</code></a> that output a lossless textual representation of floats. While the actual format is subject to change it will remain compatible with <code>float_of_string</code>.</li><li>All modules can be directly given as arguments to <code>Set.Make</code> and <code>Map.Make</code>. However this will use <code>Pervasives.compare</code> and thus binary comparison between floats. Depending on the intended use this may be sensible or not. Comparisons with alternate functions to compare floats can be defined by using the functions named <code>compare_f</code> (e.g. <a href="V2/index.html#val-compare_f"><code>V2.compare_f</code></a>). An alternate float comparison function is <a href="Float/index.html#val-compare_tol"><code>Float.compare_tol</code></a> that combines relative and absolute float comparison in a single test, see <a href="Float/index.html#val-equal_tol"><code>Float.equal_tol</code></a> for the details.</li><li>For performance reasons some functions of the <a href="Float/index.html"><code>Float</code></a> module are undefined on certain arguments but do not raise <code>Invalid_argument</code> on those. As usual do not rely on the behaviour of functions on undefined arguments, these are subject to change.</li></ul></div></body></html>