<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OpamTypesBase (opam-lib.OpamTypesBase)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">opam-lib</a> &#x00BB; OpamTypesBase</nav><h1>Module <code>OpamTypesBase</code></h1></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include </span><span class="keyword">module type of </span>OpamCompat</code></span></summary><div class="spec module" id="module-Bytes"><a href="#module-Bytes" class="anchor"></a><code><span class="keyword">module </span><a href="Bytes/index.html">Bytes</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Buffer"><a href="#module-Buffer" class="anchor"></a><code><span class="keyword">module </span><a href="Buffer/index.html">Buffer</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Filename"><a href="#module-Filename" class="anchor"></a><code><span class="keyword">module </span><a href="Filename/index.html">Filename</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></details></div></div></div><dl><dt class="spec exception" id="exception-Lexer_error"><a href="#exception-Lexer_error" class="anchor"></a><code><span class="keyword">exception </span></code><code><span class="exception">Lexer_error</span><span class="keyword"> of </span>string</code></dt><dd><h3 id="exceptions"><a href="#exceptions" class="anchor"></a>Exceptions</h3></dd></dl><dl><dt class="spec value" id="val-download_dir"><a href="#val-download_dir" class="anchor"></a><code><span class="keyword">val </span>download_dir : OpamTypes.dirname OpamTypes.download <span>&#45;&gt;</span> OpamTypes.generic_file OpamTypes.download</code></dt><dd><p>Upcast a downloaded directory.</p></dd></dl><dl><dt class="spec value" id="val-download_file"><a href="#val-download_file" class="anchor"></a><code><span class="keyword">val </span>download_file : OpamTypes.filename OpamTypes.download <span>&#45;&gt;</span> OpamTypes.generic_file OpamTypes.download</code></dt><dd><p>Upcast a downloaded file.</p></dd></dl><dl><dt class="spec value" id="val-string_of_download"><a href="#val-string_of_download" class="anchor"></a><code><span class="keyword">val </span>string_of_download : <span class="type-var">_</span> OpamTypes.download <span>&#45;&gt;</span> string</code></dt><dd><p>Corresponding user message</p></dd></dl><dl><dt class="spec value" id="val-string_of_generic_file"><a href="#val-string_of_generic_file" class="anchor"></a><code><span class="keyword">val </span>string_of_generic_file : OpamTypes.generic_file <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-string_of_address"><a href="#val-string_of_address" class="anchor"></a><code><span class="keyword">val </span>string_of_address : OpamTypes.address <span>&#45;&gt;</span> string</code></dt><dd><p>Print an address</p></dd></dl><dl><dt class="spec value" id="val-address_of_string"><a href="#val-address_of_string" class="anchor"></a><code><span class="keyword">val </span>address_of_string : string <span>&#45;&gt;</span> OpamTypes.address</code></dt><dd><p>Parse an address</p></dd></dl><dl><dt class="spec value" id="val-parse_url"><a href="#val-parse_url" class="anchor"></a><code><span class="keyword">val </span>parse_url : OpamTypes.address <span>&#45;&gt;</span> OpamTypes.address<span class="keyword"> * </span>OpamTypes.repository_kind</code></dt><dd><p>Guess an address kind using url suffixes (<code>.git</code>, etc.) and prefixes (<code>http://</code>, etc.). Defaults to `local. The returned address is a correct path in case of <code>file://</code></p></dd></dl><dl><dt class="spec value" id="val-guess_version_control"><a href="#val-guess_version_control" class="anchor"></a><code><span class="keyword">val </span>guess_version_control : OpamTypes.dirname <span>&#45;&gt;</span> [ `git<span class="keyword"> | </span>`hg<span class="keyword"> | </span>`darcs ] option</code></dt><dd><p>Scan the given directory for version control</p></dd></dl><dl><dt class="spec value" id="val-string_of_repository_kind"><a href="#val-string_of_repository_kind" class="anchor"></a><code><span class="keyword">val </span>string_of_repository_kind : OpamTypes.repository_kind <span>&#45;&gt;</span> string</code></dt><dd><p>Pretty-print repository kinds.</p></dd></dl><dl><dt class="spec value" id="val-repository_kind_of_string"><a href="#val-repository_kind_of_string" class="anchor"></a><code><span class="keyword">val </span>repository_kind_of_string : string <span>&#45;&gt;</span> OpamTypes.repository_kind</code></dt><dd><p>Parser of repository kinds. Raise an error if the kind is not valid.</p></dd></dl><dl><dt class="spec value" id="val-action_contents"><a href="#val-action_contents" class="anchor"></a><code><span class="keyword">val </span>action_contents : [&lt; <span class="type-var">'a</span> OpamTypes.action ] <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Extract a package from a package action.</p></dd></dl><dl><dt class="spec value" id="val-map_atomic_action"><a href="#val-map_atomic_action" class="anchor"></a><code><span class="keyword">val </span>map_atomic_action : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> OpamTypes.atomic_action <span>&#45;&gt;</span> <span class="type-var">'b</span> OpamTypes.atomic_action</code></dt><dt class="spec value" id="val-map_highlevel_action"><a href="#val-map_highlevel_action" class="anchor"></a><code><span class="keyword">val </span>map_highlevel_action : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> OpamTypes.highlevel_action <span>&#45;&gt;</span> <span class="type-var">'b</span> OpamTypes.highlevel_action</code></dt><dt class="spec value" id="val-map_concrete_action"><a href="#val-map_concrete_action" class="anchor"></a><code><span class="keyword">val </span>map_concrete_action : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> OpamTypes.concrete_action <span>&#45;&gt;</span> <span class="type-var">'b</span> OpamTypes.concrete_action</code></dt><dt class="spec value" id="val-map_action"><a href="#val-map_action" class="anchor"></a><code><span class="keyword">val </span>map_action : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> OpamTypes.action <span>&#45;&gt;</span> <span class="type-var">'b</span> OpamTypes.action</code></dt><dt class="spec value" id="val-full_action_contents"><a href="#val-full_action_contents" class="anchor"></a><code><span class="keyword">val </span>full_action_contents : <span class="type-var">'a</span> OpamTypes.action <span>&#45;&gt;</span> <span class="type-var">'a</span> list</code></dt><dd><p>Extract a packages from a package action. This returns all concerned packages, including the old version for an up/down-grade.</p></dd></dl><dl><dt class="spec value" id="val-string_of_cause"><a href="#val-string_of_cause" class="anchor"></a><code><span class="keyword">val </span>string_of_cause : (<span class="type-var">'pkg</span> <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> <span class="type-var">'pkg</span> OpamTypes.cause <span>&#45;&gt;</span> string</code></dt><dd><p>Pretty-prints the cause of an action</p></dd></dl><dl><dt class="spec value" id="val-string_of_upload"><a href="#val-string_of_upload" class="anchor"></a><code><span class="keyword">val </span>string_of_upload : OpamTypes.upload <span>&#45;&gt;</span> string</code></dt><dd><p>Pretty-print</p></dd></dl><dl><dt class="spec value" id="val-repository_kind_of_pin_kind"><a href="#val-repository_kind_of_pin_kind" class="anchor"></a><code><span class="keyword">val </span>repository_kind_of_pin_kind : OpamTypes.pin_kind <span>&#45;&gt;</span> OpamTypes.repository_kind option</code></dt><dd><p>Convert a pin kind to a repository kind</p></dd></dl><dl><dt class="spec value" id="val-pin_kind_of_string"><a href="#val-pin_kind_of_string" class="anchor"></a><code><span class="keyword">val </span>pin_kind_of_string : string <span>&#45;&gt;</span> OpamTypes.pin_kind</code></dt><dd><p>Pretty-printing of pin kinds.</p></dd></dl><dl><dt class="spec value" id="val-string_of_pin_kind"><a href="#val-string_of_pin_kind" class="anchor"></a><code><span class="keyword">val </span>string_of_pin_kind : OpamTypes.pin_kind <span>&#45;&gt;</span> string</code></dt><dd><p>Parsing of pin kinds</p></dd></dl><dl><dt class="spec value" id="val-pin_option_of_string"><a href="#val-pin_option_of_string" class="anchor"></a><code><span class="keyword">val </span>pin_option_of_string : ?&#8288;kind:OpamTypes.pin_kind <span>&#45;&gt;</span> ?&#8288;guess:bool <span>&#45;&gt;</span> string <span>&#45;&gt;</span> OpamTypes.pin_option</code></dt><dd><p>Read pin options args. If <code>kind</code> isn't specified, <code>guess</code> is set to <code>true</code> and the name isn't explicit, look for VC on the filesystem to get the pinning kind</p></dd></dl><dl><dt class="spec value" id="val-string_of_pin_option"><a href="#val-string_of_pin_option" class="anchor"></a><code><span class="keyword">val </span>string_of_pin_option : OpamTypes.pin_option <span>&#45;&gt;</span> string</code></dt><dd><p>Convert a pin option to a string</p></dd></dl><dl><dt class="spec value" id="val-kind_of_pin_option"><a href="#val-kind_of_pin_option" class="anchor"></a><code><span class="keyword">val </span>kind_of_pin_option : OpamTypes.pin_option <span>&#45;&gt;</span> OpamTypes.pin_kind</code></dt><dd><p>Get the pin kind from a pin option</p></dd></dl><dl><dt class="spec value" id="val-pin_of_url"><a href="#val-pin_of_url" class="anchor"></a><code><span class="keyword">val </span>pin_of_url : (OpamTypes.address<span class="keyword"> * </span>OpamTypes.repository_kind) <span>&#45;&gt;</span> OpamTypes.pin_option</code></dt><dd><p>Get a pin_option from address and kind</p></dd></dl><dl><dt class="spec value" id="val-string_of_shell"><a href="#val-string_of_shell" class="anchor"></a><code><span class="keyword">val </span>string_of_shell : OpamTypes.shell <span>&#45;&gt;</span> string</code></dt><dd><p>Pretty-print</p></dd></dl><dl><dt class="spec value" id="val-pos_null"><a href="#val-pos_null" class="anchor"></a><code><span class="keyword">val </span>pos_null : OpamTypes.pos</code></dt><dd><p>The empty file position</p></dd></dl><dl><dt class="spec value" id="val-string_of_pos"><a href="#val-string_of_pos" class="anchor"></a><code><span class="keyword">val </span>string_of_pos : OpamTypes.pos <span>&#45;&gt;</span> string</code></dt><dd><p>Prints a file position</p></dd></dl><dl><dt class="spec value" id="val-string_of_relop"><a href="#val-string_of_relop" class="anchor"></a><code><span class="keyword">val </span>string_of_relop : OpamTypes.relop <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-relop_of_string"><a href="#val-relop_of_string" class="anchor"></a><code><span class="keyword">val </span>relop_of_string : string <span>&#45;&gt;</span> OpamTypes.relop</code></dt><dd><p>Raises Invalid_argument</p></dd></dl><dl><dt class="spec value" id="val-string_of_logop"><a href="#val-string_of_logop" class="anchor"></a><code><span class="keyword">val </span>string_of_logop : OpamTypes.logop <span>&#45;&gt;</span> string</code></dt><dd><p>Raises Invalid_argument</p></dd></dl><dl><dt class="spec value" id="val-logop_of_string"><a href="#val-logop_of_string" class="anchor"></a><code><span class="keyword">val </span>logop_of_string : string <span>&#45;&gt;</span> OpamTypes.logop</code></dt><dd><p>Raises Invalid_argument</p></dd></dl><dl><dt class="spec value" id="val-string_of_pfxop"><a href="#val-string_of_pfxop" class="anchor"></a><code><span class="keyword">val </span>string_of_pfxop : OpamTypes.pfxop <span>&#45;&gt;</span> string</code></dt><dd><p>Raises Invalid_argument</p></dd></dl><dl><dt class="spec value" id="val-pfxop_of_string"><a href="#val-pfxop_of_string" class="anchor"></a><code><span class="keyword">val </span>pfxop_of_string : string <span>&#45;&gt;</span> OpamTypes.pfxop</code></dt><dd><p>Raises Invalid_argument</p></dd></dl><dl><dt class="spec value" id="val-filter_ident_of_string"><a href="#val-filter_ident_of_string" class="anchor"></a><code><span class="keyword">val </span>filter_ident_of_string : string <span>&#45;&gt;</span> OpamTypes.name list<span class="keyword"> * </span>OpamTypes.variable<span class="keyword"> * </span>(string<span class="keyword"> * </span>string) option</code></dt><dd><p>Parses the data suitable for a filter.FIdent from a string. May raise <code>Failure msg</code> on bad package names</p></dd></dl><dl><dt class="spec value" id="val-filter_deps"><a href="#val-filter_deps" class="anchor"></a><code><span class="keyword">val </span>filter_deps : build:bool <span>&#45;&gt;</span> test:bool <span>&#45;&gt;</span> doc:bool <span>&#45;&gt;</span> dev:bool <span>&#45;&gt;</span> OpamTypes.ext_formula <span>&#45;&gt;</span> OpamTypes.formula</code></dt><dt class="spec value" id="val-map_success"><a href="#val-map_success" class="anchor"></a><code><span class="keyword">val </span>map_success : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'a</span>, <span class="type-var">'fail</span>) OpamTypes.result <span>&#45;&gt;</span> (<span class="type-var">'b</span>, <span class="type-var">'fail</span>) OpamTypes.result</code></dt><dd><p>Map on a solver result</p></dd></dl></div></body></html>