<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Key (brr.Brr_note_kit.Key)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">brr</a> &#x00BB; <a href="../index.html">Brr_note_kit</a> &#x00BB; Key</nav><header class="odoc-preamble"><h1>Module <code><span>Brr_note_kit.Key</span></code></h1><p>User keyboard.</p></header><nav class="odoc-toc"><ul><li><a href="#keys">Physical keys</a></li><li><a href="#ev">Keyboard events</a></li><li><a href="#kev">Key events</a></li><li><a href="#mods">Modifiers signals</a></li><li><a href="#semantics">Semantic incoherences</a></li><li><a href="#repeat">Key repeat events</a></li></ul></nav><div class="odoc-content"><h2 id="keys"><a href="#keys" class="anchor"></a>Physical keys</h2><p><b>Note.</b> Physical keys are for using the keyboard as a <em>controller</em>. Do not use them to derive text input, they are unrelated to the user's keyboard layout for text entry. Use <a href="../../Brr/Ev/Input/index.html">input events</a> for text entry.</p><div class="odoc-spec"><div class="spec type" id="type-code" class="anchored"><a href="#type-code" class="anchor"></a><code><span><span class="keyword">type</span> code</span><span> = int</span></code></div><div class="spec-doc"><p>The type for physical key codes.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>[ </span></code><table><tr id="type-t.Alt" class="anchored"><td class="def constructor"><a href="#type-t.Alt" class="anchor"></a><code><span>| </span></code><code><span>`Alt <span class="keyword">of</span> <span>[ `Left <span>| `Right</span> ]</span></span></code></td></tr><tr id="type-t.Arrow" class="anchored"><td class="def constructor"><a href="#type-t.Arrow" class="anchor"></a><code><span>| </span></code><code><span>`Arrow <span class="keyword">of</span> <span>[ `Up <span>| `Down</span> <span>| `Left</span> <span>| `Right</span> ]</span></span></code></td></tr><tr id="type-t.Ascii" class="anchored"><td class="def constructor"><a href="#type-t.Ascii" class="anchor"></a><code><span>| </span></code><code><span>`Ascii <span class="keyword">of</span> <a href="../../../ocaml/Stdlib/Char/index.html#type-t">Char.t</a></span></code></td></tr><tr id="type-t.Backspace" class="anchored"><td class="def constructor"><a href="#type-t.Backspace" class="anchor"></a><code><span>| </span></code><code><span>`Backspace</span></code></td></tr><tr id="type-t.Ctrl" class="anchored"><td class="def constructor"><a href="#type-t.Ctrl" class="anchor"></a><code><span>| </span></code><code><span>`Ctrl <span class="keyword">of</span> <span>[ `Left <span>| `Right</span> ]</span></span></code></td></tr><tr id="type-t.End" class="anchored"><td class="def constructor"><a href="#type-t.End" class="anchor"></a><code><span>| </span></code><code><span>`End</span></code></td></tr><tr id="type-t.Enter" class="anchored"><td class="def constructor"><a href="#type-t.Enter" class="anchor"></a><code><span>| </span></code><code><span>`Enter</span></code></td></tr><tr id="type-t.Escape" class="anchored"><td class="def constructor"><a href="#type-t.Escape" class="anchor"></a><code><span>| </span></code><code><span>`Escape</span></code></td></tr><tr id="type-t.Func" class="anchored"><td class="def constructor"><a href="#type-t.Func" class="anchor"></a><code><span>| </span></code><code><span>`Func <span class="keyword">of</span> int</span></code></td></tr><tr id="type-t.Home" class="anchored"><td class="def constructor"><a href="#type-t.Home" class="anchor"></a><code><span>| </span></code><code><span>`Home</span></code></td></tr><tr id="type-t.Insert" class="anchored"><td class="def constructor"><a href="#type-t.Insert" class="anchor"></a><code><span>| </span></code><code><span>`Insert</span></code></td></tr><tr id="type-t.Key" class="anchored"><td class="def constructor"><a href="#type-t.Key" class="anchor"></a><code><span>| </span></code><code><span>`Key <span class="keyword">of</span> <a href="#type-code">code</a></span></code></td></tr><tr id="type-t.Meta" class="anchored"><td class="def constructor"><a href="#type-t.Meta" class="anchor"></a><code><span>| </span></code><code><span>`Meta <span class="keyword">of</span> <span>[ `Left <span>| `Right</span> ]</span></span></code></td></tr><tr id="type-t.Page" class="anchored"><td class="def constructor"><a href="#type-t.Page" class="anchor"></a><code><span>| </span></code><code><span>`Page <span class="keyword">of</span> <span>[ `Up <span>| `Down</span> ]</span></span></code></td></tr><tr id="type-t.Return" class="anchored"><td class="def constructor"><a href="#type-t.Return" class="anchor"></a><code><span>| </span></code><code><span>`Return</span></code></td></tr><tr id="type-t.Shift" class="anchored"><td class="def constructor"><a href="#type-t.Shift" class="anchor"></a><code><span>| </span></code><code><span>`Shift <span class="keyword">of</span> <span>[ `Left <span>| `Right</span> ]</span></span></code></td></tr><tr id="type-t.Spacebar" class="anchored"><td class="def constructor"><a href="#type-t.Spacebar" class="anchor"></a><code><span>| </span></code><code><span>`Spacebar</span></code></td></tr><tr id="type-t.Tab" class="anchored"><td class="def constructor"><a href="#type-t.Tab" class="anchor"></a><code><span>| </span></code><code><span>`Tab</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>The type for physical keys.</p><p><b>Warning.</b> This type is overdefined for now. For example except for <code>`Shift</code>, <code>`Ctrl</code> and <code>Alt</code>, <code>`Left</code> and <code>`Right</code> modifiers cannot be distinguished; <code>`Left</code> is always returned. <code>`Enter</code> and <code>`Return</code> cannot be distinguished, <code>`Return</code> is always returned.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_ev" class="anchored"><a href="#val-of_ev" class="anchor"></a><code><span><span class="keyword">val</span> of_ev : <span><span><a href="../../Brr/Ev/Keyboard/index.html#type-t">Brr.Ev.Keyboard.t</a> <a href="../../Brr/Ev/index.html#type-t">Brr.Ev.t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_ev e</code> is the physical key of the keyboard event <code>e</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>equal k0 k1</code> is <code>true</code> iff <code>k0</code> and <code>k1</code> are equal.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>compare</code> is a total order on keys compatible with <a href="#val-equal"><code>equal</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_jstr" class="anchored"><a href="#val-to_jstr" class="anchor"></a><code><span><span class="keyword">val</span> to_jstr : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../Jstr/index.html#type-t">Jstr.t</a></span></code></div></div><h2 id="ev"><a href="#ev" class="anchor"></a>Keyboard events</h2><div class="odoc-spec"><div class="spec type" id="type-events" class="anchored"><a href="#type-events" class="anchor"></a><code><span><span class="keyword">type</span> events</span></code></div><div class="spec-doc"><p>The type for gathering keyboard events on a given target.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-on_target" class="anchored"><a href="#val-on_target" class="anchor"></a><code><span><span class="keyword">val</span> on_target : <span>?capture:bool <span class="arrow">&#45;&gt;</span></span> <span>?propagate:bool <span class="arrow">&#45;&gt;</span></span> <span>?default:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/Ev/index.html#type-target">Brr.Ev.target</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-events">events</a></span></code></div><div class="spec-doc"><p><code>on_target t</code> is keyboard events for target <code>t</code>. The other parameters are those of <a href="../../Brr_note/Evr/index.html#val-on_target"><code>Brr_note.Evr.on_target</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-on_el" class="anchored"><a href="#val-on_el" class="anchor"></a><code><span><span class="keyword">val</span> on_el : <span>?capture:bool <span class="arrow">&#45;&gt;</span></span> <span>?propagate:bool <span class="arrow">&#45;&gt;</span></span> <span>?default:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../../Brr/El/index.html#type-t">Brr.El.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-events">events</a></span></code></div><div class="spec-doc"><p><code>on_el e</code> is like <a href="#val-on_target"><code>on_target</code></a> but for an element.</p></div></div><h2 id="kev"><a href="#kev" class="anchor"></a>Key events</h2><div class="odoc-spec"><div class="spec value" id="val-any_down" class="anchored"><a href="#val-any_down" class="anchor"></a><code><span><span class="keyword">val</span> any_down : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../../note/Note/index.html#type-event">Note.event</a></span></span></code></div><div class="spec-doc"><p><code>any_down evs</code> occurs whenever a key goes down on the target.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-any_up" class="anchored"><a href="#val-any_up" class="anchor"></a><code><span><span class="keyword">val</span> any_up : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../../note/Note/index.html#type-event">Note.event</a></span></span></code></div><div class="spec-doc"><p><code>any_down evs</code> occurs whenever a key goes up on the target.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-any_holds" class="anchored"><a href="#val-any_holds" class="anchor"></a><code><span><span class="keyword">val</span> any_holds : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span></span></code></div><div class="spec-doc"><p><code>any_holds evs</code> is <code>true</code> whenever any key is down.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-down" class="anchored"><a href="#val-down" class="anchor"></a><code><span><span class="keyword">val</span> down : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../note/Note/index.html#type-event">Note.event</a></span></span></code></div><div class="spec-doc"><p><code>down evs k</code> occurs whenever key <code>k</code> goes down on the target.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-up" class="anchored"><a href="#val-up" class="anchor"></a><code><span><span class="keyword">val</span> up : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="../../../note/Note/index.html#type-event">Note.event</a></span></span></code></div><div class="spec-doc"><p><code>up evs k</code> occurs whenever key <code>k</code> goes up on the target.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-holds" class="anchored"><a href="#val-holds" class="anchor"></a><code><span><span class="keyword">val</span> holds : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span></span></code></div><div class="spec-doc"><p><code>holds evs k</code> is <code>true</code> whenever <code>k</code> is held down on the target.</p></div></div><h2 id="mods"><a href="#mods" class="anchor"></a>Modifiers signals</h2><div class="odoc-spec"><div class="spec value" id="val-alt" class="anchored"><a href="#val-alt" class="anchor"></a><code><span><span class="keyword">val</span> alt : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span></span></code></div><div class="spec-doc"><p><code>alt evs</code> is <code>true</code> whenver an alt key is down on the target. Equivalent to:</p><pre><code>S.Bool.(holds evs (`Alt `Left) || holds evs (`Alt `Right))</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-ctrl" class="anchored"><a href="#val-ctrl" class="anchor"></a><code><span><span class="keyword">val</span> ctrl : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span></span></code></div><div class="spec-doc"><p><code>ctrl evs</code> is <code>true</code> whenver an ctrl key is down on the target. Equivalent to:</p><pre><code>S.Bool.(holds evs (`Ctrl `Left) || holds evs (`Ctrl `Right))</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-meta" class="anchored"><a href="#val-meta" class="anchor"></a><code><span><span class="keyword">val</span> meta : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span></span></code></div><div class="spec-doc"><p><code>meta evs</code> is <code>true</code> whenver an meta key is down on the target. Equivalent to:</p><pre><code>S.Bool.(holds evs (`Meta `Left) || holds evs (`Meta `Right))</code></pre></div></div><div class="odoc-spec"><div class="spec value" id="val-shift" class="anchored"><a href="#val-shift" class="anchor"></a><code><span><span class="keyword">val</span> shift : <span><a href="#type-events">events</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <a href="../../../note/Note/index.html#type-signal">Note.signal</a></span></span></code></div><div class="spec-doc"><p><code>shift evs</code> is <code>true</code> whenver an shift key is down on the target. Equivalent to:</p><pre><code>S.Bool.(holds evs (`Meta `Left) || holds evs (`Meta `Right))</code></pre></div></div><h2 id="semantics"><a href="#semantics" class="anchor"></a>Semantic incoherences</h2><p><a href="#val-holds"><code>holds</code></a> and <a href="#val-any_holds"><code>any_holds</code></a> may be initially set to <code>false</code> even though they should be <code>true</code> if <a href="#val-on_target"><code>on_target</code></a> is invoked when the corresponding keys are depressed.</p><h2 id="repeat"><a href="#repeat" class="anchor"></a>Key repeat events</h2><p>Key repeat events are not exposed. There are two main use cases for key repeat. First during text input, but his should be handled by text input events and is out of scope. Second for controlling changes to a variable over time, e.g. scrolling with a keyboard. In the latter case it is better to create a timing signal or event with a known rate while the key is held.</p></div></body></html>