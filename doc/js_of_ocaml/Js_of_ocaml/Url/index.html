<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Url (js_of_ocaml.Js_of_ocaml.Url)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">js_of_ocaml</a> &#x00BB; <a href="../index.html">Js_of_ocaml</a> &#x00BB; Url</nav><header class="odoc-preamble"><h1>Module <code><span>Js_of_ocaml.Url</span></code></h1></header><div class="odoc-content"><p>This module provides functions for tampering with Url. It's main goal is to allow one to stay in the Ocaml realm without wandering into the <a href="../Dom_html/class-type-window/index.html"><code>Dom_html.window</code></a>##.location object.</p><p>The first functions are mainly from and to string conversion functions for the different parts of a url.</p><div class="odoc-spec"><div class="spec value" id="val-urldecode" class="anchored"><a href="#val-urldecode" class="anchor"></a><code><span><span class="keyword">val</span> urldecode : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>urldecode s</code> swaps percent encoding characters for their usual representation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-urlencode" class="anchored"><a href="#val-urlencode" class="anchor"></a><code><span><span class="keyword">val</span> urlencode : <span>?with_plus:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>urlencode ?with_plus s</code> replace characters for their percent encoding representation. Note that the '/' (slash) character is escaped as well. If <code>with_plus</code> is <code>true</code> (default) then <code>'+'</code>'s are escaped as <code>&quot;%2B&quot;</code>. If not, <code>'+'</code>'s are left as is.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-http_url" class="anchored"><a href="#type-http_url" class="anchor"></a><code><span><span class="keyword">type</span> http_url</span><span> = </span><span>{</span></code><table><tr id="type-http_url.hu_host" class="anchored"><td class="def record field"><a href="#type-http_url.hu_host" class="anchor"></a><code><span>hu_host : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The host part of the url.</p><span class="comment-delim">*)</span></td></tr><tr id="type-http_url.hu_port" class="anchored"><td class="def record field"><a href="#type-http_url.hu_port" class="anchor"></a><code><span>hu_port : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The port for the connection if any.</p><span class="comment-delim">*)</span></td></tr><tr id="type-http_url.hu_path" class="anchored"><td class="def record field"><a href="#type-http_url.hu_path" class="anchor"></a><code><span>hu_path : <span>string list</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The path split on <code>'/'</code> characters.</p><span class="comment-delim">*)</span></td></tr><tr id="type-http_url.hu_path_string" class="anchored"><td class="def record field"><a href="#type-http_url.hu_path_string" class="anchor"></a><code><span>hu_path_string : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The original entire path.</p><span class="comment-delim">*)</span></td></tr><tr id="type-http_url.hu_arguments" class="anchored"><td class="def record field"><a href="#type-http_url.hu_arguments" class="anchor"></a><code><span>hu_arguments : <span><span>(string * string)</span> list</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Arguments as a field-value association list.</p><span class="comment-delim">*)</span></td></tr><tr id="type-http_url.hu_fragment" class="anchored"><td class="def record field"><a href="#type-http_url.hu_fragment" class="anchor"></a><code><span>hu_fragment : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The fragment part (after the <code>'#'</code> character).</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The type for HTTP(s) url.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-file_url" class="anchored"><a href="#type-file_url" class="anchor"></a><code><span><span class="keyword">type</span> file_url</span><span> = </span><span>{</span></code><table><tr id="type-file_url.fu_path" class="anchored"><td class="def record field"><a href="#type-file_url.fu_path" class="anchor"></a><code><span>fu_path : <span>string list</span>;</span></code></td></tr><tr id="type-file_url.fu_path_string" class="anchored"><td class="def record field"><a href="#type-file_url.fu_path_string" class="anchor"></a><code><span>fu_path_string : string;</span></code></td></tr><tr id="type-file_url.fu_arguments" class="anchored"><td class="def record field"><a href="#type-file_url.fu_arguments" class="anchor"></a><code><span>fu_arguments : <span><span>(string * string)</span> list</span>;</span></code></td></tr><tr id="type-file_url.fu_fragment" class="anchored"><td class="def record field"><a href="#type-file_url.fu_fragment" class="anchor"></a><code><span>fu_fragment : string;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The type for local file urls.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-url" class="anchored"><a href="#type-url" class="anchor"></a><code><span><span class="keyword">type</span> url</span><span> = </span></code><table><tr id="type-url.Http" class="anchored"><td class="def variant constructor"><a href="#type-url.Http" class="anchor"></a><code><span>| </span><span><span class="constructor">Http</span> <span class="keyword">of</span> <a href="#type-http_url">http_url</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Non secure HTTP urls</p><span class="comment-delim">*)</span></td></tr><tr id="type-url.Https" class="anchored"><td class="def variant constructor"><a href="#type-url.Https" class="anchor"></a><code><span>| </span><span><span class="constructor">Https</span> <span class="keyword">of</span> <a href="#type-http_url">http_url</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Secure HTTPS urls</p><span class="comment-delim">*)</span></td></tr><tr id="type-url.File" class="anchored"><td class="def variant constructor"><a href="#type-url.File" class="anchor"></a><code><span>| </span><span><span class="constructor">File</span> <span class="keyword">of</span> <a href="#type-file_url">file_url</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Local files</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>The type for urls.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-default_http_port" class="anchored"><a href="#val-default_http_port" class="anchor"></a><code><span><span class="keyword">val</span> default_http_port : int</span></code></div><div class="spec-doc"><p>The default port for <code>Http</code> communications (80).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-default_https_port" class="anchored"><a href="#val-default_https_port" class="anchor"></a><code><span><span class="keyword">val</span> default_https_port : int</span></code></div><div class="spec-doc"><p>The default port for <code>Https</code> communications (443).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-path_of_path_string" class="anchored"><a href="#val-path_of_path_string" class="anchor"></a><code><span><span class="keyword">val</span> path_of_path_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>path_of_path_string s</code> splits <code>s</code> on each <code>&quot;/&quot;</code> character.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-encode_arguments" class="anchored"><a href="#val-encode_arguments" class="anchor"></a><code><span><span class="keyword">val</span> encode_arguments : <span><span><span>(string * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>encode_arguments a</code> expects a list of pair of values of the form <code>(name,value)</code> were <code>name</code> is the name of an argument and <code>value</code> it's associated value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-decode_arguments" class="anchored"><a href="#val-decode_arguments" class="anchor"></a><code><span><span class="keyword">val</span> decode_arguments : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(string * string)</span> list</span></span></code></div><div class="spec-doc"><p><code>decode_arguments s</code> parses <code>s</code> returning the sliced-diced association list. <code>s</code> should be only the arguments part (after the '?') not the whole url.</p></div></div><p>The following part allow one to handle Url object in a much higher level than what a string provides.</p><div class="odoc-spec"><div class="spec value" id="val-url_of_string" class="anchored"><a href="#val-url_of_string" class="anchor"></a><code><span><span class="keyword">val</span> url_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-url">url</a> option</span></span></code></div><div class="spec-doc"><p><code>url_of_string s</code> parses <code>s</code> and builds a value of type <code>url</code> if <code>s</code> is not a valid url string, it returns <code>None</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_url" class="anchored"><a href="#val-string_of_url" class="anchor"></a><code><span><span class="keyword">val</span> string_of_url : <span><a href="#type-url">url</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>string_of_url u</code> returns a valid string representation of <code>u</code>. Note that * <code>string_of_url ((fun Some u -&gt; u) (url_of_string s))</code> is NOT necessarily * equal to <code>s</code>. However <code>url_of_string (string_of_url u) = u</code>.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Current" class="anchored"><a href="#module-Current" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Current/index.html">Current</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>This module can be used to handle the Url associated to the current document.</p></div></div></div></body></html>