<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Xml_light__XmlParser (csvfields.Xml_light__XmlParser)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">csvfields</a> &#x00BB; Xml_light__XmlParser</nav><h1>Module <code>Xml_light__XmlParser</code></h1><p>Xml Light Parser</p><p>While basic parsing functions can be used in the <code>Xml</code> module, this module is providing a way to create, configure and run an Xml parser.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>Abstract type for an Xml parser.</p></dd></dl><dl><dt class="spec type" id="type-source"><a href="#type-source" class="anchor"></a><code><span class="keyword">type</span> source</code><code> = </code><table class="variant"><tr id="type-source.SFile" class="anchored"><td class="def constructor"><a href="#type-source.SFile" class="anchor"></a><code>| </code><code><span class="constructor">SFile</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-source.SChannel" class="anchored"><td class="def constructor"><a href="#type-source.SChannel" class="anchor"></a><code>| </code><code><span class="constructor">SChannel</span> <span class="keyword">of</span> <a href="../../ocaml/Stdlib/index.html#type-in_channel">Stdlib.in_channel</a></code></td></tr><tr id="type-source.SString" class="anchored"><td class="def constructor"><a href="#type-source.SString" class="anchor"></a><code>| </code><code><span class="constructor">SString</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-source.SLexbuf" class="anchored"><td class="def constructor"><a href="#type-source.SLexbuf" class="anchor"></a><code>| </code><code><span class="constructor">SLexbuf</span> <span class="keyword">of</span> <a href="../../ocaml/Stdlib/Lexing/index.html#type-lexbuf">Stdlib.Lexing.lexbuf</a></code></td></tr></table></dt><dd><p>Several kind of resources can contain Xml documents.</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : unit <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>This function returns a new parser with default options.</p></dd></dl><dl><dt class="spec value" id="val-prove"><a href="#val-prove" class="anchor"></a><code><span class="keyword">val</span> prove : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dd><p>This function enable or disable automatic DTD proving with the parser. Note that Xml documents having no reference to a DTD are never proved when parsed (but you can prove them later using the <code>Dtd</code> module <i>(by default, prove is true)</i>.</p></dd></dl><dl><dt class="spec value" id="val-resolve"><a href="#val-resolve" class="anchor"></a><code><span class="keyword">val</span> resolve : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> <a href="../Xml_light/Dtd/index.html#type-checked">Xml_light.Dtd.checked</a>) <span>&#45;&gt;</span> unit</code></dt><dd><p>When parsing an Xml document from a file using the <span class="xref-unresolved" title="unresolved reference to &quot;Xml.parse_file&quot;"><code>Xml</code>.parse_file</span> function, the DTD file if declared by the Xml document has to be in the same directory as the xml file. When using other parsing functions, such as on a string or on a channel, the parser will raise everytime <span class="xref-unresolved" title="unresolved reference to &quot;Xml.File_not_found&quot;"><code>Xml</code>.File_not_found</span> if a DTD file is needed and prove enabled. To enable the DTD loading of the file, the user have to configure the Xml parser with a <code>resolve</code> function which is taking as argument the DTD filename and is returning a checked DTD. The user can then implement any kind of DTD loading strategy, and can use the <code>Dtd</code> module functions to parse and check the DTD file <i>(by default, the resolve function is raising</i> <span class="xref-unresolved" title="unresolved reference to &quot;Xml.File_not_found&quot;"><code>Xml</code>.File_not_found</span>).</p></dd></dl><dl><dt class="spec value" id="val-check_eof"><a href="#val-check_eof" class="anchor"></a><code><span class="keyword">val</span> check_eof : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dd><p>When a Xml document is parsed, the parser will check that the end of the document is reached, so for example parsing <code>&quot;&lt;A/&gt;&lt;B/&gt;&quot;</code> will fail instead of returning only the A element. You can turn off this check by setting <code>check_eof</code> to <code>false</code> <i>(by default, check_eof is true)</i>.</p></dd></dl><dl><dt class="spec value" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span class="keyword">val</span> parse : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-source">source</a> <span>&#45;&gt;</span> <a href="../Xml_light/Types/index.html#type-xml">Xml_light.Types.xml</a></code></dt><dd><p>Once the parser is configurated, you can run the parser on a any kind of xml document source to parse its contents into an Xml data structure.</p></dd></dl><dl><dt class="spec value" id="val-concat_pcdata"><a href="#val-concat_pcdata" class="anchor"></a><code><span class="keyword">val</span> concat_pcdata : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> unit</code></dt><dd><p>When several PCData elements are separed by a \n (or \r\n), you can either split the PCData in two distincts PCData or merge them with \n as seperator into one PCData. The default behavior is to concat the PCData, but this can be changed for a given parser with this flag.</p></dd></dl></div></body></html>