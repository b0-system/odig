<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Logr (note.Note.Logr)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">note</a> &#x00BB; <a href="../index.html">Note</a> &#x00BB; Logr</nav><header class="odoc-preamble"><h1>Module <code><span>Note.Logr</span></code></h1><p>Event and signal changes loggers.</p><p>Loggers are the output interface of the reactive system. They allow external entities to observe event occurences and signal changes.</p></header><nav class="odoc-toc"><ul><li><a href="#obs">Observations</a></li><li><a href="#loggers">Loggers</a></li></ul></nav><div class="odoc-content"><h2 id="obs"><a href="#obs" class="anchor"></a>Observations</h2><div class="odoc-spec"><div class="spec type" id="type-obs" class="anchored"><a href="#type-obs" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a obs</span></span></code></div><div class="spec-doc"><p>The type for observing changes of type <code>'a</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-const" class="anchored"><a href="#val-const" class="anchor"></a><code><span><span class="keyword">val</span> const : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-obs">obs</a></span></span></code></div><div class="spec-doc"><p><code>const v</code> never changes and always observes <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-app" class="anchored"><a href="#val-app" class="anchor"></a><code><span><span class="keyword">val</span> app : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-obs">obs</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-obs">obs</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-obs">obs</a></span></span></code></div><div class="spec-doc"><p><code>app f v</code> is the observation that result from applying the changes of <code>f</code> to the ones of <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-($)" class="anchored"><a href="#val-($)" class="anchor"></a><code><span><span class="keyword">val</span> ($) : <span><span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'b</span>)</span> <a href="#type-obs">obs</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-obs">obs</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-obs">obs</a></span></span></code></div><div class="spec-doc"><p><code>f $ v</code> is <code>app f v</code>.</p></div></div><h2 id="loggers"><a href="#loggers" class="anchor"></a>Loggers</h2><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type for loggers.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>?now:bool <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="#type-obs">obs</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create ~now o</code> is a logger that observes changes to <code>o</code>. If <code>now</code> is <code>true</code> (default) logs at least one observation before the call returns.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-force" class="anchored"><a href="#val-force" class="anchor"></a><code><span><span class="keyword">val</span> force : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>force l</code> observes <code>l</code> even if nothing changed.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-destroy" class="anchored"><a href="#val-destroy" class="anchor"></a><code><span><span class="keyword">val</span> destroy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>destroy l</code> destroys log <code>l</code> this ensure that <code>l</code>'s does not observe any change again. The underlying observed events or signals also stop updating, unless they are observed by another logger.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hold" class="anchored"><a href="#val-hold" class="anchor"></a><code><span><span class="keyword">val</span> hold : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>hold l</code> holds logger <code>l</code> to ensure it does not get garbage collected.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-may_hold" class="anchored"><a href="#val-may_hold" class="anchor"></a><code><span><span class="keyword">val</span> may_hold : <span><span><a href="#type-t">t</a> option</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>may_hold l</code> holds logger <code>Some l</code> to ensure it does not get garbage collected. Does nothing on <code>None</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unhold_all" class="anchored"><a href="#val-unhold_all" class="anchor"></a><code><span><span class="keyword">val</span> unhold_all : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>unhold_all ()</code> <a href="#val-destroy">destroys</a> and unholds all loggers held via <a href="#val-hold"><code>hold</code></a>.</p></div></div></div></body></html>