<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Tool (b0.B00.Tool)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">b0</a> &#x00BB; <a href="../index.html">B00</a> &#x00BB; Tool</nav><header class="odoc-preamble"><h1>Module <code><span>B00.Tool</span></code></h1><p>Command line tools.</p><p>A tool is specified either by name, to be looked up via an unspecified mecanism, or by a file path to an executable file. It declares the environment variables it accesses in the process environment and whether and how it supports response files.</p><p>By default declared environment variables are assumed to influence the tool's output and are part of the stamp used to memoize tool spawns. If an environment variable is accessed by the tool but does not influence its output it should be declared as unstamped. Variables specifying the location of <span class="xref-unresolved">temporary file directories</span> are good examples of unstamped variables.</p><p><b>Portability.</b> In order to maximize portability no <code>.exe</code> suffix should be added to executable names on Windows, the search procedure will add the suffix during the tool search procedure if absent.</p></header><nav class="odoc-toc"><ul><li><a href="#env">Environment variables</a></li><li><a href="#resp">Response files</a></li><li><a href="#tools">Tools</a></li></ul></nav><div class="odoc-content"><h2 id="env"><a href="#env" class="anchor"></a>Environment variables</h2><div class="odoc-spec"><div class="spec type" id="type-env_vars" class="anchored"><a href="#type-env_vars" class="anchor"></a><code><span><span class="keyword">type</span> env_vars</span><span> = <span>string list</span></span></code></div><div class="spec-doc"><p>The type for lists of environment variable names.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-tmp_vars" class="anchored"><a href="#val-tmp_vars" class="anchor"></a><code><span><span class="keyword">val</span> tmp_vars : <a href="#type-env_vars">env_vars</a></span></code></div><div class="spec-doc"><p><code>tmp_vars</code> is <code>[&quot;TMPDIR&quot;; &quot;TEMP&quot;; &quot;TMP&quot;]</code>.</p></div></div><h2 id="resp"><a href="#resp" class="anchor"></a>Response files</h2><div class="odoc-spec"><div class="spec type" id="type-response_file" class="anchored"><a href="#type-response_file" class="anchor"></a><code><span><span class="keyword">type</span> response_file</span></code></div><div class="spec-doc"><p>The type for response file specification.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-response_file_of" class="anchored"><a href="#val-response_file_of" class="anchor"></a><code><span><span class="keyword">val</span> response_file_of : <span><span>(<span><a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Cmd/index.html#type-t">B00_std.Cmd.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-response_file">response_file</a></span></code></div><div class="spec-doc"><p><code>response_file_of to_file cli</code> is a response file specification that uses <code>to_file cmd</code> to convert the command line <code>cmd</code> to a response file content and <code>cli f</code> a command line fragment to be given to the tool so that it treats file <code>f</code> as a response file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-args0" class="anchored"><a href="#val-args0" class="anchor"></a><code><span><span class="keyword">val</span> args0 : <a href="#type-response_file">response_file</a></span></code></div><div class="spec-doc"><p><code>args0</code> is response file support for tools that reads null byte (<code>0x00</code>) terminated arguments response files via an <code>-args0
      FILE</code> command line synopsis.</p></div></div><h2 id="tools"><a href="#tools" class="anchor"></a>Tools</h2><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type for tools.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-v" class="anchored"><a href="#val-v" class="anchor"></a><code><span><span class="keyword">val</span> v : <span>?response_file:<a href="#type-response_file">response_file</a> <span class="arrow">&#45;&gt;</span></span> <span>?unstamped_vars:<a href="#type-env_vars">env_vars</a> <span class="arrow">&#45;&gt;</span></span> <span>?vars:<a href="#type-env_vars">env_vars</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../B00_std/Cmd/index.html#type-tool">B00_std.Cmd.tool</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>v ~response_file ~unstamped_vars ~vars cmd</code> is a tool specified by <code>cmd</code>. <code>vars</code> are the stamped variables accessed by the tool (defaults to <code>[]</code>). <code>unstamped_vars</code> are the unstamped variables accessed by the tool (defaults to <a href="#val-tmp_vars"><code>tmp_vars</code></a>). <code>response_file</code> defines the reponse file support for the tool (if any).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-by_name" class="anchored"><a href="#val-by_name" class="anchor"></a><code><span><span class="keyword">val</span> by_name : <span>?response_file:<a href="#type-response_file">response_file</a> <span class="arrow">&#45;&gt;</span></span> <span>?unstamped_vars:<a href="#type-env_vars">env_vars</a> <span class="arrow">&#45;&gt;</span></span> <span>?vars:<a href="#type-env_vars">env_vars</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>by_name</code> is like <a href="#val-v"><code>v</code></a> but reference the tool directly via a name.</p><ul class="at-tags"><li class="raises"><span class="at-tag">raises</span> <span class="value">Invalid_argument</span> <p>if <code>B00_std</code>.Fpath.is_seg <code>name</code> is <code>false</code>.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-name" class="anchored"><a href="#val-name" class="anchor"></a><code><span><span class="keyword">val</span> name : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Cmd/index.html#type-tool">B00_std.Cmd.tool</a></span></code></div><div class="spec-doc"><p><code>name t</code> is <code>t</code>'s tool name. If this is a relative file path with a single segment the tool is meant to be searched via an external mecanism.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-vars" class="anchored"><a href="#val-vars" class="anchor"></a><code><span><span class="keyword">val</span> vars : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env_vars">env_vars</a></span></code></div><div class="spec-doc"><p><code>vars t</code> are the stamped environment variables accessed by <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unstamped_vars" class="anchored"><a href="#val-unstamped_vars" class="anchor"></a><code><span><span class="keyword">val</span> unstamped_vars : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-env_vars">env_vars</a></span></code></div><div class="spec-doc"><p><code>unstamped_vars t</code> are the unstamped environment variables accessed by <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-response_file" class="anchored"><a href="#val-response_file" class="anchor"></a><code><span><span class="keyword">val</span> response_file : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-response_file">response_file</a> option</span></span></code></div><div class="spec-doc"><p><code>response_file t</code> is <code>t</code>'s response file specification (if any).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read_env" class="anchored"><a href="#val-read_env" class="anchor"></a><code><span><span class="keyword">val</span> read_env : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../B00_std/Os/Env/index.html#type-t">B00_std.Os.Env.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Os/Env/index.html#type-t">B00_std.Os.Env.t</a> * <a href="../../B00_std/Os/Env/index.html#type-t">B00_std.Os.Env.t</a></span></code></div><div class="spec-doc"><p><code>read_env t env</code> is (all, stamped) with <code>all</code> the environment with the variables of <code>env</code> that are in <code>vars t</code> and <code>unstamped_vars t</code> and <code>stamped</code> those of <code>vars t</code> only.</p></div></div></div></body></html>