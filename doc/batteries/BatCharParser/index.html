<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>BatCharParser (batteries.BatCharParser)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">batteries</a> &#x00BB; BatCharParser</nav><header class="odoc-preamble"><h1>Module <code><span>BatCharParser</span></code></h1><p>Parsing character strings.</p><p>This module defines common functions for parsing character strings, encoded in Latin-1. These functions are meant to be used in conjunction with the <code>ParserCo</code> module.</p><p><b>Note</b> As ParserCo, this module is still very rough and needs testing.</p><ul class="at-tags"><li class="author"><span class="at-tag">author</span> David Teller</li></ul></header><nav class="odoc-toc"><ul><li><a href="#utilities">Utilities</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-position" class="anchored"><a href="#type-position" class="anchor"></a><code><span><span class="keyword">type</span> position</span><span> = </span><span>{</span></code><table><tr id="type-position.offset" class="anchored"><td class="def record field"><a href="#type-position.offset" class="anchor"></a><code><span>offset : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Offset on the line (starting at 0)</p><span class="comment-delim">*)</span></td></tr><tr id="type-position.line" class="anchored"><td class="def record field"><a href="#type-position.line" class="anchor"></a><code><span>line : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Line number (starting at 0)</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>The position inside one file or one stream.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-advance" class="anchored"><a href="#val-advance" class="anchor"></a><code><span><span class="keyword">val</span> advance : <span>char <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-position">position</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-position">position</a></span></code></div><div class="spec-doc"><p>Advance by one char.</p><p><code>advance c p</code> returns a new position advanced by one char. If <code>c</code> is '\r' or '\n', the result is <code>{offset = 0; line = p.line + 1}</code>. Other wise, the result is <code>{offset = p.offset + 1; line = p.line}</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-source_of_string" class="anchored"><a href="#val-source_of_string" class="anchor"></a><code><span><span class="keyword">val</span> source_of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/Source/index.html#type-t">BatParserCo.Source.t</a></span></span></code></div><div class="spec-doc"><p>Create a source from a latin-1 character string.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-source_of_enum" class="anchored"><a href="#val-source_of_enum" class="anchor"></a><code><span><span class="keyword">val</span> source_of_enum : <span><span>char <a href="../BatEnum/index.html#type-t">BatEnum.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/Source/index.html#type-t">BatParserCo.Source.t</a></span></span></code></div><div class="spec-doc"><p>Create a source from a latin-1 character.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-parse" class="anchored"><a href="#val-parse" class="anchor"></a><code><span><span class="keyword">val</span> parse : <span><span><span>(char, <span class="type-var">'a</span>, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'a</span>, <span><a href="#type-position">position</a> <a href="../BatParserCo/index.html#type-report">BatParserCo.report</a></span>)</span> <a href="../BatPervasives/index.html#type-result">BatPervasives.result</a></span></span></code></div><div class="spec-doc"><p>Apply a parser to a string.</p></div></div><h6 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h6><div class="odoc-spec"><div class="spec value" id="val-char" class="anchored"><a href="#val-char" class="anchor"></a><code><span><span class="keyword">val</span> char : <span>char <span class="arrow">&#45;&gt;</span></span> <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognize exactly one char</p></div></div><div class="odoc-spec"><div class="spec value" id="val-none_of" class="anchored"><a href="#val-none_of" class="anchor"></a><code><span><span class="keyword">val</span> none_of : <span><span>char list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Accept any value not in a list As <code>ParserCo.none_of</code>, just with improved error message.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-not_char" class="anchored"><a href="#val-not_char" class="anchor"></a><code><span><span class="keyword">val</span> not_char : <span>char <span class="arrow">&#45;&gt;</span></span> <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Accept any value not a given char As <code>none_of</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-string" class="anchored"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(char, string, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognize exactly one string</p></div></div><div class="odoc-spec"><div class="spec value" id="val-case_char" class="anchored"><a href="#val-case_char" class="anchor"></a><code><span><span class="keyword">val</span> case_char : <span>char <span class="arrow">&#45;&gt;</span></span> <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>As <code>char</code>, but case-insensitive</p></div></div><div class="odoc-spec"><div class="spec value" id="val-case_string" class="anchored"><a href="#val-case_string" class="anchor"></a><code><span><span class="keyword">val</span> case_string : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(char, string, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>As <code>case_string</code>, but case-insensitive</p></div></div><div class="odoc-spec"><div class="spec value" id="val-newline" class="anchored"><a href="#val-newline" class="anchor"></a><code><span><span class="keyword">val</span> newline : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes a newline</p></div></div><div class="odoc-spec"><div class="spec value" id="val-whitespace" class="anchored"><a href="#val-whitespace" class="anchor"></a><code><span><span class="keyword">val</span> whitespace : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes white-space</p></div></div><div class="odoc-spec"><div class="spec value" id="val-uppercase" class="anchored"><a href="#val-uppercase" class="anchor"></a><code><span><span class="keyword">val</span> uppercase : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes one upper-case ASCII character, including accentuated characters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lowercase" class="anchored"><a href="#val-lowercase" class="anchor"></a><code><span><span class="keyword">val</span> lowercase : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes one lower-case ASCII character, including accentuated characters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-letter" class="anchored"><a href="#val-letter" class="anchor"></a><code><span><span class="keyword">val</span> letter : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes one lower- or upper-case ASCII character, including accentuated characters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-uppercase_latin1" class="anchored"><a href="#val-uppercase_latin1" class="anchor"></a><code><span><span class="keyword">val</span> uppercase_latin1 : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes one upper-case Latin-1 character, including accentuated characters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lowercase_latin1" class="anchored"><a href="#val-lowercase_latin1" class="anchor"></a><code><span><span class="keyword">val</span> lowercase_latin1 : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes one lower-case Latin-1 character, including accentuated characters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-latin1" class="anchored"><a href="#val-latin1" class="anchor"></a><code><span><span class="keyword">val</span> latin1 : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes one lower- or upper-case Latin1 character, including accentuated characters.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-digit" class="anchored"><a href="#val-digit" class="anchor"></a><code><span><span class="keyword">val</span> digit : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes one decimal digit</p></div></div><div class="odoc-spec"><div class="spec value" id="val-hex" class="anchored"><a href="#val-hex" class="anchor"></a><code><span><span class="keyword">val</span> hex : <span><span>(char, char, <a href="#type-position">position</a>)</span> <a href="../BatParserCo/index.html#type-t">BatParserCo.t</a></span></span></code></div><div class="spec-doc"><p>Recognizes one hexadecimal digit (case-insensitive)</p></div></div></div></body></html>