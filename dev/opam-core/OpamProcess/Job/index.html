<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Job (opam-core.OpamProcess.Job)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">opam-core</a> &#x00BB; <a href="../index.html">OpamProcess</a> &#x00BB; Job</nav><h1>Module <code>OpamProcess.Job</code></h1><p>Higher-level interface to allow parallelism</p></header><dl><dt class="spec module" id="module-Op"><a href="#module-Op" class="anchor"></a><code><span class="keyword">module</span> <a href="Op/index.html">Op</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Open type and add combinators. Meant to be opened</p></dd></dl><dl><dt class="spec value" id="val-run"><a href="#val-run" class="anchor"></a><code><span class="keyword">val</span> run : <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Sequential run of a job</p></dd></dl><dl><dt class="spec value" id="val-dry_run"><a href="#val-dry_run" class="anchor"></a><code><span class="keyword">val</span> dry_run : <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Same as <code>run</code> but doesn't actually run any shell command, and feed a dummy result to the cont.</p></dd></dl><dl><dt class="spec value" id="val-catch"><a href="#val-catch" class="anchor"></a><code><span class="keyword">val</span> catch : (exn <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a>) <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a></code></dt><dd><p>Catch exceptions raised within a job</p></dd></dl><dl><dt class="spec value" id="val-ignore_errors"><a href="#val-ignore_errors" class="anchor"></a><code><span class="keyword">val</span> ignore_errors : default:<span class="type-var">'a</span> <span>&#45;&gt;</span> ?&#8288;message:string <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a></code></dt><dd><p>Ignore all non-fatal exceptions raised by job and return default</p></dd></dl><dl><dt class="spec value" id="val-finally"><a href="#val-finally" class="anchor"></a><code><span class="keyword">val</span> finally : (unit <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a></code></dt><dd><p>Register an exception-safe finaliser in a job. <code>finally job fin</code> is equivalent to <code>catch job (fun e -&gt; fin (); raise e) @@+ fun r -&gt; fin (); Done r</code></p></dd></dl><dl><dt class="spec value" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val</span> of_list : ?&#8288;keep_going:bool <span>&#45;&gt;</span> <a href="../index.html#type-command">command</a> list <span>&#45;&gt;</span> (<a href="../index.html#type-command">command</a> * <a href="../index.html#type-result">result</a>) option <a href="Op/index.html#type-job">Op.job</a></code></dt><dd><p>Converts a list of commands into a job that returns None on success, or the first failed command and its result. Unless <code>keep_going</code> is true, stops on first error.</p></dd></dl><dl><dt class="spec value" id="val-of_fun_list"><a href="#val-of_fun_list" class="anchor"></a><code><span class="keyword">val</span> of_fun_list : ?&#8288;keep_going:bool <span>&#45;&gt;</span> (unit <span>&#45;&gt;</span> <a href="../index.html#type-command">command</a>) list <span>&#45;&gt;</span> (<a href="../index.html#type-command">command</a> * <a href="../index.html#type-result">result</a>) option <a href="Op/index.html#type-job">Op.job</a></code></dt><dd><p>As <code>of_list</code>, but takes a list of functions that return the commands. The functions will only be evaluated when the command needs to be run.</p></dd></dl><dl><dt class="spec value" id="val-seq"><a href="#val-seq" class="anchor"></a><code><span class="keyword">val</span> seq : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a>) list <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a></code></dt><dd><p>Returns the job made of the the given homogeneous jobs run sequentially</p></dd></dl><dl><dt class="spec value" id="val-seq_map"><a href="#val-seq_map" class="anchor"></a><code><span class="keyword">val</span> seq_map : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <a href="Op/index.html#type-job">Op.job</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'b</span> list <a href="Op/index.html#type-job">Op.job</a></code></dt><dd><p>Sequentially maps jobs on a list</p></dd></dl><dl><dt class="spec value" id="val-with_text"><a href="#val-with_text" class="anchor"></a><code><span class="keyword">val</span> with_text : string <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="Op/index.html#type-job">Op.job</a></code></dt><dd><p>Sets and overrides text of the underlying commands</p></dd></dl></div></body></html>