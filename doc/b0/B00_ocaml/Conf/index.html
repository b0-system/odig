<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Conf (b0.B00_ocaml.Conf)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">b0</a> &#x00BB; <a href="../index.html">B00_ocaml</a> &#x00BB; Conf</nav><header class="odoc-preamble"><h1>Module <code><span>B00_ocaml.Conf</span></code></h1><p>Toolchain configuration.</p><p>This module provides access to the OCaml toolchain configuration as output by <code>ocaml{c,opt} -config</code>.</p></header><nav class="odoc-toc"><ul><li><a href="#conf">Configuration</a></li><li><a href="#fields">Fields</a></li><li><a href="#convert">Converting</a></li></ul></nav><div class="odoc-content"><h2 id="conf"><a href="#conf" class="anchor"></a>Configuration</h2><div class="odoc-spec"><div class="spec type" id="type-code" class="anchored"><a href="#type-code" class="anchor"></a><code><span><span class="keyword">type</span> code</span><span> = </span><span>[ </span></code><table><tr id="type-code.Byte" class="anchored"><td class="def constructor"><a href="#type-code.Byte" class="anchor"></a><code><span>| </span></code><code><span>`Byte</span></code></td></tr><tr id="type-code.Native" class="anchored"><td class="def constructor"><a href="#type-code.Native" class="anchor"></a><code><span>| </span></code><code><span>`Native</span></code></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>The type for code generated by the OCaml compiler. Either bytecode or native-code.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type for the OCaml toolchain configuration.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_string" class="anchored"><a href="#val-of_string" class="anchor"></a><code><span><span class="keyword">val</span> of_string : <span>?file:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-t">t</a>, string)</span> <a href="../../../ocaml/Stdlib/index.html#type-result">result</a></span></span></code></div><div class="spec-doc"><p><code>of_string ~file data</code> parses toolchain configuration from <code>data</code> as output by the compiler's <code>-config</code> option assuming it was read from file <code>file</code> (defaults to <a href="../../B00_std/Fpath/index.html#val-dash"><code>B00_std.Fpath.dash</code></a>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-write" class="anchored"><a href="#val-write" class="anchor"></a><code><span><span class="keyword">val</span> write : <span><a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span class="arrow">&#45;&gt;</span></span> <span>comp:<a href="../../B00/Tool/index.html#type-t">B00.Tool.t</a> <span class="arrow">&#45;&gt;</span></span> <span>o:<a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>write m ~o</code> writes the toolchain configuration to <code>o</code> by running <code>comp</code> with <code>-config</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-read" class="anchored"><a href="#val-read" class="anchor"></a><code><span><span class="keyword">val</span> read : <span><a href="../../B00/Memo/index.html#type-t">B00.Memo.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <a href="../../B00_std/Fut/index.html#type-t">B00_std.Fut.t</a></span></span></code></div><div class="spec-doc"><p><code>read m file</code> reads a toolchain configuration from <code>file</code>.</p></div></div><h2 id="fields"><a href="#fields" class="anchor"></a>Fields</h2><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string option</span></span></code></div><div class="spec-doc"><p><code>find f c</code> looks up the field <code>f</code> in configuration <code>c</code>. See <code>ocamlc -config</code> for the list of fields.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-version" class="anchored"><a href="#val-version" class="anchor"></a><code><span><span class="keyword">val</span> version : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int * int * int * <span>string option</span></span></code></div><div class="spec-doc"><p><code>version c</code> is the compiler version string <code>&quot;major.minor[.patchlevel][+additional-info]&quot;</code> parsed using <code>(major, minor, patch, additional-info)</code>. If <code>patch-level</code> is absent it is turned into a <code>0</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-where" class="anchored"><a href="#val-where" class="anchor"></a><code><span><span class="keyword">val</span> where : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Fpath/index.html#type-t">B00_std.Fpath.t</a></span></code></div><div class="spec-doc"><p><code>where c</code> is the location of OCaml's library directory.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-asm_ext" class="anchored"><a href="#val-asm_ext" class="anchor"></a><code><span><span class="keyword">val</span> asm_ext : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Fpath/index.html#type-ext">B00_std.Fpath.ext</a></span></code></div><div class="spec-doc"><p><code>asm_ext</code> is the file extension for assembly files.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dll_ext" class="anchored"><a href="#val-dll_ext" class="anchor"></a><code><span><span class="keyword">val</span> dll_ext : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Fpath/index.html#type-ext">B00_std.Fpath.ext</a></span></code></div><div class="spec-doc"><p><code>dll_ext</code> is the file extension for C dynamic libraries.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exe_ext" class="anchored"><a href="#val-exe_ext" class="anchor"></a><code><span><span class="keyword">val</span> exe_ext : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Fpath/index.html#type-ext">B00_std.Fpath.ext</a></span></code></div><div class="spec-doc"><p><code>ext_ext</code> is the file extension for executable binaries.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lib_ext" class="anchored"><a href="#val-lib_ext" class="anchor"></a><code><span><span class="keyword">val</span> lib_ext : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Fpath/index.html#type-ext">B00_std.Fpath.ext</a></span></code></div><div class="spec-doc"><p><code>ext_lib</code> is the file extension for C static libraries.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-obj_ext" class="anchored"><a href="#val-obj_ext" class="anchor"></a><code><span><span class="keyword">val</span> obj_ext : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../B00_std/Fpath/index.html#type-ext">B00_std.Fpath.ext</a></span></code></div><div class="spec-doc"><p><code>obj_ext</code> is the file extension for C object files.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-has_dynlink" class="anchored"><a href="#val-has_dynlink" class="anchor"></a><code><span><span class="keyword">val</span> has_dynlink : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>has_dynlink</code> determines whether the platform supports dynamic linking.</p></div></div><h2 id="convert"><a href="#convert" class="anchor"></a>Converting</h2><div class="odoc-spec"><div class="spec value" id="val-to_string_map" class="anchored"><a href="#val-to_string_map" class="anchor"></a><code><span><span class="keyword">val</span> to_string_map : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <a href="../../B00_std/String/Map/index.html#type-t">B00_std.String.Map.t</a></span></span></code></div><div class="spec-doc"><p><code>to_string_map c</code> are the fields of <code>c</code> as a string map.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_string_map" class="anchored"><a href="#val-of_string_map" class="anchor"></a><code><span><span class="keyword">val</span> of_string_map : <span><span>string <a href="../../B00_std/String/Map/index.html#type-t">B00_std.String.Map.t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-t">t</a>, string)</span> <a href="../../../ocaml/Stdlib/index.html#type-result">result</a></span></span></code></div><div class="spec-doc"><p><code>of_string_map m</code> is a configuration from string map <code>m</code>. <code>m</code> needs at least on key for each parsed field above otherwise the function errors.</p></div></div></div></body></html>