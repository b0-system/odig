<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Jv (brr.Jv)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">brr</a> &#x00BB; Jv</nav><header class="odoc-preamble"><h1>Module <code><span>Jv</span></code></h1><p>JavaScript values.</p><p>See the FFI <a href="../ffi_manual.html">manual</a> and <a href="../ffi_cookbook.html">cookbook</a> for a gentle introduction.</p></header><nav class="odoc-toc"><ul><li><a href="#values">Values</a></li><li><a href="#null_undefined">Null and undefined</a></li><li><a href="#objects">Objects</a><ul><li><a href="#props">Properties</a></li><li><a href="#create">Creating</a></li><li><a href="#methods">Methods</a></li></ul></li><li><a href="#bools">Booleans</a></li><li><a href="#ints">Integers</a></li><li><a href="#floats">Floating points</a></li><li><a href="#jstr">JavaScript strings</a></li><li><a href="#ocaml_jstr">OCaml strings</a></li><li><a href="#arrays">Arrays</a><ul><li><a href="#array_special">Specialized conversions</a></li><li><a href="#jarr">JavaScript array manipulation</a></li></ul></li><li><a href="#functions">Functions</a></li><li><a href="#exns">Errors and exceptions</a></li><li><a href="#iterators">Iterator protocol</a></li><li><a href="#promises">Promises</a></li><li><a href="#unicode">JavaScript Unicode identifiers</a></li><li><a href="#debugger">Entering the debugger</a></li><li><a href="#feature_detection">Feature detection</a></li><li><a href="#convert">Conversion interface</a></li></ul></nav><div class="odoc-content"><h2 id="values"><a href="#values" class="anchor"></a>Values</h2><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type for JavaScript values. A value of this type represents a value of any <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#Data_and_Structure_types">JavaScript primitive type</a>.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-jv" class="anchored"><a href="#type-jv" class="anchor"></a><code><span><span class="keyword">type</span> jv</span><span> = <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>See <a href="#type-t"><code>t</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>equal v0 v1</code> is JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Equality"><code>==</code> equality</a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-strict_equal" class="anchored"><a href="#val-strict_equal" class="anchor"></a><code><span><span class="keyword">val</span> strict_equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>strict_equal v0 v1</code> is JavaScript's <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Strict_equality">strict equality</a>. OCaml's <code>(==)</code> is mapped on that equality.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-typeof" class="anchored"><a href="#val-typeof" class="anchor"></a><code><span><span class="keyword">val</span> typeof : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Jstr/index.html#type-t">Jstr.t</a></span></code></div><div class="spec-doc"><p><code>typeof</code> is the JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof"><code>typeof</code></a> operator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-instanceof" class="anchored"><a href="#val-instanceof" class="anchor"></a><code><span><span class="keyword">val</span> instanceof : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>cons:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>instanceof o c</code> is <code>true</code> if <code>o</code> is an instance of constructor <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-repr" class="anchored"><a href="#val-repr" class="anchor"></a><code><span><span class="keyword">val</span> repr : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>repr v</code> is the OCaml value <code>v</code> as its JavaScript value representation.</p></div></div><h2 id="null_undefined"><a href="#null_undefined" class="anchor"></a>Null and undefined</h2><div class="odoc-spec"><div class="spec value" id="val-null" class="anchored"><a href="#val-null" class="anchor"></a><code><span><span class="keyword">val</span> null : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>null</code> is JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null"><code>null</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-undefined" class="anchored"><a href="#val-undefined" class="anchor"></a><code><span><span class="keyword">val</span> undefined : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>undefined</code> is JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_null" class="anchored"><a href="#val-is_null" class="anchor"></a><code><span><span class="keyword">val</span> is_null : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_null v</code> is <code>true</code> iff <code>v</code> is <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Strict_equality">strictly equal</a> to <a href="#val-null"><code>null</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_undefined" class="anchored"><a href="#val-is_undefined" class="anchor"></a><code><span><span class="keyword">val</span> is_undefined : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_undefined v</code> is <code>true</code> iff <code>v</code> is <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Strict_equality">strictly equal</a> to <a href="#val-undefined"><code>undefined</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_none" class="anchored"><a href="#val-is_none" class="anchor"></a><code><span><span class="keyword">val</span> is_none : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_none v</code> is <code>is_null v || is_undefined v</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_some" class="anchored"><a href="#val-is_some" class="anchor"></a><code><span><span class="keyword">val</span> is_some : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_some v</code> is <code>not (is_none v)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_option" class="anchored"><a href="#val-to_option" class="anchor"></a><code><span><span class="keyword">val</span> to_option : <span><span>(<span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>to_option conv v</code> is <code>None</code> if <code>v</code> is <a href="#val-null"><code>null</code></a> or <a href="#val-undefined"><code>undefined</code></a> and <code>Some (conv v)</code> if it is not.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_option" class="anchored"><a href="#val-of_option" class="anchor"></a><code><span><span class="keyword">val</span> of_option : <span>none:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> option</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_option ~none conv o</code> is <code>none</code> if <code>o</code> is <code>None</code> and <code>conv v</code> if <code>o</code> is <code>Some v</code>.</p></div></div><h2 id="objects"><a href="#objects" class="anchor"></a>Objects</h2><div class="odoc-spec"><div class="spec value" id="val-global" class="anchored"><a href="#val-global" class="anchor"></a><code><span><span class="keyword">val</span> global : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>global</code> refers to the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/globalThis">global object</a>.</p></div></div><h3 id="props"><a href="#props" class="anchor"></a>Properties</h3><div class="odoc-spec"><div class="spec type" id="type-prop" class="anchored"><a href="#type-prop" class="anchor"></a><code><span><span class="keyword">type</span> prop</span><span> = string</span></code></div><div class="spec-doc"><p>The type for US-ASCII JavaScript object property names.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-get" class="anchored"><a href="#val-get" class="anchor"></a><code><span><span class="keyword">val</span> get : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop">prop</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>get o p</code> is the property <code>p</code> of <code>o</code>. <b>Warning</b>, the result can be <a href="#val-null"><code>null</code></a> or <a href="#val-undefined"><code>undefined</code></a>. See also <a href="#val-find"><code>find</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop">prop</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set o p v</code> sets property <code>p</code> of <code>o</code> to the value <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-delete" class="anchored"><a href="#val-delete" class="anchor"></a><code><span><span class="keyword">val</span> delete : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop">prop</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>delete o p</code> deletes property <code>p</code> of <code>o</code>. The property <code>p</code> or <code>o</code> becomes <a href="#val-undefined"><code>undefined</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find" class="anchored"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop">prop</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div><div class="spec-doc"><p><code>find p o</code> is property <code>p</code> of <code>o</code>. If the property is <a href="#val-null"><code>null</code></a> or <a href="#val-undefined"><code>undefined</code></a>, the result is <code>None</code>. See also <a href="#val-get"><code>get</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_map" class="anchored"><a href="#val-find_map" class="anchor"></a><code><span><span class="keyword">val</span> find_map : <span><span>(<span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop">prop</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>find_map f p o</code> is Option.map f (find p o).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_path" class="anchored"><a href="#val-find_path" class="anchor"></a><code><span><span class="keyword">val</span> find_path : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-prop">prop</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div><div class="spec-doc"><p><code>find_path o p</code> looks up the path <code>l</code> in <code>o</code>. This returns <code>None</code> if any segment is <a href="#val-null"><code>null</code></a> or <a href="#val-undefined"><code>undefined</code></a>. <b>Note.</b> Useful for probing for functionality but rather inefficient.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_if_some" class="anchored"><a href="#val-set_if_some" class="anchor"></a><code><span><span class="keyword">val</span> set_if_some : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop">prop</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> option</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>set_if_some o p v</code> sets property <code>p</code> of <code>o</code> if <code>v</code> is <code>Some p</code>. Otherwise the <code>p</code> is left untouched in <code>o</code>.</p></div></div><h3 id="create"><a href="#create" class="anchor"></a>Creating</h3><div class="odoc-spec"><div class="spec value external" id="val-obj" class="anchored"><a href="#val-obj" class="anchor"></a><code><span><span class="keyword">val</span> obj : <span><span><span>(<a href="#type-prop">prop</a> * <a href="#type-t">t</a>)</span> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>obj props</code> is an object with properties <code>prop</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-new'" class="anchored"><a href="#val-new'" class="anchor"></a><code><span><span class="keyword">val</span> new' : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>new_obj c args</code> creates an object with constructor function <code>c</code> and arguments <code>args</code>. <a href="../ffi_manual.html#create">Lookup</a> contructor functions in the <a href="#val-global"><code>Jv.global</code></a> object.</p></div></div><h3 id="methods"><a href="#methods" class="anchor"></a>Methods</h3><div class="odoc-spec"><div class="spec value external" id="val-call" class="anchored"><a href="#val-call" class="anchor"></a><code><span><span class="keyword">val</span> call : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>call o m args</code> calls the method named <code>m</code> on <code>o</code> with arguments <code>m</code>. <code>m</code> is assumed to be made of US-ASCII characters only, use <a href="#val-call'"><code>call'</code></a> if that is not the case.</p></div></div><h2 id="bools"><a href="#bools" class="anchor"></a>Booleans</h2><div class="odoc-spec"><div class="spec value" id="val-true'" class="anchored"><a href="#val-true'" class="anchor"></a><code><span><span class="keyword">val</span> true' : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>true</code> is JavaScript <code>true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-false'" class="anchored"><a href="#val-false'" class="anchor"></a><code><span><span class="keyword">val</span> false' : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>false'</code> is JavaScript <code>false</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-to_bool" class="anchored"><a href="#val-to_bool" class="anchor"></a><code><span><span class="keyword">val</span> to_bool : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>to_bool v</code> is the JavaScript <code>Boolean</code> value <code>v</code> as a <code>bool</code> value. <b>This is unsafe</b>, only use if <code>v</code> is guaranted to be a JavaScript boolean.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_bool" class="anchored"><a href="#val-of_bool" class="anchor"></a><code><span><span class="keyword">val</span> of_bool : <span>bool <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_bool b</code> is the <code>bool</code> value <code>b</code> as a JavaScript <code>Boolean</code> value.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Bool" class="anchored"><a href="#module-Bool" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Bool/index.html">Bool</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>bool</code> properties accessors.</p></div></div><h2 id="ints"><a href="#ints" class="anchor"></a>Integers</h2><div class="odoc-spec"><div class="spec value external" id="val-to_int" class="anchored"><a href="#val-to_int" class="anchor"></a><code><span><span class="keyword">val</span> to_int : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>to_int v</code> is the JavaScript <code>Number</code> value <code>v</code> as an <code>int</code> value. The conversion is lossless provided <code>v</code> is integral. <b>This is unsafe</b>, only use if <code>v</code> is guaranteed to be a JavaScript number.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_int" class="anchored"><a href="#val-of_int" class="anchor"></a><code><span><span class="keyword">val</span> of_int : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_int i</code> is the <code>int</code> value <code>i</code> as a JavaScript <code>Number</code> value. The conversion is lossess.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Int" class="anchored"><a href="#module-Int" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Int/index.html">Int</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>int</code> properties accessors.</p></div></div><h2 id="floats"><a href="#floats" class="anchor"></a>Floating points</h2><div class="odoc-spec"><div class="spec value external" id="val-to_float" class="anchored"><a href="#val-to_float" class="anchor"></a><code><span><span class="keyword">val</span> to_float : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div><div class="spec-doc"><p><code>to_float v</code> is the JavaScript <code>Number</code> value <code>v</code> as a <code>float</code> value. The conversion is lossless.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_float" class="anchored"><a href="#val-of_float" class="anchor"></a><code><span><span class="keyword">val</span> of_float : <span>float <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_float f</code> is the <code>float</code> value <code>f</code> as a JavaScript <code>Number</code> value. The conversion is lossless.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Float" class="anchored"><a href="#module-Float" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Float/index.html">Float</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>float</code> object properties.</p></div></div><h2 id="jstr"><a href="#jstr" class="anchor"></a>JavaScript strings</h2><div class="odoc-spec"><div class="spec value external" id="val-to_jstr" class="anchored"><a href="#val-to_jstr" class="anchor"></a><code><span><span class="keyword">val</span> to_jstr : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Jstr/index.html#type-t">Jstr.t</a></span></code></div><div class="spec-doc"><p><code>to_jstr v</code> is the JavaScript string value <code>v</code> as a <code>jstr</code> value.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_jstr" class="anchored"><a href="#val-of_jstr" class="anchor"></a><code><span><span class="keyword">val</span> of_jstr : <span><a href="../Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_jstr v</code> is the <code>jstr</code> value <code>v</code> as a JavaScript value.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Jstr" class="anchored"><a href="#module-Jstr" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Jstr/index.html">Jstr</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>Jstr</code> object properties.</p></div></div><h2 id="ocaml_jstr"><a href="#ocaml_jstr" class="anchor"></a>OCaml strings</h2><div class="odoc-spec"><div class="spec value" id="val-of_string" class="anchored"><a href="#val-of_string" class="anchor"></a><code><span><span class="keyword">val</span> of_string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_string v</code> is a JavaScript string from the UTF-8 encoded OCaml string <code>v</code>. Shortcut for <code>of_jstr (Jstr.v v)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>to_string v</code> is an UTF-8 encoded OCaml string from the JavaScript string <code>v</code>. Shortcut for <code>Jstr.to_string (to_jstr v)</code>.</p></div></div><h2 id="arrays"><a href="#arrays" class="anchor"></a>Arrays</h2><div class="odoc-spec"><div class="spec value" id="val-to_array" class="anchored"><a href="#val-to_array" class="anchor"></a><code><span><span class="keyword">val</span> to_array : <span><span>(<span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> array</span></span></code></div><div class="spec-doc"><p><code>to_array conv a</code> is an <code>array</code> value made of the JavaScript array <code>a</code> whose elements are converted with <code>conv</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_array" class="anchored"><a href="#val-of_array" class="anchor"></a><code><span><span class="keyword">val</span> of_array : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_array conv a</code> is a JavaScript <code>Array</code> value made of the <code>array</code> value <code>a</code> whose element are converted to JavaScript values with <code>conv</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-to_list" class="anchored"><a href="#val-to_list" class="anchor"></a><code><span><span class="keyword">val</span> to_list : <span><span>(<span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> list</span></span></code></div><div class="spec-doc"><p><code>to_list conv a</code> is a <code>list</code> value made of the JavaScript array <code>a</code> whose elements are converted with <code>conv</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_list" class="anchored"><a href="#val-of_list" class="anchor"></a><code><span><span class="keyword">val</span> of_list : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_list conv l</code> is the JavaScript <code>Array</code> value made of the <code>list</code> value <code>l</code> whose element are converted to JavaScript values with <code>conv</code>.</p></div></div><h3 id="array_special"><a href="#array_special" class="anchor"></a>Specialized conversions</h3><p>Can be faster.</p><div class="odoc-spec"><div class="spec value external" id="val-to_jv_array" class="anchored"><a href="#val-to_jv_array" class="anchor"></a><code><span><span class="keyword">val</span> to_jv_array : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> array</span></span></code></div><div class="spec-doc"><p><code>to_jv_array</code> is <code>to_array Fun.id</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_jv_array" class="anchored"><a href="#val-of_jv_array" class="anchor"></a><code><span><span class="keyword">val</span> of_jv_array : <span><span><a href="#type-t">t</a> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_jv_array</code> is <code>of_array Fun.id</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-to_jv_list" class="anchored"><a href="#val-to_jv_list" class="anchor"></a><code><span><span class="keyword">val</span> to_jv_list : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p><code>to_jv_list a</code> is <code>to_list Fun.id</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_jv_list" class="anchored"><a href="#val-of_jv_list" class="anchor"></a><code><span><span class="keyword">val</span> of_jv_list : <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_jv_array a</code> is <code>of_list Fun.id</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-to_jstr_array" class="anchored"><a href="#val-to_jstr_array" class="anchor"></a><code><span><span class="keyword">val</span> to_jstr_array : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Jstr/index.html#type-t">Jstr.t</a> array</span></span></code></div><div class="spec-doc"><p><code>to_jstr_array</code> is <code>to_array to_jstr</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_jstr_array" class="anchored"><a href="#val-of_jstr_array" class="anchor"></a><code><span><span class="keyword">val</span> of_jstr_array : <span><span><a href="Jstr/index.html#type-t">Jstr.t</a> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_jstr_array a</code> is <code>of_array of_jstr</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-to_jstr_list" class="anchored"><a href="#val-to_jstr_list" class="anchor"></a><code><span><span class="keyword">val</span> to_jstr_list : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Jstr/index.html#type-t">Jstr.t</a> list</span></span></code></div><div class="spec-doc"><p><code>to_jv_array a</code> is <code>a</code> as <code>list</code> of JavaScript values.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_jstr_list" class="anchored"><a href="#val-of_jstr_list" class="anchor"></a><code><span><span class="keyword">val</span> of_jstr_list : <span><span><a href="Jstr/index.html#type-t">Jstr.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_jv_array a</code> is <code>a</code> as a JavaScript array of JavaScript values.</p></div></div><h3 id="jarr"><a href="#jarr" class="anchor"></a>JavaScript array manipulation</h3><div class="odoc-spec"><div class="spec module" id="module-Jarray" class="anchored"><a href="#module-Jarray" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Jarray/index.html">Jarray</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>JavaScript arrays.</p></div></div><h2 id="functions"><a href="#functions" class="anchor"></a>Functions</h2><div class="odoc-spec"><div class="spec value external" id="val-apply" class="anchored"><a href="#val-apply" class="anchor"></a><code><span><span class="keyword">val</span> apply : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>apply f args</code> calls function <code>f</code> with arguments <code>args</code>. ' <a href="../ffi_manual.html#funcs">Lookup</a> functions names in the <a href="#val-global"><code>Jv.global</code></a> object.</p></div></div><h2 id="exns"><a href="#exns" class="anchor"></a>Errors and exceptions</h2><div class="odoc-spec"><div class="spec module" id="module-Error" class="anchored"><a href="#module-Error" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Error/index.html">Error</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Error objects.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-of_error" class="anchored"><a href="#val-of_error" class="anchor"></a><code><span><span class="keyword">val</span> of_error : <span><a href="Error/index.html#type-t">Error.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>of_error e</code> is <code>e</code> as a JavaScript value.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-to_error" class="anchored"><a href="#val-to_error" class="anchor"></a><code><span><span class="keyword">val</span> to_error : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Error/index.html#type-t">Error.t</a></span></code></div><div class="spec-doc"><p><code>to_error v</code> is <code>v</code> as a JavaScript error.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Error" class="anchored"><a href="#exception-Error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Error</span> <span class="keyword">of</span> <a href="Error/index.html#type-t">Error.t</a></span></code></div><div class="spec-doc"><p>This OCaml exception represents any exception thrown by JavaScript code that is an instance of the Error exception. You should match on this exception in OCaml code to catch JavaScript exceptions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-throw" class="anchored"><a href="#val-throw" class="anchor"></a><code><span><span class="keyword">val</span> throw : <span>?name:<a href="Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>throw ?name msg</code> throws a JavaScript exception with error object <a href="Error/index.html#val-v"><code>Jv.Error.v</code></a> <code>?name msg</code>.</p></div></div><h2 id="iterators"><a href="#iterators" class="anchor"></a>Iterator protocol</h2><div class="odoc-spec"><div class="spec module" id="module-It" class="anchored"><a href="#module-It" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="It/index.html">It</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>JavaScript iterator protocol.</p></div></div><h2 id="promises"><a href="#promises" class="anchor"></a>Promises</h2><div class="odoc-spec"><div class="spec module" id="module-Promise" class="anchored"><a href="#module-Promise" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Promise/index.html">Promise</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>JavaScript promise support.</p></div></div><h2 id="unicode"><a href="#unicode" class="anchor"></a>JavaScript Unicode identifiers</h2><p>The functions above only work with US-ASCII OCaml string literals. If you hit general Unicode identifiers create JavaScript strings representing them with <code>Jstr.v</code> and use the following functions.</p><div class="odoc-spec"><div class="spec type" id="type-prop'" class="anchored"><a href="#type-prop'" class="anchor"></a><code><span><span class="keyword">type</span> prop'</span><span> = <a href="Jstr/index.html#type-t">Jstr.t</a></span></code></div><div class="spec-doc"><p>The type for full Unicode JavaScript object property names.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-get'" class="anchored"><a href="#val-get'" class="anchor"></a><code><span><span class="keyword">val</span> get' : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop'">prop'</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>get' o p</code> is the property <code>p</code> of <code>o</code>. <b>Warning</b>, the result can be <a href="#val-null"><code>null</code></a> or <a href="#val-undefined"><code>undefined</code></a>. See also <a href="#val-find"><code>find</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-set'" class="anchored"><a href="#val-set'" class="anchor"></a><code><span><span class="keyword">val</span> set' : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop'">prop'</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>se't o p v</code> sets property <code>p</code> of <code>o</code> to the value <code>v</code>.</p></div></div><div class="odoc-spec"><div class="spec value external" id="val-delete'" class="anchored"><a href="#val-delete'" class="anchor"></a><code><span><span class="keyword">val</span> delete' : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop'">prop'</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>delete' o p</code> deletes property <code>p</code> of <code>o</code>. The property <code>p</code> or <code>o</code> becomes <a href="#val-undefined"><code>undefined</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find'" class="anchored"><a href="#val-find'" class="anchor"></a><code><span><span class="keyword">val</span> find' : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop'">prop'</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div><div class="spec-doc"><p><code>find' p o</code> is property <code>p</code> of <code>o</code>. If the property is <a href="#val-null"><code>null</code></a> or <a href="#val-undefined"><code>undefined</code></a>, the result is <code>None</code>. See also <a href="#val-get'"><code>get'</code></a>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_map'" class="anchored"><a href="#val-find_map'" class="anchor"></a><code><span><span class="keyword">val</span> find_map' : <span><span>(<span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-prop'">prop'</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>find_map' f p o</code> is Option.map f (find' p o).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-obj'" class="anchored"><a href="#val-obj'" class="anchor"></a><code><span><span class="keyword">val</span> obj' : <span><span><span>(<a href="#type-prop'">prop'</a> * <a href="#type-t">t</a>)</span> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>obj props</code> is an object with properties <code>prop</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-call'" class="anchored"><a href="#val-call'" class="anchor"></a><code><span><span class="keyword">val</span> call' : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="Jstr/index.html#type-t">Jstr.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>call' o m args</code> calls method <code>m</code> on <code>o</code> with arguments <code>m</code>. <code>m</code> must be a JavaScript string.</p></div></div><h2 id="debugger"><a href="#debugger" class="anchor"></a>Entering the debugger</h2><div class="odoc-spec"><div class="spec value external" id="val-debugger" class="anchored"><a href="#val-debugger" class="anchor"></a><code><span><span class="keyword">val</span> debugger : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>debugger ()</code> stops and enters the JavaScript debugger (if available).</p></div></div><h2 id="feature_detection"><a href="#feature_detection" class="anchor"></a>Feature detection</h2><div class="odoc-spec"><div class="spec value" id="val-has" class="anchored"><a href="#val-has" class="anchor"></a><code><span><span class="keyword">val</span> has : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>has p v</code> tests whether <code>Jv.repr v</code> has a member or method <code>p</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-defined" class="anchored"><a href="#val-defined" class="anchor"></a><code><span><span class="keyword">val</span> defined : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>defined v</code> is <code>Jv.is_some (J.repr v)</code>. Tests whether <code>v</code> is neither null nor undefined.</p></div></div><h2 id="convert"><a href="#convert" class="anchor"></a>Conversion interface</h2><div class="odoc-spec"><div class="spec module-type" id="module-type-CONV" class="anchored"><a href="#module-type-CONV" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> </span><span><a href="module-type-CONV/index.html">CONV</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Abstract type conversion iterface.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Id" class="anchored"><a href="#module-Id" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Id/index.html">Id</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Identity implementation of <a href="module-type-CONV/index.html"><code>CONV</code></a>.</p></div></div></div></body></html>