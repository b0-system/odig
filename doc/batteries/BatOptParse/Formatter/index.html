<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Formatter (batteries.BatOptParse.Formatter)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">batteries</a> &#x00BB; <a href="../index.html">BatOptParse</a> &#x00BB; Formatter</nav><header class="odoc-preamble"><h1>Module <code><span>BatOptParse.Formatter</span></code></h1><p>This module contains the types and functions for implementing custom usage message formatters.</p></header><nav class="odoc-toc"><ul><li><a href="#standard-formatters">Standard formatters</a></li><li><a href="#low-level-formatting">Low-level formatting</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span><span>{</span></code><table><tr id="type-t.indent" class="anchored"><td class="def record field"><a href="#type-t.indent" class="anchor"></a><code><span>indent : <span>unit <span class="arrow">&#45;&gt;</span></span> unit;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Increase the indentation level.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.dedent" class="anchored"><td class="def record field"><a href="#type-t.dedent" class="anchor"></a><code><span>dedent : <span>unit <span class="arrow">&#45;&gt;</span></span> unit;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Decrease the indentation level.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.format_usage" class="anchored"><td class="def record field"><a href="#type-t.format_usage" class="anchor"></a><code><span>format_usage : <span>string <span class="arrow">&#45;&gt;</span></span> string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Format usage string into style of this formatter.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.format_heading" class="anchored"><td class="def record field"><a href="#type-t.format_heading" class="anchor"></a><code><span>format_heading : <span>string <span class="arrow">&#45;&gt;</span></span> string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Format heading into style of this formatter.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.format_description" class="anchored"><td class="def record field"><a href="#type-t.format_description" class="anchor"></a><code><span>format_description : <span>string <span class="arrow">&#45;&gt;</span></span> string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Format description into style of this formatter.</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.format_option" class="anchored"><td class="def record field"><a href="#type-t.format_option" class="anchor"></a><code><span>format_option : <span><span>(<span>char list</span> * <span>string list</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>string option</span> <span class="arrow">&#45;&gt;</span></span> string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Format option into style of this formatter (see explanation below).</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><p>This is the type of a formatter. The <code>format_option</code> has signature <code>format_option (snames,lnames) metavars help</code>, where <code>snames</code> is a list of the short option names, <code>lnames</code> is a list of the long option names, <code>metavars</code> is a list of the metavars the option takes as arguments, and <code>help</code> is the help string supplied by the user.</p><h6 id="standard-formatters"><a href="#standard-formatters" class="anchor"></a>Standard formatters</h6><div class="odoc-spec"><div class="spec value" id="val-indented_formatter" class="anchored"><a href="#val-indented_formatter" class="anchor"></a><code><span><span class="keyword">val</span> indented_formatter : <span>?level:<span>int <a href="../../../ocaml/Stdlib/index.html#type-ref">ref</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?indent:<span>int <a href="../../../ocaml/Stdlib/index.html#type-ref">ref</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?indent_increment:int <span class="arrow">&#45;&gt;</span></span>
<span>?max_help_position:int <span class="arrow">&#45;&gt;</span></span> <span>?width:int <span class="arrow">&#45;&gt;</span></span> <span>?short_first:bool <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Create an &quot;indented&quot; formatter with the given options.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">width</span> <p>Total with of the usage messages printed.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">max_help_position</span> <p>Maximum starting column for the help messages relating to each option.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">short_first</span> <p>List all the short option names first?</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">indent_increment</span> <p>Number of columns to indent by when more indentation is required.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">indent</span> <p>Reference to the current indentation amount. Its value reflects changes in indentation level.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">level</span> <p>Reference to the current indentation level. Its value reflects changes in indentation level.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-titled_formatter" class="anchored"><a href="#val-titled_formatter" class="anchor"></a><code><span><span class="keyword">val</span> titled_formatter : <span>?level:<span>int <a href="../../../ocaml/Stdlib/index.html#type-ref">ref</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?indent:<span>int <a href="../../../ocaml/Stdlib/index.html#type-ref">ref</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?indent_increment:int <span class="arrow">&#45;&gt;</span></span>
<span>?max_help_position:int <span class="arrow">&#45;&gt;</span></span> <span>?width:int <span class="arrow">&#45;&gt;</span></span> <span>?short_first:bool <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Creates a titled formatter which is quite similar to the indented formatter. See <code>OptParse</code>.Formatter.indented_formatter for a description of the options.</p></div></div><h6 id="low-level-formatting"><a href="#low-level-formatting" class="anchor"></a>Low-level formatting</h6><div class="odoc-spec"><div class="spec value" id="val-wrap" class="anchored"><a href="#val-wrap" class="anchor"></a><code><span><span class="keyword">val</span> wrap : <span>?initial_indent:int <span class="arrow">&#45;&gt;</span></span> <span>?subsequent_indent:int <span class="arrow">&#45;&gt;</span></span>
<span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>wrap text width</code> reflows the given text paragraph into lines of width at most <code>width</code> (lines may exceed this if the are single words that exceed this limit).</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">initial_indent</span> <p>Indentation of the first line.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">subsequent_indent</span> <p>Indentation of the following lines.</p></li></ul><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a list of lines making up the reformatted paragraph.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-fill" class="anchored"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span>?initial_indent:int <span class="arrow">&#45;&gt;</span></span> <span>?subsequent_indent:int <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>See <code>OptParse</code>.Formatter.wrap.</p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p>a string containing the reformatted paragraph.</p></li></ul></div></div></div></body></html>