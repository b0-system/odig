<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OpamTypes (opam-format.OpamTypes)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">opam-format</a> &#x00BB; OpamTypes</nav><h1>Module <code>OpamTypes</code></h1><p>Definitions of many types used throughout</p><nav class="toc"><ul><li><a href="#untyped-generic-file-format">Untyped generic file format</a></li><li><a href="#filenames">Filenames</a></li><li><a href="#packages">Packages</a></li><li><a href="#variables">Variables</a></li><li><a href="#formulas">Formulas</a></li><li><a href="#repositories">Repositories</a></li><li><a href="#variable-based-filters">Variable-based filters</a></li><li><a href="#filtered-formulas-(to-express-conditional-dependencies)">Filtered formulas (to express conditional dependencies)</a></li><li><a href="#solver">Solver</a></li><li><a href="#command-line-arguments">Command line arguments</a></li><li><a href="#generic-command-line-definitions-with-filters">Generic command-line definitions with filters</a></li><li><a href="#switches">Switches</a></li><li><a href="#misc">Misc</a></li><li><a href="#repository-and-global-states">Repository and global states</a></li></ul></nav></header><dl><dt class="spec type" id="type-success"><a href="#type-success" class="anchor"></a><code><span class="keyword">type</span> 'a success</code> = <code>[ </code><table class="variant"><tr id="type-success.Successful" class="anchored"><td class="def constructor"><a href="#type-success.Successful" class="anchor"></a><code>| </code><code>`Successful <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr></table><code> ]</code></dt><dd><h3 id="error-and-continuation-handling"><a href="#error-and-continuation-handling" class="anchor"></a>Error and continuation handling</h3></dd></dl><dl><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> 'a error</code> = <code>[ </code><table class="variant"><tr id="type-error.Error" class="anchored"><td class="def constructor"><a href="#type-error.Error" class="anchor"></a><code>| </code><code>`Error <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-error.Exception" class="anchored"><td class="def constructor"><a href="#type-error.Exception" class="anchor"></a><code>| </code><code>`Exception <span class="keyword">of</span> exn</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-status"><a href="#type-status" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b) status</code> = <code>[ </code><table class="variant"><tr id="type-status.success" class="anchored"><td class="def type"><a href="#type-status.success" class="anchor"></a><code>| </code><code><span class="type-var">'a</span> <a href="index.html#type-success">success</a></code></td></tr><tr id="type-status.error" class="anchored"><td class="def type"><a href="#type-status.error" class="anchor"></a><code>| </code><code><span class="type-var">'b</span> <a href="index.html#type-error">error</a></code></td></tr></table><code> ]</code></dt></dl><section><header><h3 id="untyped-generic-file-format"><a href="#untyped-generic-file-format" class="anchor"></a>Untyped generic file format</h3></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <span class="keyword">sig</span> ... <span class="keyword">end</span></code></span></summary><dl><dt class="spec type" id="type-relop"><a href="#type-relop" class="anchor"></a><code><span class="keyword">type</span> relop</code> = <code>[ </code><table class="variant"><tr id="type-relop.Eq" class="anchored"><td class="def constructor"><a href="#type-relop.Eq" class="anchor"></a><code>| </code><code>`Eq</code></td></tr><tr id="type-relop.Geq" class="anchored"><td class="def constructor"><a href="#type-relop.Geq" class="anchor"></a><code>| </code><code>`Geq</code></td></tr><tr id="type-relop.Gt" class="anchored"><td class="def constructor"><a href="#type-relop.Gt" class="anchor"></a><code>| </code><code>`Gt</code></td></tr><tr id="type-relop.Leq" class="anchored"><td class="def constructor"><a href="#type-relop.Leq" class="anchor"></a><code>| </code><code>`Leq</code></td></tr><tr id="type-relop.Lt" class="anchored"><td class="def constructor"><a href="#type-relop.Lt" class="anchor"></a><code>| </code><code>`Lt</code></td></tr><tr id="type-relop.Neq" class="anchored"><td class="def constructor"><a href="#type-relop.Neq" class="anchor"></a><code>| </code><code>`Neq</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-logop"><a href="#type-logop" class="anchor"></a><code><span class="keyword">type</span> logop</code> = <code>[ </code><table class="variant"><tr id="type-logop.And" class="anchored"><td class="def constructor"><a href="#type-logop.And" class="anchor"></a><code>| </code><code>`And</code></td></tr><tr id="type-logop.Or" class="anchored"><td class="def constructor"><a href="#type-logop.Or" class="anchor"></a><code>| </code><code>`Or</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-pfxop"><a href="#type-pfxop" class="anchor"></a><code><span class="keyword">type</span> pfxop</code> = <code>[ </code><table class="variant"><tr id="type-pfxop.Defined" class="anchored"><td class="def constructor"><a href="#type-pfxop.Defined" class="anchor"></a><code>| </code><code>`Defined</code></td></tr><tr id="type-pfxop.Not" class="anchored"><td class="def constructor"><a href="#type-pfxop.Not" class="anchor"></a><code>| </code><code>`Not</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-file_name"><a href="#type-file_name" class="anchor"></a><code><span class="keyword">type</span> file_name</code><code> = string</code></dt><dt class="spec type" id="type-pos"><a href="#type-pos" class="anchor"></a><code><span class="keyword">type</span> pos</code><code> = <a href="index.html#type-file_name">file_name</a> * int * int</code></dt><dt class="spec type" id="type-env_update_op"><a href="#type-env_update_op" class="anchor"></a><code><span class="keyword">type</span> env_update_op</code><code> = <a href="../../opam-file-format/OpamParserTypes/index.html#type-env_update_op">OpamParserTypes.env_update_op</a></code><code> = </code><table class="variant"><tr id="type-env_update_op.Eq" class="anchored"><td class="def constructor"><a href="#type-env_update_op.Eq" class="anchor"></a><code>| </code><code><span class="constructor">Eq</span></code></td></tr><tr id="type-env_update_op.PlusEq" class="anchored"><td class="def constructor"><a href="#type-env_update_op.PlusEq" class="anchor"></a><code>| </code><code><span class="constructor">PlusEq</span></code></td></tr><tr id="type-env_update_op.EqPlus" class="anchored"><td class="def constructor"><a href="#type-env_update_op.EqPlus" class="anchor"></a><code>| </code><code><span class="constructor">EqPlus</span></code></td></tr><tr id="type-env_update_op.ColonEq" class="anchored"><td class="def constructor"><a href="#type-env_update_op.ColonEq" class="anchor"></a><code>| </code><code><span class="constructor">ColonEq</span></code></td></tr><tr id="type-env_update_op.EqColon" class="anchored"><td class="def constructor"><a href="#type-env_update_op.EqColon" class="anchor"></a><code>| </code><code><span class="constructor">EqColon</span></code></td></tr><tr id="type-env_update_op.EqPlusEq" class="anchored"><td class="def constructor"><a href="#type-env_update_op.EqPlusEq" class="anchor"></a><code>| </code><code><span class="constructor">EqPlusEq</span></code></td></tr></table></dt><dt class="spec type" id="type-value"><a href="#type-value" class="anchor"></a><code><span class="keyword">type</span> value</code><code> = <a href="../../opam-file-format/OpamParserTypes/index.html#type-value">OpamParserTypes.value</a></code><code> = </code><table class="variant"><tr id="type-value.Bool" class="anchored"><td class="def constructor"><a href="#type-value.Bool" class="anchor"></a><code>| </code><code><span class="constructor">Bool</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * bool</code></td></tr><tr id="type-value.Int" class="anchored"><td class="def constructor"><a href="#type-value.Int" class="anchor"></a><code>| </code><code><span class="constructor">Int</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * int</code></td></tr><tr id="type-value.String" class="anchored"><td class="def constructor"><a href="#type-value.String" class="anchor"></a><code>| </code><code><span class="constructor">String</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * string</code></td></tr><tr id="type-value.Relop" class="anchored"><td class="def constructor"><a href="#type-value.Relop" class="anchor"></a><code>| </code><code><span class="constructor">Relop</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-relop">relop</a> * <a href="index.html#type-value">value</a> * <a href="index.html#type-value">value</a></code></td></tr><tr id="type-value.Prefix_relop" class="anchored"><td class="def constructor"><a href="#type-value.Prefix_relop" class="anchor"></a><code>| </code><code><span class="constructor">Prefix_relop</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-relop">relop</a> * <a href="index.html#type-value">value</a></code></td></tr><tr id="type-value.Logop" class="anchored"><td class="def constructor"><a href="#type-value.Logop" class="anchor"></a><code>| </code><code><span class="constructor">Logop</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-logop">logop</a> * <a href="index.html#type-value">value</a> * <a href="index.html#type-value">value</a></code></td></tr><tr id="type-value.Pfxop" class="anchored"><td class="def constructor"><a href="#type-value.Pfxop" class="anchor"></a><code>| </code><code><span class="constructor">Pfxop</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-pfxop">pfxop</a> * <a href="index.html#type-value">value</a></code></td></tr><tr id="type-value.Ident" class="anchored"><td class="def constructor"><a href="#type-value.Ident" class="anchor"></a><code>| </code><code><span class="constructor">Ident</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * string</code></td></tr><tr id="type-value.List" class="anchored"><td class="def constructor"><a href="#type-value.List" class="anchor"></a><code>| </code><code><span class="constructor">List</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-value">value</a> list</code></td></tr><tr id="type-value.Group" class="anchored"><td class="def constructor"><a href="#type-value.Group" class="anchor"></a><code>| </code><code><span class="constructor">Group</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-value">value</a> list</code></td></tr><tr id="type-value.Option" class="anchored"><td class="def constructor"><a href="#type-value.Option" class="anchor"></a><code>| </code><code><span class="constructor">Option</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-value">value</a> * <a href="index.html#type-value">value</a> list</code></td></tr><tr id="type-value.Env_binding" class="anchored"><td class="def constructor"><a href="#type-value.Env_binding" class="anchor"></a><code>| </code><code><span class="constructor">Env_binding</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-value">value</a> * <a href="index.html#type-env_update_op">env_update_op</a> * <a href="index.html#type-value">value</a></code></td></tr></table></dt><dt class="spec type" id="type-opamfile_section"><a href="#type-opamfile_section" class="anchor"></a><code><span class="keyword">type</span> opamfile_section</code><code> = <a href="../../opam-file-format/OpamParserTypes/index.html#type-opamfile_section">OpamParserTypes.opamfile_section</a></code><code> = </code><code>{</code><table class="record"><tr id="type-opamfile_section.section_kind" class="anchored"><td class="def field"><a href="#type-opamfile_section.section_kind" class="anchor"></a><code>section_kind : string;</code></td></tr><tr id="type-opamfile_section.section_name" class="anchored"><td class="def field"><a href="#type-opamfile_section.section_name" class="anchor"></a><code>section_name : string option;</code></td></tr><tr id="type-opamfile_section.section_items" class="anchored"><td class="def field"><a href="#type-opamfile_section.section_items" class="anchor"></a><code>section_items : <a href="index.html#type-opamfile_item">opamfile_item</a> list;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-opamfile_item"><a href="#type-opamfile_item" class="anchor"></a><code><span class="keyword">and</span> opamfile_item</code><code> = <a href="../../opam-file-format/OpamParserTypes/index.html#type-opamfile_item">OpamParserTypes.opamfile_item</a></code><code> = </code><table class="variant"><tr id="type-opamfile_item.Section" class="anchored"><td class="def constructor"><a href="#type-opamfile_item.Section" class="anchor"></a><code>| </code><code><span class="constructor">Section</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * <a href="index.html#type-opamfile_section">opamfile_section</a></code></td></tr><tr id="type-opamfile_item.Variable" class="anchored"><td class="def constructor"><a href="#type-opamfile_item.Variable" class="anchor"></a><code>| </code><code><span class="constructor">Variable</span> <span class="keyword">of</span> <a href="index.html#type-pos">pos</a> * string * <a href="index.html#type-value">value</a></code></td></tr></table></dt><dt class="spec type" id="type-opamfile"><a href="#type-opamfile" class="anchor"></a><code><span class="keyword">type</span> opamfile</code><code> = <a href="../../opam-file-format/OpamParserTypes/index.html#type-opamfile">OpamParserTypes.opamfile</a></code><code> = </code><code>{</code><table class="record"><tr id="type-opamfile.file_contents" class="anchored"><td class="def field"><a href="#type-opamfile.file_contents" class="anchor"></a><code>file_contents : <a href="index.html#type-opamfile_item">opamfile_item</a> list;</code></td></tr><tr id="type-opamfile.file_name" class="anchored"><td class="def field"><a href="#type-opamfile.file_name" class="anchor"></a><code>file_name : <a href="index.html#type-file_name">file_name</a>;</code></td></tr></table><code>}</code></dt></dl></details></div></div></div></section><section><header><h3 id="filenames"><a href="#filenames" class="anchor"></a>Filenames</h3></header><dl><dt class="spec type" id="type-basename"><a href="#type-basename" class="anchor"></a><code><span class="keyword">type</span> basename</code><code> = <a href="../../opam-core/OpamFilename/Base/index.html#type-t">OpamFilename.Base.t</a></code></dt><dd><p>Basenames</p></dd></dl><dl><dt class="spec type" id="type-dirname"><a href="#type-dirname" class="anchor"></a><code><span class="keyword">type</span> dirname</code><code> = <a href="../../opam-core/OpamFilename/Dir/index.html#type-t">OpamFilename.Dir.t</a></code></dt><dd><p>Directory names (translated to absolute)</p></dd></dl><dl><dt class="spec type" id="type-filename"><a href="#type-filename" class="anchor"></a><code><span class="keyword">type</span> filename</code><code> = <a href="../../opam-core/OpamFilename/index.html#type-t">OpamFilename.t</a></code></dt><dd><p>Filenames</p></dd></dl><dl><dt class="spec type" id="type-filename_set"><a href="#type-filename_set" class="anchor"></a><code><span class="keyword">type</span> filename_set</code><code> = <a href="../../opam-core/OpamFilename/Set/index.html#type-t">OpamFilename.Set.t</a></code></dt><dd><p>Set of files</p></dd></dl><dl><dt class="spec type" id="type-filename_map"><a href="#type-filename_map" class="anchor"></a><code><span class="keyword">type</span> 'a filename_map</code><code> = <span class="type-var">'a</span> <a href="../../opam-core/OpamFilename/Map/index.html#type-t">OpamFilename.Map.t</a></code></dt><dd><p>Map of files</p></dd></dl><dl><dt class="spec type" id="type-std_path"><a href="#type-std_path" class="anchor"></a><code><span class="keyword">type</span> std_path</code><code> = </code><table class="variant"><tr id="type-std_path.Prefix" class="anchored"><td class="def constructor"><a href="#type-std_path.Prefix" class="anchor"></a><code>| </code><code><span class="constructor">Prefix</span></code></td></tr><tr id="type-std_path.Lib" class="anchored"><td class="def constructor"><a href="#type-std_path.Lib" class="anchor"></a><code>| </code><code><span class="constructor">Lib</span></code></td></tr><tr id="type-std_path.Bin" class="anchored"><td class="def constructor"><a href="#type-std_path.Bin" class="anchor"></a><code>| </code><code><span class="constructor">Bin</span></code></td></tr><tr id="type-std_path.Sbin" class="anchored"><td class="def constructor"><a href="#type-std_path.Sbin" class="anchor"></a><code>| </code><code><span class="constructor">Sbin</span></code></td></tr><tr id="type-std_path.Share" class="anchored"><td class="def constructor"><a href="#type-std_path.Share" class="anchor"></a><code>| </code><code><span class="constructor">Share</span></code></td></tr><tr id="type-std_path.Doc" class="anchored"><td class="def constructor"><a href="#type-std_path.Doc" class="anchor"></a><code>| </code><code><span class="constructor">Doc</span></code></td></tr><tr id="type-std_path.Etc" class="anchored"><td class="def constructor"><a href="#type-std_path.Etc" class="anchor"></a><code>| </code><code><span class="constructor">Etc</span></code></td></tr><tr id="type-std_path.Man" class="anchored"><td class="def constructor"><a href="#type-std_path.Man" class="anchor"></a><code>| </code><code><span class="constructor">Man</span></code></td></tr><tr id="type-std_path.Toplevel" class="anchored"><td class="def constructor"><a href="#type-std_path.Toplevel" class="anchor"></a><code>| </code><code><span class="constructor">Toplevel</span></code></td></tr><tr id="type-std_path.Stublibs" class="anchored"><td class="def constructor"><a href="#type-std_path.Stublibs" class="anchor"></a><code>| </code><code><span class="constructor">Stublibs</span></code></td></tr></table></dt><dd><p>Predefined installation directories within a switch</p></dd></dl><dl><dt class="spec type" id="type-download"><a href="#type-download" class="anchor"></a><code><span class="keyword">type</span> 'a download</code><code> = </code><table class="variant"><tr id="type-download.Up_to_date" class="anchored"><td class="def constructor"><a href="#type-download.Up_to_date" class="anchor"></a><code>| </code><code><span class="constructor">Up_to_date</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-download.Not_available" class="anchored"><td class="def constructor"><a href="#type-download.Not_available" class="anchor"></a><code>| </code><code><span class="constructor">Not_available</span> <span class="keyword">of</span> string option * string</code></td><td class="doc"><p>Arguments are respectively the short and long version of an error message. The usage is: the first argument is displayed on normal mode (nothing if <code>None</code>), and the second one on verbose mode.</p></td></tr><tr id="type-download.Result" class="anchored"><td class="def constructor"><a href="#type-download.Result" class="anchor"></a><code>| </code><code><span class="constructor">Result</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr></table></dt><dd><p>Download result</p></dd></dl></section><section><header><h3 id="packages"><a href="#packages" class="anchor"></a>Packages</h3></header><dl><dt class="spec type" id="type-package"><a href="#type-package" class="anchor"></a><code><span class="keyword">type</span> package</code><code> = <span class="keyword">private</span> <a href="../OpamPackage/index.html#type-t">OpamPackage.t</a></code><code> = </code><code>{</code><table class="record"><tr id="type-package.name" class="anchored"><td class="def field"><a href="#type-package.name" class="anchor"></a><code>name : <a href="../OpamPackage/Name/index.html#type-t">OpamPackage.Name.t</a>;</code></td></tr><tr id="type-package.version" class="anchored"><td class="def field"><a href="#type-package.version" class="anchor"></a><code>version : <a href="../OpamPackage/Version/index.html#type-t">OpamPackage.Version.t</a>;</code></td></tr></table><code>}</code></dt><dd><p>Packages are (<code>name</code> * <code>version</code>) tuple</p></dd></dl><dl><dt class="spec type" id="type-package_set"><a href="#type-package_set" class="anchor"></a><code><span class="keyword">type</span> package_set</code><code> = <a href="../OpamPackage/Set/index.html#type-t">OpamPackage.Set.t</a></code></dt><dd><p>Set of packages</p></dd></dl><dl><dt class="spec type" id="type-package_map"><a href="#type-package_map" class="anchor"></a><code><span class="keyword">type</span> 'a package_map</code><code> = <span class="type-var">'a</span> <a href="../OpamPackage/Map/index.html#type-t">OpamPackage.Map.t</a></code></dt><dd><p>Map of packages</p></dd></dl><dl><dt class="spec type" id="type-name"><a href="#type-name" class="anchor"></a><code><span class="keyword">type</span> name</code><code> = <a href="../OpamPackage/Name/index.html#type-t">OpamPackage.Name.t</a></code></dt><dd><p>Package names</p></dd></dl><dl><dt class="spec type" id="type-name_set"><a href="#type-name_set" class="anchor"></a><code><span class="keyword">type</span> name_set</code><code> = <a href="../OpamPackage/Name/Set/index.html#type-t">OpamPackage.Name.Set.t</a></code></dt><dd><p>Set of package names</p></dd></dl><dl><dt class="spec type" id="type-name_map"><a href="#type-name_map" class="anchor"></a><code><span class="keyword">type</span> 'a name_map</code><code> = <span class="type-var">'a</span> <a href="../OpamPackage/Name/Map/index.html#type-t">OpamPackage.Name.Map.t</a></code></dt><dd><p>Map of package names</p></dd></dl><dl><dt class="spec type" id="type-version"><a href="#type-version" class="anchor"></a><code><span class="keyword">type</span> version</code><code> = <a href="../OpamPackage/Version/index.html#type-t">OpamPackage.Version.t</a></code></dt><dd><p>Package versions</p></dd></dl><dl><dt class="spec type" id="type-version_set"><a href="#type-version_set" class="anchor"></a><code><span class="keyword">type</span> version_set</code><code> = <a href="../OpamPackage/Version/Set/index.html#type-t">OpamPackage.Version.Set.t</a></code></dt><dd><p>Set of package versions</p></dd></dl><dl><dt class="spec type" id="type-opam_version"><a href="#type-opam_version" class="anchor"></a><code><span class="keyword">type</span> opam_version</code><code> = <a href="../../opam-core/OpamVersion/index.html#type-t">OpamVersion.t</a></code></dt><dd><p>OPAM versions</p></dd></dl></section><section><header><h3 id="variables"><a href="#variables" class="anchor"></a>Variables</h3></header><dl><dt class="spec type" id="type-variable"><a href="#type-variable" class="anchor"></a><code><span class="keyword">type</span> variable</code><code> = <a href="../OpamVariable/index.html#type-t">OpamVariable.t</a></code></dt><dd><p>Variables</p></dd></dl><dl><dt class="spec type" id="type-full_variable"><a href="#type-full_variable" class="anchor"></a><code><span class="keyword">type</span> full_variable</code><code> = <a href="../OpamVariable/Full/index.html#type-t">OpamVariable.Full.t</a></code></dt><dd><p>Fully qualified variables (ie. with the name of sections/sub-sections they appear in)</p></dd></dl><dl><dt class="spec type" id="type-variable_contents"><a href="#type-variable_contents" class="anchor"></a><code><span class="keyword">type</span> variable_contents</code><code> = <a href="../OpamVariable/index.html#type-variable_contents">OpamVariable.variable_contents</a></code><code> = </code><table class="variant"><tr id="type-variable_contents.B" class="anchored"><td class="def constructor"><a href="#type-variable_contents.B" class="anchor"></a><code>| </code><code><span class="constructor">B</span> <span class="keyword">of</span> bool</code></td></tr><tr id="type-variable_contents.S" class="anchored"><td class="def constructor"><a href="#type-variable_contents.S" class="anchor"></a><code>| </code><code><span class="constructor">S</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-variable_contents.L" class="anchored"><td class="def constructor"><a href="#type-variable_contents.L" class="anchor"></a><code>| </code><code><span class="constructor">L</span> <span class="keyword">of</span> string list</code></td></tr></table></dt><dd><p>Content of user-defined variables</p></dd></dl><dl><dt class="spec type" id="type-variable_map"><a href="#type-variable_map" class="anchor"></a><code><span class="keyword">type</span> variable_map</code><code> = <a href="../OpamVariable/index.html#type-variable_contents">OpamVariable.variable_contents</a> <a href="../OpamVariable/Map/index.html#type-t">OpamVariable.Map.t</a></code></dt><dd><p>A map from variables to their contents (i.e an environment)</p></dd></dl><dl><dt class="spec type" id="type-package_flag"><a href="#type-package_flag" class="anchor"></a><code><span class="keyword">type</span> package_flag</code><code> = </code><table class="variant"><tr id="type-package_flag.Pkgflag_LightUninstall" class="anchored"><td class="def constructor"><a href="#type-package_flag.Pkgflag_LightUninstall" class="anchor"></a><code>| </code><code><span class="constructor">Pkgflag_LightUninstall</span></code></td><td class="doc"><p>The package doesn't require downloading to uninstall</p></td></tr><tr id="type-package_flag.Pkgflag_Verbose" class="anchored"><td class="def constructor"><a href="#type-package_flag.Pkgflag_Verbose" class="anchor"></a><code>| </code><code><span class="constructor">Pkgflag_Verbose</span></code></td><td class="doc"><p>The package's scripts output is to be displayed to the user</p></td></tr><tr id="type-package_flag.Pkgflag_Plugin" class="anchored"><td class="def constructor"><a href="#type-package_flag.Pkgflag_Plugin" class="anchor"></a><code>| </code><code><span class="constructor">Pkgflag_Plugin</span></code></td><td class="doc"><p>The package is an opam plugin that will install a <code>opam-&lt;name&gt;</code> exec, and may be auto-installed when doing <code>opam &lt;name&gt;</code></p></td></tr><tr id="type-package_flag.Pkgflag_Compiler" class="anchored"><td class="def constructor"><a href="#type-package_flag.Pkgflag_Compiler" class="anchor"></a><code>| </code><code><span class="constructor">Pkgflag_Compiler</span></code></td><td class="doc"><p>Package may be used for 'opam switch'</p></td></tr><tr id="type-package_flag.Pkgflag_Conf" class="anchored"><td class="def constructor"><a href="#type-package_flag.Pkgflag_Conf" class="anchor"></a><code>| </code><code><span class="constructor">Pkgflag_Conf</span></code></td><td class="doc"><p>Virtual package: no source, no install or remove instructions, .install, but likely has depexts</p></td></tr><tr id="type-package_flag.Pkgflag_Unknown" class="anchored"><td class="def constructor"><a href="#type-package_flag.Pkgflag_Unknown" class="anchor"></a><code>| </code><code><span class="constructor">Pkgflag_Unknown</span> <span class="keyword">of</span> string</code></td><td class="doc"><p>Used for error reporting, otherwise ignored</p></td></tr></table></dt><dd><p>Opam package flags</p></dd></dl><dl><dt class="spec module-type" id="module-type-GenericPackage"><a href="#module-type-GenericPackage" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-GenericPackage/index.html">GenericPackage</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>At some point we want to abstract so that the same functions can be used over CUDF and OPAM packages</p></dd></dl></section><section><header><h3 id="formulas"><a href="#formulas" class="anchor"></a>Formulas</h3></header><dl><dt class="spec type" id="type-generic_formula"><a href="#type-generic_formula" class="anchor"></a><code><span class="keyword">type</span> 'a generic_formula</code><code> = <span class="type-var">'a</span> <a href="../OpamFormula/index.html#type-formula">OpamFormula.formula</a></code><code> = </code><table class="variant"><tr id="type-generic_formula.Empty" class="anchored"><td class="def constructor"><a href="#type-generic_formula.Empty" class="anchor"></a><code>| </code><code><span class="constructor">Empty</span></code></td></tr><tr id="type-generic_formula.Atom" class="anchored"><td class="def constructor"><a href="#type-generic_formula.Atom" class="anchor"></a><code>| </code><code><span class="constructor">Atom</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-generic_formula.Block" class="anchored"><td class="def constructor"><a href="#type-generic_formula.Block" class="anchor"></a><code>| </code><code><span class="constructor">Block</span> <span class="keyword">of</span> <span class="type-var">'a</span> <a href="index.html#type-generic_formula">generic_formula</a></code></td></tr><tr id="type-generic_formula.And" class="anchored"><td class="def constructor"><a href="#type-generic_formula.And" class="anchor"></a><code>| </code><code><span class="constructor">And</span> <span class="keyword">of</span> <span class="type-var">'a</span> <a href="index.html#type-generic_formula">generic_formula</a> * <span class="type-var">'a</span> <a href="index.html#type-generic_formula">generic_formula</a></code></td></tr><tr id="type-generic_formula.Or" class="anchored"><td class="def constructor"><a href="#type-generic_formula.Or" class="anchor"></a><code>| </code><code><span class="constructor">Or</span> <span class="keyword">of</span> <span class="type-var">'a</span> <a href="index.html#type-generic_formula">generic_formula</a> * <span class="type-var">'a</span> <a href="index.html#type-generic_formula">generic_formula</a></code></td></tr></table></dt><dd><p>A generic formula</p></dd></dl><dl><dt class="spec type" id="type-atom"><a href="#type-atom" class="anchor"></a><code><span class="keyword">type</span> atom</code><code> = <a href="../OpamFormula/index.html#type-atom">OpamFormula.atom</a></code></dt><dd><p>Formula atoms</p></dd></dl><dl><dt class="spec type" id="type-formula"><a href="#type-formula" class="anchor"></a><code><span class="keyword">type</span> formula</code><code> = <a href="../OpamFormula/index.html#type-t">OpamFormula.t</a></code></dt><dd><p>Formula over versionned packages</p></dd></dl><dl><dt class="spec type" id="type-conjunction"><a href="#type-conjunction" class="anchor"></a><code><span class="keyword">type</span> 'a conjunction</code><code> = <span class="type-var">'a</span> <a href="../OpamFormula/index.html#type-conjunction">OpamFormula.conjunction</a></code></dt><dd><p>AND formulat</p></dd></dl><dl><dt class="spec type" id="type-disjunction"><a href="#type-disjunction" class="anchor"></a><code><span class="keyword">type</span> 'a disjunction</code><code> = <span class="type-var">'a</span> <a href="../OpamFormula/index.html#type-disjunction">OpamFormula.disjunction</a></code></dt><dd><p>OR formulat</p></dd></dl></section><section><header><h3 id="repositories"><a href="#repositories" class="anchor"></a>Repositories</h3></header><dl><dt class="spec type" id="type-repository_name"><a href="#type-repository_name" class="anchor"></a><code><span class="keyword">type</span> repository_name</code><code> = <a href="../OpamRepositoryName/index.html#type-t">OpamRepositoryName.t</a></code></dt><dd><p>Repository names</p></dd></dl><dl><dt class="spec type" id="type-repository_name_map"><a href="#type-repository_name_map" class="anchor"></a><code><span class="keyword">type</span> 'a repository_name_map</code><code> = <span class="type-var">'a</span> <a href="../OpamRepositoryName/Map/index.html#type-t">OpamRepositoryName.Map.t</a></code></dt><dd><p>Maps of repository names</p></dd></dl><dl><dt class="spec type" id="type-url"><a href="#type-url" class="anchor"></a><code><span class="keyword">type</span> url</code><code> = <a href="../../opam-core/OpamUrl/index.html#type-t">OpamUrl.t</a></code></dt><dt class="spec type" id="type-trust_anchors"><a href="#type-trust_anchors" class="anchor"></a><code><span class="keyword">type</span> trust_anchors</code><code> = </code><code>{</code><table class="record"><tr id="type-trust_anchors.quorum" class="anchored"><td class="def field"><a href="#type-trust_anchors.quorum" class="anchor"></a><code>quorum : int;</code></td></tr><tr id="type-trust_anchors.fingerprints" class="anchored"><td class="def field"><a href="#type-trust_anchors.fingerprints" class="anchor"></a><code>fingerprints : string list;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-repository"><a href="#type-repository" class="anchor"></a><code><span class="keyword">type</span> repository</code><code> = </code><code>{</code><table class="record"><tr id="type-repository.repo_name" class="anchored"><td class="def field"><a href="#type-repository.repo_name" class="anchor"></a><code>repo_name : <a href="index.html#type-repository_name">repository_name</a>;</code></td></tr><tr id="type-repository.repo_root" class="anchored"><td class="def field"><a href="#type-repository.repo_root" class="anchor"></a><code>repo_root : <a href="index.html#type-dirname">dirname</a>;</code></td><td class="doc"><p>The root of opam's local mirror for this repo</p></td></tr><tr id="type-repository.repo_url" class="anchored"><td class="def field"><a href="#type-repository.repo_url" class="anchor"></a><code>repo_url : <a href="index.html#type-url">url</a>;</code></td></tr><tr id="type-repository.repo_trust" class="anchored"><td class="def field"><a href="#type-repository.repo_trust" class="anchor"></a><code>repo_trust : <a href="index.html#type-trust_anchors">trust_anchors</a> option;</code></td></tr></table><code>}</code></dt><dd><p>Repositories</p></dd></dl></section><section><header><h3 id="variable-based-filters"><a href="#variable-based-filters" class="anchor"></a>Variable-based filters</h3></header><dl><dt class="spec type" id="type-filter"><a href="#type-filter" class="anchor"></a><code><span class="keyword">type</span> filter</code><code> = </code><table class="variant"><tr id="type-filter.FBool" class="anchored"><td class="def constructor"><a href="#type-filter.FBool" class="anchor"></a><code>| </code><code><span class="constructor">FBool</span> <span class="keyword">of</span> bool</code></td></tr><tr id="type-filter.FString" class="anchored"><td class="def constructor"><a href="#type-filter.FString" class="anchor"></a><code>| </code><code><span class="constructor">FString</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-filter.FIdent" class="anchored"><td class="def constructor"><a href="#type-filter.FIdent" class="anchor"></a><code>| </code><code><span class="constructor">FIdent</span> <span class="keyword">of</span> <a href="index.html#type-name">name</a> option list * <a href="index.html#type-variable">variable</a> * (string * string) option</code></td><td class="doc"><p>packages (or None for self-ref through &quot;_&quot;), variable name, string converter (val_if_true, val_if_false_or_undef)</p></td></tr><tr id="type-filter.FOp" class="anchored"><td class="def constructor"><a href="#type-filter.FOp" class="anchor"></a><code>| </code><code><span class="constructor">FOp</span> <span class="keyword">of</span> <a href="index.html#type-filter">filter</a> * <a href="index.html#type-relop">relop</a> * <a href="index.html#type-filter">filter</a></code></td></tr><tr id="type-filter.FAnd" class="anchored"><td class="def constructor"><a href="#type-filter.FAnd" class="anchor"></a><code>| </code><code><span class="constructor">FAnd</span> <span class="keyword">of</span> <a href="index.html#type-filter">filter</a> * <a href="index.html#type-filter">filter</a></code></td></tr><tr id="type-filter.FOr" class="anchored"><td class="def constructor"><a href="#type-filter.FOr" class="anchor"></a><code>| </code><code><span class="constructor">FOr</span> <span class="keyword">of</span> <a href="index.html#type-filter">filter</a> * <a href="index.html#type-filter">filter</a></code></td></tr><tr id="type-filter.FNot" class="anchored"><td class="def constructor"><a href="#type-filter.FNot" class="anchor"></a><code>| </code><code><span class="constructor">FNot</span> <span class="keyword">of</span> <a href="index.html#type-filter">filter</a></code></td></tr><tr id="type-filter.FDefined" class="anchored"><td class="def constructor"><a href="#type-filter.FDefined" class="anchor"></a><code>| </code><code><span class="constructor">FDefined</span> <span class="keyword">of</span> <a href="index.html#type-filter">filter</a></code></td></tr><tr id="type-filter.FUndef" class="anchored"><td class="def constructor"><a href="#type-filter.FUndef" class="anchor"></a><code>| </code><code><span class="constructor">FUndef</span> <span class="keyword">of</span> <a href="index.html#type-filter">filter</a></code></td><td class="doc"><p>Returned by reduce functions when the filter could not be resolved to an atom (due to undefined variables or string expansions). The argument contains the partially reduced filter, where strings may still contain expansions (and are otherwise escaped). Used both for partial evaluation, and error messaging. Not allowed as an argument to other filters</p></td></tr></table></dt></dl></section><section><header><h3 id="filtered-formulas-(to-express-conditional-dependencies)"><a href="#filtered-formulas-(to-express-conditional-dependencies)" class="anchor"></a>Filtered formulas (to express conditional dependencies)</h3><p>These are first reduced to only the dependency-flag variables build, doc, dev, test defined in <code>Opam formulas</code></p></header><dl><dt class="spec type" id="type-filter_or_constraint"><a href="#type-filter_or_constraint" class="anchor"></a><code><span class="keyword">type</span> 'a filter_or_constraint</code><code> = </code><table class="variant"><tr id="type-filter_or_constraint.Filter" class="anchored"><td class="def constructor"><a href="#type-filter_or_constraint.Filter" class="anchor"></a><code>| </code><code><span class="constructor">Filter</span> <span class="keyword">of</span> <a href="index.html#type-filter">filter</a></code></td></tr><tr id="type-filter_or_constraint.Constraint" class="anchored"><td class="def constructor"><a href="#type-filter_or_constraint.Constraint" class="anchor"></a><code>| </code><code><span class="constructor">Constraint</span> <span class="keyword">of</span> <a href="index.html#type-relop">relop</a> * <span class="type-var">'a</span></code></td></tr></table></dt><dt class="spec type" id="type-filtered_formula"><a href="#type-filtered_formula" class="anchor"></a><code><span class="keyword">type</span> filtered_formula</code><code> = (<a href="index.html#type-name">name</a> * <a href="index.html#type-filter">filter</a> <a href="index.html#type-filter_or_constraint">filter_or_constraint</a> <a href="../OpamFormula/index.html#type-formula">OpamFormula.formula</a>) <a href="../OpamFormula/index.html#type-formula">OpamFormula.formula</a></code></dt></dl></section><section><header><h3 id="solver"><a href="#solver" class="anchor"></a>Solver</h3></header><dl><dt class="spec type" id="type-atomic_action"><a href="#type-atomic_action" class="anchor"></a><code><span class="keyword">type</span> 'a atomic_action</code> = <code>[ </code><table class="variant"><tr id="type-atomic_action.Remove" class="anchored"><td class="def constructor"><a href="#type-atomic_action.Remove" class="anchor"></a><code>| </code><code>`Remove <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-atomic_action.Install" class="anchored"><td class="def constructor"><a href="#type-atomic_action.Install" class="anchor"></a><code>| </code><code>`Install <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr></table><code> ]</code></dt><dd><p>Used internally when computing sequences of actions</p></dd></dl><dl><dt class="spec type" id="type-highlevel_action"><a href="#type-highlevel_action" class="anchor"></a><code><span class="keyword">type</span> 'a highlevel_action</code> = <code>[ </code><table class="variant"><tr id="type-highlevel_action.atomic_action" class="anchored"><td class="def type"><a href="#type-highlevel_action.atomic_action" class="anchor"></a><code>| </code><code><span class="type-var">'a</span> <a href="index.html#type-atomic_action">atomic_action</a></code></td></tr><tr id="type-highlevel_action.Change" class="anchored"><td class="def constructor"><a href="#type-highlevel_action.Change" class="anchor"></a><code>| </code><code>`Change <span class="keyword">of</span> [ `Up | `Down ] * <span class="type-var">'a</span> * <span class="type-var">'a</span></code></td></tr><tr id="type-highlevel_action.Reinstall" class="anchored"><td class="def constructor"><a href="#type-highlevel_action.Reinstall" class="anchor"></a><code>| </code><code>`Reinstall <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr></table><code> ]</code></dt><dd><p>Used to compact the atomic actions and display to the user in a more meaningful way</p></dd></dl><dl><dt class="spec type" id="type-inst_action"><a href="#type-inst_action" class="anchor"></a><code><span class="keyword">type</span> 'a inst_action</code> = <code>[ </code><table class="variant"><tr id="type-inst_action.Install" class="anchored"><td class="def constructor"><a href="#type-inst_action.Install" class="anchor"></a><code>| </code><code>`Install <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-inst_action.Change" class="anchored"><td class="def constructor"><a href="#type-inst_action.Change" class="anchor"></a><code>| </code><code>`Change <span class="keyword">of</span> [ `Up | `Down ] * <span class="type-var">'a</span> * <span class="type-var">'a</span></code></td></tr></table><code> ]</code></dt><dd><p>Sub-type of <code>highlevel_action</code> corresponding to an installed package that changed state or version</p></dd></dl><dl><dt class="spec type" id="type-concrete_action"><a href="#type-concrete_action" class="anchor"></a><code><span class="keyword">type</span> 'a concrete_action</code> = <code>[ </code><table class="variant"><tr id="type-concrete_action.atomic_action" class="anchored"><td class="def type"><a href="#type-concrete_action.atomic_action" class="anchor"></a><code>| </code><code><span class="type-var">'a</span> <a href="index.html#type-atomic_action">atomic_action</a></code></td></tr><tr id="type-concrete_action.Build" class="anchored"><td class="def constructor"><a href="#type-concrete_action.Build" class="anchor"></a><code>| </code><code>`Build <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr></table><code> ]</code></dt><dd><p>Used when applying solutions, separates build from install</p></dd></dl><dl><dt class="spec type" id="type-action"><a href="#type-action" class="anchor"></a><code><span class="keyword">type</span> 'a action</code> = <code>[ </code><table class="variant"><tr id="type-action.atomic_action" class="anchored"><td class="def type"><a href="#type-action.atomic_action" class="anchor"></a><code>| </code><code><span class="type-var">'a</span> <a href="index.html#type-atomic_action">atomic_action</a></code></td></tr><tr id="type-action.highlevel_action" class="anchored"><td class="def type"><a href="#type-action.highlevel_action" class="anchor"></a><code>| </code><code><span class="type-var">'a</span> <a href="index.html#type-highlevel_action">highlevel_action</a></code></td></tr><tr id="type-action.concrete_action" class="anchored"><td class="def type"><a href="#type-action.concrete_action" class="anchor"></a><code>| </code><code><span class="type-var">'a</span> <a href="index.html#type-concrete_action">concrete_action</a></code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-cause"><a href="#type-cause" class="anchor"></a><code><span class="keyword">type</span> 'a cause</code><code> = </code><table class="variant"><tr id="type-cause.Use" class="anchored"><td class="def constructor"><a href="#type-cause.Use" class="anchor"></a><code>| </code><code><span class="constructor">Use</span> <span class="keyword">of</span> <span class="type-var">'a</span> list</code></td></tr><tr id="type-cause.Required_by" class="anchored"><td class="def constructor"><a href="#type-cause.Required_by" class="anchor"></a><code>| </code><code><span class="constructor">Required_by</span> <span class="keyword">of</span> <span class="type-var">'a</span> list</code></td></tr><tr id="type-cause.Conflicts_with" class="anchored"><td class="def constructor"><a href="#type-cause.Conflicts_with" class="anchor"></a><code>| </code><code><span class="constructor">Conflicts_with</span> <span class="keyword">of</span> <span class="type-var">'a</span> list</code></td></tr><tr id="type-cause.Upstream_changes" class="anchored"><td class="def constructor"><a href="#type-cause.Upstream_changes" class="anchor"></a><code>| </code><code><span class="constructor">Upstream_changes</span></code></td></tr><tr id="type-cause.Requested" class="anchored"><td class="def constructor"><a href="#type-cause.Requested" class="anchor"></a><code>| </code><code><span class="constructor">Requested</span></code></td></tr><tr id="type-cause.Unknown" class="anchored"><td class="def constructor"><a href="#type-cause.Unknown" class="anchor"></a><code>| </code><code><span class="constructor">Unknown</span></code></td></tr></table></dt><dd><p>The possible causes of an action.</p></dd></dl><dl><dt class="spec type" id="type-solver_result"><a href="#type-solver_result" class="anchor"></a><code><span class="keyword">type</span> solver_result</code><code> = </code><table class="variant"><tr id="type-solver_result.Nothing_to_do" class="anchored"><td class="def constructor"><a href="#type-solver_result.Nothing_to_do" class="anchor"></a><code>| </code><code><span class="constructor">Nothing_to_do</span></code></td></tr><tr id="type-solver_result.OK" class="anchored"><td class="def constructor"><a href="#type-solver_result.OK" class="anchor"></a><code>| </code><code><span class="constructor">OK</span> <span class="keyword">of</span> <a href="index.html#type-package">package</a> <a href="index.html#type-action">action</a> list</code></td><td class="doc"><p>List of successful actions</p></td></tr><tr id="type-solver_result.Aborted" class="anchored"><td class="def constructor"><a href="#type-solver_result.Aborted" class="anchor"></a><code>| </code><code><span class="constructor">Aborted</span></code></td></tr><tr id="type-solver_result.No_solution" class="anchored"><td class="def constructor"><a href="#type-solver_result.No_solution" class="anchor"></a><code>| </code><code><span class="constructor">No_solution</span></code></td></tr><tr id="type-solver_result.Partial_error" class="anchored"><td class="def constructor"><a href="#type-solver_result.Partial_error" class="anchor"></a><code>| </code><code><span class="constructor">Partial_error</span> <span class="keyword">of</span> <a href="index.html#type-package">package</a> <a href="index.html#type-action">action</a> list * <a href="index.html#type-package">package</a> <a href="index.html#type-action">action</a> list * <a href="index.html#type-package">package</a> <a href="index.html#type-action">action</a> list</code></td><td class="doc"><p>List of successful actions, list of actions with errors, list of remaining undone actions</p></td></tr></table></dt><dd><p>Solver result</p></dd></dl><dl><dt class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><code><span class="keyword">type</span> ('a, 'b) result</code><code> = </code><table class="variant"><tr id="type-result.Success" class="anchored"><td class="def constructor"><a href="#type-result.Success" class="anchor"></a><code>| </code><code><span class="constructor">Success</span> <span class="keyword">of</span> <span class="type-var">'a</span></code></td></tr><tr id="type-result.Conflicts" class="anchored"><td class="def constructor"><a href="#type-result.Conflicts" class="anchor"></a><code>| </code><code><span class="constructor">Conflicts</span> <span class="keyword">of</span> <span class="type-var">'b</span></code></td></tr></table></dt><dd><p>Solver result</p></dd></dl><dl><dt class="spec type" id="type-solver_criteria"><a href="#type-solver_criteria" class="anchor"></a><code><span class="keyword">type</span> solver_criteria</code> = <code>[ </code><table class="variant"><tr id="type-solver_criteria.Default" class="anchored"><td class="def constructor"><a href="#type-solver_criteria.Default" class="anchor"></a><code>| </code><code>`Default</code></td></tr><tr id="type-solver_criteria.Upgrade" class="anchored"><td class="def constructor"><a href="#type-solver_criteria.Upgrade" class="anchor"></a><code>| </code><code>`Upgrade</code></td></tr><tr id="type-solver_criteria.Fixup" class="anchored"><td class="def constructor"><a href="#type-solver_criteria.Fixup" class="anchor"></a><code>| </code><code>`Fixup</code></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-request"><a href="#type-request" class="anchor"></a><code><span class="keyword">type</span> 'a request</code><code> = </code><code>{</code><table class="record"><tr id="type-request.criteria" class="anchored"><td class="def field"><a href="#type-request.criteria" class="anchor"></a><code>criteria : <a href="index.html#type-solver_criteria">solver_criteria</a>;</code></td></tr><tr id="type-request.wish_install" class="anchored"><td class="def field"><a href="#type-request.wish_install" class="anchor"></a><code>wish_install : <span class="type-var">'a</span> <a href="index.html#type-conjunction">conjunction</a>;</code></td></tr><tr id="type-request.wish_remove" class="anchored"><td class="def field"><a href="#type-request.wish_remove" class="anchor"></a><code>wish_remove : <span class="type-var">'a</span> <a href="index.html#type-conjunction">conjunction</a>;</code></td></tr><tr id="type-request.wish_upgrade" class="anchored"><td class="def field"><a href="#type-request.wish_upgrade" class="anchor"></a><code>wish_upgrade : <span class="type-var">'a</span> <a href="index.html#type-conjunction">conjunction</a>;</code></td></tr><tr id="type-request.extra_attributes" class="anchored"><td class="def field"><a href="#type-request.extra_attributes" class="anchor"></a><code>extra_attributes : string list;</code></td></tr></table><code>}</code></dt><dd><p>Solver request</p></dd></dl><dl><dt class="spec type" id="type-user_action"><a href="#type-user_action" class="anchor"></a><code><span class="keyword">type</span> user_action</code><code> = </code><table class="variant"><tr id="type-user_action.Query" class="anchored"><td class="def constructor"><a href="#type-user_action.Query" class="anchor"></a><code>| </code><code><span class="constructor">Query</span></code></td></tr><tr id="type-user_action.Install" class="anchored"><td class="def constructor"><a href="#type-user_action.Install" class="anchor"></a><code>| </code><code><span class="constructor">Install</span></code></td></tr><tr id="type-user_action.Upgrade" class="anchored"><td class="def constructor"><a href="#type-user_action.Upgrade" class="anchor"></a><code>| </code><code><span class="constructor">Upgrade</span></code></td></tr><tr id="type-user_action.Reinstall" class="anchored"><td class="def constructor"><a href="#type-user_action.Reinstall" class="anchor"></a><code>| </code><code><span class="constructor">Reinstall</span></code></td></tr><tr id="type-user_action.Remove" class="anchored"><td class="def constructor"><a href="#type-user_action.Remove" class="anchor"></a><code>| </code><code><span class="constructor">Remove</span></code></td></tr><tr id="type-user_action.Switch" class="anchored"><td class="def constructor"><a href="#type-user_action.Switch" class="anchor"></a><code>| </code><code><span class="constructor">Switch</span></code></td></tr><tr id="type-user_action.Import" class="anchored"><td class="def constructor"><a href="#type-user_action.Import" class="anchor"></a><code>| </code><code><span class="constructor">Import</span></code></td></tr></table></dt><dd><p>user request action</p></dd></dl><dl><dt class="spec type" id="type-universe"><a href="#type-universe" class="anchor"></a><code><span class="keyword">type</span> universe</code><code> = </code><code>{</code><table class="record"><tr id="type-universe.u_packages" class="anchored"><td class="def field"><a href="#type-universe.u_packages" class="anchor"></a><code>u_packages : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-universe.u_installed" class="anchored"><td class="def field"><a href="#type-universe.u_installed" class="anchor"></a><code>u_installed : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-universe.u_available" class="anchored"><td class="def field"><a href="#type-universe.u_available" class="anchor"></a><code>u_available : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-universe.u_depends" class="anchored"><td class="def field"><a href="#type-universe.u_depends" class="anchor"></a><code>u_depends : <a href="index.html#type-filtered_formula">filtered_formula</a> <a href="index.html#type-package_map">package_map</a>;</code></td></tr><tr id="type-universe.u_depopts" class="anchored"><td class="def field"><a href="#type-universe.u_depopts" class="anchor"></a><code>u_depopts : <a href="index.html#type-filtered_formula">filtered_formula</a> <a href="index.html#type-package_map">package_map</a>;</code></td></tr><tr id="type-universe.u_conflicts" class="anchored"><td class="def field"><a href="#type-universe.u_conflicts" class="anchor"></a><code>u_conflicts : <a href="index.html#type-formula">formula</a> <a href="index.html#type-package_map">package_map</a>;</code></td></tr><tr id="type-universe.u_action" class="anchored"><td class="def field"><a href="#type-universe.u_action" class="anchor"></a><code>u_action : <a href="index.html#type-user_action">user_action</a>;</code></td></tr><tr id="type-universe.u_installed_roots" class="anchored"><td class="def field"><a href="#type-universe.u_installed_roots" class="anchor"></a><code>u_installed_roots : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-universe.u_pinned" class="anchored"><td class="def field"><a href="#type-universe.u_pinned" class="anchor"></a><code>u_pinned : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-universe.u_base" class="anchored"><td class="def field"><a href="#type-universe.u_base" class="anchor"></a><code>u_base : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-universe.u_reinstall" class="anchored"><td class="def field"><a href="#type-universe.u_reinstall" class="anchor"></a><code>u_reinstall : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-universe.u_attrs" class="anchored"><td class="def field"><a href="#type-universe.u_attrs" class="anchor"></a><code>u_attrs : (string * <a href="index.html#type-package_set">package_set</a>) list;</code></td></tr></table><code>}</code></dt><dd><p>Solver universe</p></dd></dl></section><section><header><h3 id="command-line-arguments"><a href="#command-line-arguments" class="anchor"></a>Command line arguments</h3></header><dl><dt class="spec type" id="type-pin_kind"><a href="#type-pin_kind" class="anchor"></a><code><span class="keyword">type</span> pin_kind</code> = <code>[ </code><table class="variant"><tr id="type-pin_kind.version" class="anchored"><td class="def constructor"><a href="#type-pin_kind.version" class="anchor"></a><code>| </code><code>`version</code></td></tr><tr id="type-pin_kind.OpamUrl.backend" class="anchored"><td class="def type"><a href="#type-pin_kind.OpamUrl.backend" class="anchor"></a><code>| </code><code><a href="../../opam-core/OpamUrl/index.html#type-backend">OpamUrl.backend</a></code></td></tr></table><code> ]</code></dt><dd><p>Pin kind</p></dd></dl><dl><dt class="spec type" id="type-shell"><a href="#type-shell" class="anchor"></a><code><span class="keyword">type</span> shell</code><code> = <a href="../../opam-core/OpamStd/Sys/index.html#type-shell">OpamStd.Sys.shell</a></code><code> = </code><table class="variant"><tr id="type-shell.SH_sh" class="anchored"><td class="def constructor"><a href="#type-shell.SH_sh" class="anchor"></a><code>| </code><code><span class="constructor">SH_sh</span></code></td></tr><tr id="type-shell.SH_bash" class="anchored"><td class="def constructor"><a href="#type-shell.SH_bash" class="anchor"></a><code>| </code><code><span class="constructor">SH_bash</span></code></td></tr><tr id="type-shell.SH_zsh" class="anchored"><td class="def constructor"><a href="#type-shell.SH_zsh" class="anchor"></a><code>| </code><code><span class="constructor">SH_zsh</span></code></td></tr><tr id="type-shell.SH_csh" class="anchored"><td class="def constructor"><a href="#type-shell.SH_csh" class="anchor"></a><code>| </code><code><span class="constructor">SH_csh</span></code></td></tr><tr id="type-shell.SH_fish" class="anchored"><td class="def constructor"><a href="#type-shell.SH_fish" class="anchor"></a><code>| </code><code><span class="constructor">SH_fish</span></code></td></tr></table></dt><dd><p>Shell compatibility modes</p></dd></dl></section><section><header><h3 id="generic-command-line-definitions-with-filters"><a href="#generic-command-line-definitions-with-filters" class="anchor"></a>Generic command-line definitions with filters</h3></header><dl><dt class="spec type" id="type-simple_arg"><a href="#type-simple_arg" class="anchor"></a><code><span class="keyword">type</span> simple_arg</code><code> = </code><table class="variant"><tr id="type-simple_arg.CString" class="anchored"><td class="def constructor"><a href="#type-simple_arg.CString" class="anchor"></a><code>| </code><code><span class="constructor">CString</span> <span class="keyword">of</span> string</code></td></tr><tr id="type-simple_arg.CIdent" class="anchored"><td class="def constructor"><a href="#type-simple_arg.CIdent" class="anchor"></a><code>| </code><code><span class="constructor">CIdent</span> <span class="keyword">of</span> string</code></td></tr></table></dt><dd><p>A command argument</p></dd></dl><dl><dt class="spec type" id="type-arg"><a href="#type-arg" class="anchor"></a><code><span class="keyword">type</span> arg</code><code> = <a href="index.html#type-simple_arg">simple_arg</a> * <a href="index.html#type-filter">filter</a> option</code></dt><dd><p>Command argument</p></dd></dl><dl><dt class="spec type" id="type-command"><a href="#type-command" class="anchor"></a><code><span class="keyword">type</span> command</code><code> = <a href="index.html#type-arg">arg</a> list * <a href="index.html#type-filter">filter</a> option</code></dt><dd><p>Command</p></dd></dl></section><section><header><h3 id="switches"><a href="#switches" class="anchor"></a>Switches</h3></header><dl><dt class="spec type" id="type-switch"><a href="#type-switch" class="anchor"></a><code><span class="keyword">type</span> switch</code><code> = <a href="../OpamSwitch/index.html#type-t">OpamSwitch.t</a></code></dt><dd><p>Compiler switches</p></dd></dl><dl><dt class="spec type" id="type-switch_set"><a href="#type-switch_set" class="anchor"></a><code><span class="keyword">type</span> switch_set</code><code> = <a href="../OpamSwitch/Set/index.html#type-t">OpamSwitch.Set.t</a></code></dt><dd><p>Set of compiler switches</p></dd></dl><dl><dt class="spec type" id="type-switch_map"><a href="#type-switch_map" class="anchor"></a><code><span class="keyword">type</span> 'a switch_map</code><code> = <span class="type-var">'a</span> <a href="../OpamSwitch/Map/index.html#type-t">OpamSwitch.Map.t</a></code></dt><dd><p>Map of compile switches</p></dd></dl><dl><dt class="spec type" id="type-switch_selections"><a href="#type-switch_selections" class="anchor"></a><code><span class="keyword">type</span> switch_selections</code><code> = </code><code>{</code><table class="record"><tr id="type-switch_selections.sel_installed" class="anchored"><td class="def field"><a href="#type-switch_selections.sel_installed" class="anchor"></a><code>sel_installed : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-switch_selections.sel_roots" class="anchored"><td class="def field"><a href="#type-switch_selections.sel_roots" class="anchor"></a><code>sel_roots : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-switch_selections.sel_compiler" class="anchored"><td class="def field"><a href="#type-switch_selections.sel_compiler" class="anchor"></a><code>sel_compiler : <a href="index.html#type-package_set">package_set</a>;</code></td></tr><tr id="type-switch_selections.sel_pinned" class="anchored"><td class="def field"><a href="#type-switch_selections.sel_pinned" class="anchor"></a><code>sel_pinned : <a href="index.html#type-package_set">package_set</a>;</code></td></tr></table><code>}</code></dt></dl></section><section><header><h3 id="misc"><a href="#misc" class="anchor"></a>Misc</h3></header><dl><dt class="spec type" id="type-lock"><a href="#type-lock" class="anchor"></a><code><span class="keyword">type</span> lock</code><code> = </code><table class="variant"><tr id="type-lock.Read_lock" class="anchored"><td class="def constructor"><a href="#type-lock.Read_lock" class="anchor"></a><code>| </code><code><span class="constructor">Read_lock</span> <span class="keyword">of</span> unit <span>&#45;&gt;</span> unit</code></td><td class="doc"><p>The function does not modify anything, but it needs the state not to change while it is running.</p></td></tr><tr id="type-lock.Global_lock" class="anchored"><td class="def constructor"><a href="#type-lock.Global_lock" class="anchor"></a><code>| </code><code><span class="constructor">Global_lock</span> <span class="keyword">of</span> unit <span>&#45;&gt;</span> unit</code></td><td class="doc"><p>Take the global lock, all subsequent calls to OPAM are blocked.</p></td></tr><tr id="type-lock.Switch_lock" class="anchored"><td class="def constructor"><a href="#type-lock.Switch_lock" class="anchor"></a><code>| </code><code><span class="constructor">Switch_lock</span> <span class="keyword">of</span> unit <span>&#45;&gt;</span> <a href="index.html#type-switch">switch</a> * unit <span>&#45;&gt;</span> unit</code></td><td class="doc"><p>Take a global read lock and a switch lock. The first function is called with the read lock, then the second function is called with the returned switch write-locked.</p></td></tr><tr id="type-lock.Global_with_switch_cont_lock" class="anchored"><td class="def constructor"><a href="#type-lock.Global_with_switch_cont_lock" class="anchor"></a><code>| </code><code><span class="constructor">Global_with_switch_cont_lock</span> <span class="keyword">of</span> unit <span>&#45;&gt;</span> <a href="index.html#type-switch">switch</a> * (unit <span>&#45;&gt;</span> unit)</code></td><td class="doc"><p>Call the function in a global lock, then relax to a switch lock and call the function it returned</p></td></tr></table></dt><dd><p>The different kinds of locks</p></dd></dl><dl><dt class="spec type" id="type-file_attribute"><a href="#type-file_attribute" class="anchor"></a><code><span class="keyword">type</span> file_attribute</code><code> = <a href="../../opam-core/OpamFilename/Attribute/index.html#type-t">OpamFilename.Attribute.t</a></code></dt><dd><p>A line in <i>urls.tx</i></p></dd></dl><dl><dt class="spec type" id="type-file_attribute_set"><a href="#type-file_attribute_set" class="anchor"></a><code><span class="keyword">type</span> file_attribute_set</code><code> = <a href="../../opam-core/OpamFilename/Attribute/Set/index.html#type-t">OpamFilename.Attribute.Set.t</a></code></dt><dd><p>All the lines in <i>urls.txt</i></p></dd></dl><dl><dt class="spec type" id="type-optional"><a href="#type-optional" class="anchor"></a><code><span class="keyword">type</span> 'a optional</code><code> = </code><code>{</code><table class="record"><tr id="type-optional.c" class="anchored"><td class="def field"><a href="#type-optional.c" class="anchor"></a><code>c : <span class="type-var">'a</span>;</code></td><td class="doc"><p>Contents</p></td></tr><tr id="type-optional.optional" class="anchored"><td class="def field"><a href="#type-optional.optional" class="anchor"></a><code>optional : bool;</code></td><td class="doc"><p>Is the contents optional</p></td></tr></table><code>}</code></dt><dd><p>Optional contents</p></dd></dl><dl><dt class="spec type" id="type-stats"><a href="#type-stats" class="anchor"></a><code><span class="keyword">type</span> stats</code><code> = </code><code>{</code><table class="record"><tr id="type-stats.s_install" class="anchored"><td class="def field"><a href="#type-stats.s_install" class="anchor"></a><code>s_install : int;</code></td></tr><tr id="type-stats.s_reinstall" class="anchored"><td class="def field"><a href="#type-stats.s_reinstall" class="anchor"></a><code>s_reinstall : int;</code></td></tr><tr id="type-stats.s_upgrade" class="anchored"><td class="def field"><a href="#type-stats.s_upgrade" class="anchor"></a><code>s_upgrade : int;</code></td></tr><tr id="type-stats.s_downgrade" class="anchored"><td class="def field"><a href="#type-stats.s_downgrade" class="anchor"></a><code>s_downgrade : int;</code></td></tr><tr id="type-stats.s_remove" class="anchored"><td class="def field"><a href="#type-stats.s_remove" class="anchor"></a><code>s_remove : int;</code></td></tr></table><code>}</code></dt><dd><p>Upgrade statistics</p></dd></dl><dl><dt class="spec type" id="type-env"><a href="#type-env" class="anchor"></a><code><span class="keyword">type</span> env</code><code> = (string * string * string option) list</code></dt><dd><p>Environement variables: var name, value, optional comment</p></dd></dl><dl><dt class="spec type" id="type-env_update"><a href="#type-env_update" class="anchor"></a><code><span class="keyword">type</span> env_update</code><code> = string * <a href="index.html#type-env_update_op">env_update_op</a> * string * string option</code></dt><dd><p>Environment updates</p><p>var, update_op, value, comment</p></dd></dl><dl><dt class="spec type" id="type-tags"><a href="#type-tags" class="anchor"></a><code><span class="keyword">type</span> tags</code><code> = <a href="../../opam-core/OpamStd/String/Set/index.html#type-t">OpamStd.String.Set.t</a> <a href="../../opam-core/OpamStd/String/SetMap/index.html#type-t">OpamStd.String.SetMap.t</a></code></dt><dd><p>Tags</p></dd></dl></section><section><header><h3 id="repository-and-global-states"><a href="#repository-and-global-states" class="anchor"></a>Repository and global states</h3></header><dl><dt class="spec type" id="type-checksums"><a href="#type-checksums" class="anchor"></a><code><span class="keyword">type</span> checksums</code><code> = string list</code></dt><dd><p>Checksums</p></dd></dl><dl><dt class="spec type" id="type-json"><a href="#type-json" class="anchor"></a><code><span class="keyword">type</span> json</code><code> = <a href="../../opam-core/OpamJson/index.html#type-t">OpamJson.t</a></code></dt><dd><h3 id="json"><a href="#json" class="anchor"></a>JSON</h3></dd></dl></section></div></body></html>